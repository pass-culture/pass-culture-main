"use strict";(self.webpackChunkpass_culture_pro=self.webpackChunkpass_culture_pro||[]).push([[1218],{"./src/apiClient/api.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{hi:function(){return api}});var _Symbol$toStringTag,config=__webpack_require__("./src/utils/config.ts"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),BaseHttpRequest=(0,createClass.Z)((function BaseHttpRequest(config){(0,classCallCheck.Z)(this,BaseHttpRequest),this.config=config})),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),wrapNativeSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),ApiError=function(_Error){(0,inherits.Z)(ApiError,_Error);var _super=(0,createSuper.Z)(ApiError);function ApiError(request,response,message){var _this;return(0,classCallCheck.Z)(this,ApiError),(_this=_super.call(this,message)).url=void 0,_this.status=void 0,_this.statusText=void 0,_this.body=void 0,_this.request=void 0,_this.name="ApiError",_this.url=response.url,_this.status=response.status,_this.statusText=response.statusText,_this.body=response.body,_this.request=request,_this}return(0,createClass.Z)(ApiError)}((0,wrapNativeSuper.Z)(Error)),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),classPrivateFieldLooseBase=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js"),classPrivateFieldLooseKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js"),CancelError=function(_Error){(0,inherits.Z)(CancelError,_Error);var _super=(0,createSuper.Z)(CancelError);function CancelError(message){var _this;return(0,classCallCheck.Z)(this,CancelError),(_this=_super.call(this,message)).name="CancelError",_this}return(0,createClass.Z)(CancelError,[{key:"isCancelled",get:function get(){return!0}}]),CancelError}((0,wrapNativeSuper.Z)(Error)),_isResolved=(0,classPrivateFieldLooseKey.Z)("isResolved"),_isRejected=(0,classPrivateFieldLooseKey.Z)("isRejected"),_isCancelled=(0,classPrivateFieldLooseKey.Z)("isCancelled"),_cancelHandlers=(0,classPrivateFieldLooseKey.Z)("cancelHandlers"),_promise=(0,classPrivateFieldLooseKey.Z)("promise"),_resolve=(0,classPrivateFieldLooseKey.Z)("resolve"),_reject=(0,classPrivateFieldLooseKey.Z)("reject");_Symbol$toStringTag=Symbol.toStringTag;var _getDataFromAddress,CancelablePromise=function(){function CancelablePromise(executor){var _this2=this;(0,classCallCheck.Z)(this,CancelablePromise),Object.defineProperty(this,_isResolved,{writable:!0,value:void 0}),Object.defineProperty(this,_isRejected,{writable:!0,value:void 0}),Object.defineProperty(this,_isCancelled,{writable:!0,value:void 0}),Object.defineProperty(this,_cancelHandlers,{writable:!0,value:void 0}),Object.defineProperty(this,_promise,{writable:!0,value:void 0}),Object.defineProperty(this,_resolve,{writable:!0,value:void 0}),Object.defineProperty(this,_reject,{writable:!0,value:void 0}),(0,classPrivateFieldLooseBase.Z)(this,_isResolved)[_isResolved]=!1,(0,classPrivateFieldLooseBase.Z)(this,_isRejected)[_isRejected]=!1,(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]=!1,(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers]=[],(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise]=new Promise((function(resolve,reject){(0,classPrivateFieldLooseBase.Z)(_this2,_resolve)[_resolve]=resolve,(0,classPrivateFieldLooseBase.Z)(_this2,_reject)[_reject]=reject;var onCancel=function onCancel(cancelHandler){(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||(0,classPrivateFieldLooseBase.Z)(_this2,_cancelHandlers)[_cancelHandlers].push(cancelHandler)};return Object.defineProperty(onCancel,"isResolved",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]}}),Object.defineProperty(onCancel,"isRejected",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]}}),Object.defineProperty(onCancel,"isCancelled",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]}}),executor((function onResolve(value){var _classPrivateFieldLoo,_classPrivateFieldLoo2;(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||((0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]=!0,null===(_classPrivateFieldLoo=(_classPrivateFieldLoo2=(0,classPrivateFieldLooseBase.Z)(_this2,_resolve))[_resolve])||void 0===_classPrivateFieldLoo||_classPrivateFieldLoo.call(_classPrivateFieldLoo2,value))}),(function onReject(reason){var _classPrivateFieldLoo3,_classPrivateFieldLoo4;(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||((0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]=!0,null===(_classPrivateFieldLoo3=(_classPrivateFieldLoo4=(0,classPrivateFieldLooseBase.Z)(_this2,_reject))[_reject])||void 0===_classPrivateFieldLoo3||_classPrivateFieldLoo3.call(_classPrivateFieldLoo4,reason))}),onCancel)}))}return(0,createClass.Z)(CancelablePromise,[{key:_Symbol$toStringTag,get:function get(){return"Cancellable Promise"}},{key:"then",value:function then(onFulfilled,onRejected){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].then(onFulfilled,onRejected)}},{key:"catch",value:function _catch(onRejected){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].catch(onRejected)}},{key:"finally",value:function _finally(onFinally){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].finally(onFinally)}},{key:"cancel",value:function cancel(){var _classPrivateFieldLoo5,_classPrivateFieldLoo6;if(!((0,classPrivateFieldLooseBase.Z)(this,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(this,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled])){if((0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]=!0,(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers].length)try{var _step,_iterator=(0,createForOfIteratorHelper.Z)((0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers]);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}catch(error){return void console.warn("Cancellation threw an error",error)}(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers].length=0,null===(_classPrivateFieldLoo5=(_classPrivateFieldLoo6=(0,classPrivateFieldLooseBase.Z)(this,_reject))[_reject])||void 0===_classPrivateFieldLoo5||_classPrivateFieldLoo5.call(_classPrivateFieldLoo6,new CancelError("Request aborted"))}}},{key:"isCancelled",get:function get(){return(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]}}]),CancelablePromise}(),isDefined=function isDefined(value){return null!=value},isString=function isString(value){return"string"==typeof value},isStringWithValue=function isStringWithValue(value){return isString(value)&&""!==value},isBlob=function isBlob(value){return"object"==typeof value&&"string"==typeof value.type&&"function"==typeof value.stream&&"function"==typeof value.arrayBuffer&&"function"==typeof value.constructor&&"string"==typeof value.constructor.name&&/^(Blob|File)$/.test(value.constructor.name)&&/^(Blob|File)$/.test(value[Symbol.toStringTag])},isFormData=function isFormData(value){return value instanceof FormData},base64=function base64(str){try{return btoa(str)}catch(err){return Buffer.from(str).toString("base64")}},getQueryString=function getQueryString(params){var qs=[],process=function process(key,value){isDefined(value)&&(Array.isArray(value)?value.forEach((function(v){process(key,v)})):"object"==typeof value?Object.entries(value).forEach((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),k=_ref2[0],v=_ref2[1];process("".concat(key,"[").concat(k,"]"),v)})):function append(key,value){qs.push("".concat(encodeURIComponent(key),"=").concat(encodeURIComponent(String(value))))}(key,value))};return Object.entries(params).forEach((function(_ref3){var _ref4=(0,slicedToArray.Z)(_ref3,2),key=_ref4[0],value=_ref4[1];process(key,value)})),qs.length>0?"?".concat(qs.join("&")):""},getUrl=function getUrl(config,options){var encoder=config.ENCODE_PATH||encodeURI,path=options.url.replace("{api-version}",config.VERSION).replace(/{(.*?)}/g,(function(substring,group){var _options$path;return null!==(_options$path=options.path)&&void 0!==_options$path&&_options$path.hasOwnProperty(group)?encoder(String(options.path[group])):substring})),url="".concat(config.BASE).concat(path);return options.query?"".concat(url).concat(getQueryString(options.query)):url},getFormData=function getFormData(options){if(options.formData){var formData=new FormData,process=function process(key,value){isString(value)||isBlob(value)?formData.append(key,value):formData.append(key,JSON.stringify(value))};return Object.entries(options.formData).filter((function(_ref5){var _ref6=(0,slicedToArray.Z)(_ref5,2),value=(_ref6[0],_ref6[1]);return isDefined(value)})).forEach((function(_ref7){var _ref8=(0,slicedToArray.Z)(_ref7,2),key=_ref8[0],value=_ref8[1];Array.isArray(value)?value.forEach((function(v){return process(key,v)})):process(key,value)})),formData}},resolve=function(){var _ref9=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(options,resolver){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("function"!=typeof resolver){_context.next=2;break}return _context.abrupt("return",resolver(options));case 2:return _context.abrupt("return",resolver);case 3:case"end":return _context.stop()}}),_callee)})));return function resolve(_x,_x2){return _ref9.apply(this,arguments)}}(),getHeaders=function(){var _ref10=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(config,options){var token,username,password,additionalHeaders,headers,credentials;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,resolve(options,config.TOKEN);case 2:return token=_context2.sent,_context2.next=5,resolve(options,config.USERNAME);case 5:return username=_context2.sent,_context2.next=8,resolve(options,config.PASSWORD);case 8:return password=_context2.sent,_context2.next=11,resolve(options,config.HEADERS);case 11:return additionalHeaders=_context2.sent,headers=Object.entries((0,objectSpread2.Z)((0,objectSpread2.Z)({Accept:"application/json"},additionalHeaders),options.headers)).filter((function(_ref11){var _ref12=(0,slicedToArray.Z)(_ref11,2),value=(_ref12[0],_ref12[1]);return isDefined(value)})).reduce((function(headers,_ref13){var _ref14=(0,slicedToArray.Z)(_ref13,2),key=_ref14[0],value=_ref14[1];return(0,objectSpread2.Z)((0,objectSpread2.Z)({},headers),{},(0,defineProperty.Z)({},key,String(value)))}),{}),isStringWithValue(token)&&(headers.Authorization="Bearer ".concat(token)),isStringWithValue(username)&&isStringWithValue(password)&&(credentials=base64("".concat(username,":").concat(password)),headers.Authorization="Basic ".concat(credentials)),options.body&&(options.mediaType?headers["Content-Type"]=options.mediaType:isBlob(options.body)?headers["Content-Type"]=options.body.type||"application/octet-stream":isString(options.body)?headers["Content-Type"]="text/plain":isFormData(options.body)||(headers["Content-Type"]="application/json")),_context2.abrupt("return",new Headers(headers));case 17:case"end":return _context2.stop()}}),_callee2)})));return function getHeaders(_x3,_x4){return _ref10.apply(this,arguments)}}(),getRequestBody=function getRequestBody(options){var _options$mediaType;if(void 0!==options.body)return null!==(_options$mediaType=options.mediaType)&&void 0!==_options$mediaType&&_options$mediaType.includes("/json")?JSON.stringify(options.body):isString(options.body)||isBlob(options.body)||isFormData(options.body)?options.body:JSON.stringify(options.body)},sendRequest=function(){var _ref15=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(config,options,url,body,formData,headers,onCancel){var controller,request;return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return controller=new AbortController,request={headers:headers,body:null!=body?body:formData,method:options.method,signal:controller.signal},config.WITH_CREDENTIALS&&(request.credentials=config.CREDENTIALS),onCancel((function(){return controller.abort()})),_context3.next=6,fetch(url,request);case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}}),_callee3)})));return function sendRequest(_x5,_x6,_x7,_x8,_x9,_x10,_x11){return _ref15.apply(this,arguments)}}(),getResponseHeader=function getResponseHeader(response,responseHeader){if(responseHeader){var content=response.headers.get(responseHeader);if(isString(content))return content}},getResponseBody=function(){var _ref16=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee4(response){var contentType;return(0,regeneratorRuntime.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(204===response.status){_context4.next=20;break}if(_context4.prev=1,!(contentType=response.headers.get("Content-Type"))){_context4.next=15;break}if(!["application/json","application/problem+json"].some((function(type){return contentType.toLowerCase().startsWith(type)}))){_context4.next=12;break}return _context4.next=9,response.json();case 9:return _context4.abrupt("return",_context4.sent);case 12:return _context4.next=14,response.text();case 14:return _context4.abrupt("return",_context4.sent);case 15:_context4.next=20;break;case 17:_context4.prev=17,_context4.t0=_context4.catch(1),console.error(_context4.t0);case 20:return _context4.abrupt("return",void 0);case 21:case"end":return _context4.stop()}}),_callee4,null,[[1,17]])})));return function getResponseBody(_x12){return _ref16.apply(this,arguments)}}(),catchErrorCodes=function catchErrorCodes(options,result){var error=(0,objectSpread2.Z)({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},options.errors)[result.status];if(error)throw new ApiError(options,result,error);if(!result.ok){var _result$status,_result$statusText,errorStatus=null!==(_result$status=result.status)&&void 0!==_result$status?_result$status:"unknown",errorStatusText=null!==(_result$statusText=result.statusText)&&void 0!==_result$statusText?_result$statusText:"unknown",errorBody=function(){try{return JSON.stringify(result.body,null,2)}catch(e){return}}();throw new ApiError(options,result,"Generic Error: status: ".concat(errorStatus,"; status text: ").concat(errorStatusText,"; body: ").concat(errorBody))}},FetchHttpRequest=function(_BaseHttpRequest){(0,inherits.Z)(FetchHttpRequest,_BaseHttpRequest);var _super=(0,createSuper.Z)(FetchHttpRequest);function FetchHttpRequest(config){return(0,classCallCheck.Z)(this,FetchHttpRequest),_super.call(this,config)}return(0,createClass.Z)(FetchHttpRequest,[{key:"request",value:function request(options){return function request(config,options){return new CancelablePromise(function(){var _ref17=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee5(resolve,reject,onCancel){var url,formData,body,headers,response,responseBody,responseHeader,result;return(0,regeneratorRuntime.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,url=getUrl(config,options),formData=getFormData(options),body=getRequestBody(options),_context5.next=6,getHeaders(config,options);case 6:if(headers=_context5.sent,onCancel.isCancelled){_context5.next=18;break}return _context5.next=10,sendRequest(config,options,url,body,formData,headers,onCancel);case 10:return response=_context5.sent,_context5.next=13,getResponseBody(response);case 13:responseBody=_context5.sent,responseHeader=getResponseHeader(response,options.responseHeader),result={url:url,ok:response.ok,status:response.status,statusText:response.statusText,body:null!=responseHeader?responseHeader:responseBody},catchErrorCodes(options,result),resolve(result.body);case 18:_context5.next=23;break;case 20:_context5.prev=20,_context5.t0=_context5.catch(0),reject(_context5.t0);case 23:case"end":return _context5.stop()}}),_callee5,null,[[0,20]])})));return function(_x13,_x14,_x15){return _ref17.apply(this,arguments)}}())}(this.config,options)}}]),FetchHttpRequest}(BaseHttpRequest),DefaultService=function(){function DefaultService(httpRequest){(0,classCallCheck.Z)(this,DefaultService),this.httpRequest=httpRequest}return(0,createClass.Z)(DefaultService,[{key:"authenticate",value:function authenticate(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/authenticate",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"getAcademies",value:function getAcademies(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/academies",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"bookCollectiveOffer",value:function bookCollectiveOffer(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/bookings",body:requestBody,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"getEducationalInstitutionWithBudget",value:function getEducationalInstitutionWithBudget(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/institution",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"getCollectiveOfferTemplate",value:function getCollectiveOfferTemplate(offerId){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/offers-template/{offer_id}",path:{offer_id:offerId},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"createCollectiveRequest",value:function createCollectiveRequest(offerId,requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/offers-template/{offer_id}/request",path:{offer_id:offerId},body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"getCollectiveOffer",value:function getCollectiveOffer(offerId){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/offers/{offer_id}",path:{offer_id:offerId},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"listFeatures",value:function listFeatures(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/features",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logBookingModalButtonClick",value:function logBookingModalButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/booking-modal-button",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logCatalogView",value:function logCatalogView(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/catalog-view",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logContactModalButtonClick",value:function logContactModalButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/contact-modal-button",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logFavOfferButtonClick",value:function logFavOfferButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/fav-offer/",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logHeaderLinkClick",value:function logHeaderLinkClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/header-link-click/",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logOfferDetailsButtonClick",value:function logOfferDetailsButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/offer-detail",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logOfferTemplateDetailsButtonClick",value:function logOfferTemplateDetailsButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/offer-template-detail",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logRequestFormPopinDismiss",value:function logRequestFormPopinDismiss(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/request-popin-dismiss",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"logSearchButtonClick",value:function logSearchButtonClick(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/search-button",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}},{key:"getEducationalOffersCategories",value:function getEducationalOffersCategories(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/offers/categories",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"saveRedactorPreferences",value:function saveRedactorPreferences(requestBody){return this.httpRequest.request({method:"POST",url:"/adage-iframe/redactor/preferences",body:requestBody,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"getVenueBySiret",value:function getVenueBySiret(siret){var getRelative=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.httpRequest.request({method:"GET",url:"/adage-iframe/venues/siret/{siret}",path:{siret:siret},query:{getRelative:getRelative},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}},{key:"getVenueById",value:function getVenueById(venueId){var getRelative=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.httpRequest.request({method:"GET",url:"/adage-iframe/venues/{venue_id}",path:{venue_id:venueId},query:{getRelative:getRelative},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}}]),DefaultService}(),AppClientAdage=(0,createClass.Z)((function AppClientAdage(config){var _config$BASE,_config$VERSION,_config$WITH_CREDENTI,_config$CREDENTIALS,HttpRequest=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FetchHttpRequest;(0,classCallCheck.Z)(this,AppClientAdage),this.default=void 0,this.request=void 0,this.request=new HttpRequest({BASE:null!==(_config$BASE=null==config?void 0:config.BASE)&&void 0!==_config$BASE?_config$BASE:"http://localhost:5001",VERSION:null!==(_config$VERSION=null==config?void 0:config.VERSION)&&void 0!==_config$VERSION?_config$VERSION:"0.1.0",WITH_CREDENTIALS:null!==(_config$WITH_CREDENTI=null==config?void 0:config.WITH_CREDENTIALS)&&void 0!==_config$WITH_CREDENTI&&_config$WITH_CREDENTI,CREDENTIALS:null!==(_config$CREDENTIALS=null==config?void 0:config.CREDENTIALS)&&void 0!==_config$CREDENTIALS?_config$CREDENTIALS:"include",TOKEN:null==config?void 0:config.TOKEN,USERNAME:null==config?void 0:config.USERNAME,PASSWORD:null==config?void 0:config.PASSWORD,HEADERS:null==config?void 0:config.HEADERS,ENCODE_PATH:null==config?void 0:config.ENCODE_PATH}),this.default=new DefaultService(this.request)})),v1=__webpack_require__("./src/apiClient/v1/index.ts"),v2=__webpack_require__("./src/apiClient/v2/index.ts"),handleApiError=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(response,method,url){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(response.ok){_context.next=2;break}throw new v1.MS({method:method,url:url},response,"Échec de la requête ".concat(response.url,", code: ").concat(response.status));case 2:return _context.next=4,response.json();case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}),_callee)})));return function handleApiError(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),token=(_getDataFromAddress=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(address){var limit,url,response,_args2=arguments;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return limit=_args2.length>1&&void 0!==_args2[1]?_args2[1]:5,url="".concat("https://api-adresse.data.gouv.fr","/search/?limit=").concat(limit,"&q=").concat(address),_context2.t0=handleApiError,_context2.next=5,fetch(url);case 5:return _context2.t1=_context2.sent,_context2.t2=url,_context2.next=9,(0,_context2.t0)(_context2.t1,"GET",_context2.t2);case 9:return response=_context2.sent,_context2.abrupt("return",response.features.map((function(f){return{address:f.properties.name,city:f.properties.city,id:f.properties.id,latitude:f.geometry.coordinates[1],longitude:f.geometry.coordinates[0],label:f.properties.label,postalCode:f.properties.postcode}})));case 11:case"end":return _context2.stop()}}),_callee2)}))),new URLSearchParams(window.location.search).get("token")),api_config={BASE:config.T5,VERSION:"1",WITH_CREDENTIALS:!0,CREDENTIALS:"include"},configAdage={BASE:config.T5,VERSION:"1",WITH_CREDENTIALS:!1,CREDENTIALS:"omit",TOKEN:null!=token?token:""},api=new v1.C9(api_config).default;new v2.bV(api_config).apiContremarque,new AppClientAdage(configAdage).default},"./src/apiClient/helpers.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{CB:function(){return serializeApiErrors},G5:function(){return getFileFromURL},x8:function(){return isErrorAPIError}});var _w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),serializeApiErrors=function serializeApiErrors(errors){var apiFieldsMap=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(apiFieldsMap).forEach((function(_ref){var _ref2=(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(_ref,2),key=_ref2[0],value=_ref2[1];errors[key]&&(errors[value]=errors[key],delete errors[key])})),errors},isErrorAPIError=function isErrorAPIError(error){return"name"in error&&"ApiError"===error.name},getFileFromURL=function(){var _ref3=(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function _callee(url){var name,response,blob,_args=arguments;return(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return name=_args.length>1&&void 0!==_args[1]?_args[1]:"image.jpg",_context.next=3,fetch(url);case 3:return response=_context.sent,_context.next=6,response.blob();case 6:return blob=_context.sent,_context.abrupt("return",new File([blob],name,{type:blob.type}));case 8:case"end":return _context.stop()}}),_callee)})));return function getFileFromURL(_x){return _ref3.apply(this,arguments)}}()},"./src/apiClient/v2/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{bV:function(){return AppClientV2}});var _Symbol$toStringTag,createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),BaseHttpRequest=(0,createClass.Z)((function BaseHttpRequest(config){(0,classCallCheck.Z)(this,BaseHttpRequest),this.config=config})),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),wrapNativeSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),ApiError=function(_Error){(0,inherits.Z)(ApiError,_Error);var _super=(0,createSuper.Z)(ApiError);function ApiError(request,response,message){var _this;return(0,classCallCheck.Z)(this,ApiError),(_this=_super.call(this,message)).url=void 0,_this.status=void 0,_this.statusText=void 0,_this.body=void 0,_this.request=void 0,_this.name="ApiError",_this.url=response.url,_this.status=response.status,_this.statusText=response.statusText,_this.body=response.body,_this.request=request,_this}return(0,createClass.Z)(ApiError)}((0,wrapNativeSuper.Z)(Error)),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),classPrivateFieldLooseBase=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js"),classPrivateFieldLooseKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js"),CancelError=function(_Error){(0,inherits.Z)(CancelError,_Error);var _super=(0,createSuper.Z)(CancelError);function CancelError(message){var _this;return(0,classCallCheck.Z)(this,CancelError),(_this=_super.call(this,message)).name="CancelError",_this}return(0,createClass.Z)(CancelError,[{key:"isCancelled",get:function get(){return!0}}]),CancelError}((0,wrapNativeSuper.Z)(Error)),_isResolved=(0,classPrivateFieldLooseKey.Z)("isResolved"),_isRejected=(0,classPrivateFieldLooseKey.Z)("isRejected"),_isCancelled=(0,classPrivateFieldLooseKey.Z)("isCancelled"),_cancelHandlers=(0,classPrivateFieldLooseKey.Z)("cancelHandlers"),_promise=(0,classPrivateFieldLooseKey.Z)("promise"),_resolve=(0,classPrivateFieldLooseKey.Z)("resolve"),_reject=(0,classPrivateFieldLooseKey.Z)("reject");_Symbol$toStringTag=Symbol.toStringTag;var BookingFormula,BookingOfferType,OfferAddressType,OfferStatus,CancelablePromise=function(){function CancelablePromise(executor){var _this2=this;(0,classCallCheck.Z)(this,CancelablePromise),Object.defineProperty(this,_isResolved,{writable:!0,value:void 0}),Object.defineProperty(this,_isRejected,{writable:!0,value:void 0}),Object.defineProperty(this,_isCancelled,{writable:!0,value:void 0}),Object.defineProperty(this,_cancelHandlers,{writable:!0,value:void 0}),Object.defineProperty(this,_promise,{writable:!0,value:void 0}),Object.defineProperty(this,_resolve,{writable:!0,value:void 0}),Object.defineProperty(this,_reject,{writable:!0,value:void 0}),(0,classPrivateFieldLooseBase.Z)(this,_isResolved)[_isResolved]=!1,(0,classPrivateFieldLooseBase.Z)(this,_isRejected)[_isRejected]=!1,(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]=!1,(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers]=[],(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise]=new Promise((function(resolve,reject){(0,classPrivateFieldLooseBase.Z)(_this2,_resolve)[_resolve]=resolve,(0,classPrivateFieldLooseBase.Z)(_this2,_reject)[_reject]=reject;var onCancel=function onCancel(cancelHandler){(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||(0,classPrivateFieldLooseBase.Z)(_this2,_cancelHandlers)[_cancelHandlers].push(cancelHandler)};return Object.defineProperty(onCancel,"isResolved",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]}}),Object.defineProperty(onCancel,"isRejected",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]}}),Object.defineProperty(onCancel,"isCancelled",{get:function get(){return(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]}}),executor((function onResolve(value){var _classPrivateFieldLoo,_classPrivateFieldLoo2;(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||((0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]=!0,null===(_classPrivateFieldLoo=(_classPrivateFieldLoo2=(0,classPrivateFieldLooseBase.Z)(_this2,_resolve))[_resolve])||void 0===_classPrivateFieldLoo||_classPrivateFieldLoo.call(_classPrivateFieldLoo2,value))}),(function onReject(reason){var _classPrivateFieldLoo3,_classPrivateFieldLoo4;(0,classPrivateFieldLooseBase.Z)(_this2,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(_this2,_isCancelled)[_isCancelled]||((0,classPrivateFieldLooseBase.Z)(_this2,_isRejected)[_isRejected]=!0,null===(_classPrivateFieldLoo3=(_classPrivateFieldLoo4=(0,classPrivateFieldLooseBase.Z)(_this2,_reject))[_reject])||void 0===_classPrivateFieldLoo3||_classPrivateFieldLoo3.call(_classPrivateFieldLoo4,reason))}),onCancel)}))}return(0,createClass.Z)(CancelablePromise,[{key:_Symbol$toStringTag,get:function get(){return"Cancellable Promise"}},{key:"then",value:function then(onFulfilled,onRejected){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].then(onFulfilled,onRejected)}},{key:"catch",value:function _catch(onRejected){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].catch(onRejected)}},{key:"finally",value:function _finally(onFinally){return(0,classPrivateFieldLooseBase.Z)(this,_promise)[_promise].finally(onFinally)}},{key:"cancel",value:function cancel(){var _classPrivateFieldLoo5,_classPrivateFieldLoo6;if(!((0,classPrivateFieldLooseBase.Z)(this,_isResolved)[_isResolved]||(0,classPrivateFieldLooseBase.Z)(this,_isRejected)[_isRejected]||(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled])){if((0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]=!0,(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers].length)try{var _step,_iterator=(0,createForOfIteratorHelper.Z)((0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers]);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}catch(error){return void console.warn("Cancellation threw an error",error)}(0,classPrivateFieldLooseBase.Z)(this,_cancelHandlers)[_cancelHandlers].length=0,null===(_classPrivateFieldLoo5=(_classPrivateFieldLoo6=(0,classPrivateFieldLooseBase.Z)(this,_reject))[_reject])||void 0===_classPrivateFieldLoo5||_classPrivateFieldLoo5.call(_classPrivateFieldLoo6,new CancelError("Request aborted"))}}},{key:"isCancelled",get:function get(){return(0,classPrivateFieldLooseBase.Z)(this,_isCancelled)[_isCancelled]}}]),CancelablePromise}(),config=__webpack_require__("./src/utils/config.ts"),isDefined=function isDefined(value){return null!=value},isString=function isString(value){return"string"==typeof value},isStringWithValue=function isStringWithValue(value){return isString(value)&&""!==value},isBlob=function isBlob(value){return"object"==typeof value&&"string"==typeof value.type&&"function"==typeof value.stream&&"function"==typeof value.arrayBuffer&&"function"==typeof value.constructor&&"string"==typeof value.constructor.name&&/^(Blob|File)$/.test(value.constructor.name)&&/^(Blob|File)$/.test(value[Symbol.toStringTag])},isFormData=function isFormData(value){return value instanceof FormData},base64=function base64(str){try{return btoa(str)}catch(err){return Buffer.from(str).toString("base64")}},getQueryString=function getQueryString(params){var qs=[],process=function process(key,value){isDefined(value)&&(Array.isArray(value)?value.forEach((function(v){process(key,v)})):"object"==typeof value?Object.entries(value).forEach((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),k=_ref2[0],v=_ref2[1];process("".concat(key,"[").concat(k,"]"),v)})):function append(key,value){qs.push("".concat(encodeURIComponent(key),"=").concat(encodeURIComponent(String(value))))}(key,value))};return Object.entries(params).forEach((function(_ref3){var _ref4=(0,slicedToArray.Z)(_ref3,2),key=_ref4[0],value=_ref4[1];process(key,value)})),qs.length>0?"?".concat(qs.join("&")):""},getUrl=function getUrl(config,options){var encoder=config.ENCODE_PATH||encodeURI,path=options.url.replace("{api-version}",config.VERSION).replace(/{(.*?)}/g,(function(substring,group){var _options$path;return null!==(_options$path=options.path)&&void 0!==_options$path&&_options$path.hasOwnProperty(group)?encoder(String(options.path[group])):substring})),url="".concat(config.BASE).concat(path);return options.query?"".concat(url).concat(getQueryString(options.query)):url},getFormData=function getFormData(options){if(options.formData){var formData=new FormData,process=function process(key,value){isString(value)||isBlob(value)?formData.append(key,value):formData.append(key,JSON.stringify(value))};return Object.entries(options.formData).filter((function(_ref5){var _ref6=(0,slicedToArray.Z)(_ref5,2),value=(_ref6[0],_ref6[1]);return isDefined(value)})).forEach((function(_ref7){var _ref8=(0,slicedToArray.Z)(_ref7,2),key=_ref8[0],value=_ref8[1];Array.isArray(value)?value.forEach((function(v){return process(key,v)})):process(key,value)})),formData}},resolve=function(){var _ref9=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(options,resolver){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("function"!=typeof resolver){_context.next=2;break}return _context.abrupt("return",resolver(options));case 2:return _context.abrupt("return",resolver);case 3:case"end":return _context.stop()}}),_callee)})));return function resolve(_x,_x2){return _ref9.apply(this,arguments)}}(),getHeaders=function(){var _ref10=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(config,options){var token,username,password,additionalHeaders,headers,credentials;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,resolve(options,config.TOKEN);case 2:return token=_context2.sent,_context2.next=5,resolve(options,config.USERNAME);case 5:return username=_context2.sent,_context2.next=8,resolve(options,config.PASSWORD);case 8:return password=_context2.sent,_context2.next=11,resolve(options,config.HEADERS);case 11:return additionalHeaders=_context2.sent,headers=Object.entries((0,objectSpread2.Z)((0,objectSpread2.Z)({Accept:"application/json"},additionalHeaders),options.headers)).filter((function(_ref11){var _ref12=(0,slicedToArray.Z)(_ref11,2),value=(_ref12[0],_ref12[1]);return isDefined(value)})).reduce((function(headers,_ref13){var _ref14=(0,slicedToArray.Z)(_ref13,2),key=_ref14[0],value=_ref14[1];return(0,objectSpread2.Z)((0,objectSpread2.Z)({},headers),{},(0,defineProperty.Z)({},key,String(value)))}),{}),isStringWithValue(token)&&(headers.Authorization="Bearer ".concat(token)),isStringWithValue(username)&&isStringWithValue(password)&&(credentials=base64("".concat(username,":").concat(password)),headers.Authorization="Basic ".concat(credentials)),options.body&&(options.mediaType?headers["Content-Type"]=options.mediaType:isBlob(options.body)?headers["Content-Type"]=options.body.type||"application/octet-stream":isString(options.body)?headers["Content-Type"]="text/plain":isFormData(options.body)||(headers["Content-Type"]="application/json")),_context2.abrupt("return",new Headers(headers));case 17:case"end":return _context2.stop()}}),_callee2)})));return function getHeaders(_x3,_x4){return _ref10.apply(this,arguments)}}(),getRequestBody=function getRequestBody(options){var _options$mediaType;if(options.body)return null!==(_options$mediaType=options.mediaType)&&void 0!==_options$mediaType&&_options$mediaType.includes("/json")?JSON.stringify(options.body):isString(options.body)||isBlob(options.body)||isFormData(options.body)?options.body:JSON.stringify(options.body)},sendRequest=function(){var _ref15=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(config,options,url,body,formData,headers,onCancel){var controller,request;return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return controller=new AbortController,request={headers:headers,body:null!=body?body:formData,method:options.method,signal:controller.signal},config.WITH_CREDENTIALS&&(request.credentials=config.CREDENTIALS),onCancel((function(){return controller.abort()})),_context3.next=6,fetch(url,request);case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}}),_callee3)})));return function sendRequest(_x5,_x6,_x7,_x8,_x9,_x10,_x11){return _ref15.apply(this,arguments)}}(),getResponseHeader=function getResponseHeader(response,responseHeader){if(responseHeader){var content=response.headers.get(responseHeader);if(isString(content))return content}},getResponseBody=function(){var _ref16=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee4(response){var contentType;return(0,regeneratorRuntime.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(204===response.status){_context4.next=19;break}if(_context4.prev=1,!(contentType=response.headers.get("Content-Type"))){_context4.next=14;break}if(!contentType.toLowerCase().startsWith("application/json")){_context4.next=11;break}return _context4.next=8,response.json();case 8:return _context4.abrupt("return",_context4.sent);case 11:return _context4.next=13,response.text();case 13:return _context4.abrupt("return",_context4.sent);case 14:_context4.next=19;break;case 16:_context4.prev=16,_context4.t0=_context4.catch(1),console.error(_context4.t0);case 19:return _context4.abrupt("return",void 0);case 20:case"end":return _context4.stop()}}),_callee4,null,[[1,16]])})));return function getResponseBody(_x12){return _ref16.apply(this,arguments)}}(),catchErrorCodes=function catchErrorCodes(options,result){var error=(0,objectSpread2.Z)({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},options.errors)[result.status];if(503!==result.status){if(error)throw new ApiError(options,result,error);if(!result.ok)throw new ApiError(options,result,"Generic Error")}else window.location.assign(config.T$)},FetchHttpRequest=function(_BaseHttpRequest){(0,inherits.Z)(FetchHttpRequest,_BaseHttpRequest);var _super=(0,createSuper.Z)(FetchHttpRequest);function FetchHttpRequest(config){return(0,classCallCheck.Z)(this,FetchHttpRequest),_super.call(this,config)}return(0,createClass.Z)(FetchHttpRequest,[{key:"request",value:function request(options){return function request(config,options){return new CancelablePromise(function(){var _ref17=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee5(resolve,reject,onCancel){var url,formData,body,headers,response,responseBody,responseHeader,result;return(0,regeneratorRuntime.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,url=getUrl(config,options),formData=getFormData(options),body=getRequestBody(options),_context5.next=6,getHeaders(config,options);case 6:if(headers=_context5.sent,onCancel.isCancelled){_context5.next=18;break}return _context5.next=10,sendRequest(config,options,url,body,formData,headers,onCancel);case 10:return response=_context5.sent,_context5.next=13,getResponseBody(response);case 13:responseBody=_context5.sent,responseHeader=getResponseHeader(response,options.responseHeader),result={url:url,ok:response.ok,status:response.status,statusText:response.statusText,body:null!=responseHeader?responseHeader:responseBody},catchErrorCodes(options,result),resolve(result.body);case 18:_context5.next=23;break;case 20:_context5.prev=20,_context5.t0=_context5.catch(0),reject(_context5.t0);case 23:case"end":return _context5.stop()}}),_callee5,null,[[0,20]])})));return function(_x13,_x14,_x15){return _ref17.apply(this,arguments)}}())}(this.config,options)}}]),FetchHttpRequest}(BaseHttpRequest),ApiContremarqueService=function(){function ApiContremarqueService(httpRequest){(0,classCallCheck.Z)(this,ApiContremarqueService),this.httpRequest=httpRequest}return(0,createClass.Z)(ApiContremarqueService,[{key:"patchCancelBookingByToken",value:function patchCancelBookingByToken(token){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/cancel/token/{token}",path:{token:token},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour annuler cette contremarque ou la réservation a déjà été validée",404:"La contremarque n'existe pas",410:"La contremarque a déjà été annulée",422:"Unprocessable Entity"}})}},{key:"patchBookingKeepByToken",value:function patchBookingKeepByToken(token){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/keep/token/{token}",path:{token:token},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:"La requête est refusée car la contremarque n'a pas encore été validée, a été annulée, ou son remboursement a été initié",422:"Unprocessable Entity"}})}},{key:"getBookingByTokenV2",value:function getBookingByTokenV2(token){return this.httpRequest.request({method:"GET",url:"/v2/bookings/token/{token}",path:{token:token},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:"Cette contremarque a été validée.\n        En l’invalidant vous indiquez qu’elle n’a pas été utilisée et vous ne serez pas remboursé.",422:"Unprocessable Entity"}})}},{key:"patchBookingUseByToken",value:function patchBookingUseByToken(token){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/use/token/{token}",path:{token:token},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:"Cette contremarque a été validée.\n        En l’invalidant vous indiquez qu’elle n’a pas été utilisée et vous ne serez pas remboursé.",422:"Unprocessable Entity"}})}}]),ApiContremarqueService}(),ApiOffresCollectivesBetaService=function(){function ApiOffresCollectivesBetaService(httpRequest){(0,classCallCheck.Z)(this,ApiOffresCollectivesBetaService),this.httpRequest=httpRequest}return(0,createClass.Z)(ApiOffresCollectivesBetaService,[{key:"listCategories",value:function listCategories(){return this.httpRequest.request({method:"GET",url:"/v2/collective/categories",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}},{key:"listEducationalDomains",value:function listEducationalDomains(){return this.httpRequest.request({method:"GET",url:"/v2/collective/educational-domains",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}},{key:"listEducationalInstitutions",value:function listEducationalInstitutions(id,name,institutionType,city,postalCode,uai){var limit=arguments.length>6&&void 0!==arguments[6]?arguments[6]:20;return this.httpRequest.request({method:"GET",url:"/v2/collective/educational-institutions/",query:{id:id,name:name,institutionType:institutionType,city:city,postalCode:postalCode,uai:uai,limit:limit},errors:{400:"Requête malformée",401:"Authentification nécessaire",422:"Unprocessable Entity"}})}},{key:"getCollectiveOffersPublic",value:function getCollectiveOffersPublic(status,venueId,periodBeginningDate,periodEndingDate){return this.httpRequest.request({method:"GET",url:"/v2/collective/offers/",query:{status:status,venueId:venueId,periodBeginningDate:periodBeginningDate,periodEndingDate:periodEndingDate},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette offre collective",404:"L'offre collective n'existe pas",422:"Unprocessable Entity"}})}},{key:"postCollectiveOfferPublic",value:function postCollectiveOfferPublic(requestBody){return this.httpRequest.request({method:"POST",url:"/v2/collective/offers/",body:requestBody,mediaType:"application/json",errors:{400:"Requête malformée",401:"Authentification nécessaire",403:"Non éligible pour les offres collectives",404:"L'une des resources pour la création de l'offre n'a pas été trouvée",422:"Unprocessable Entity"}})}},{key:"getCollectiveOfferPublic",value:function getCollectiveOfferPublic(offerId){return this.httpRequest.request({method:"GET",url:"/v2/collective/offers/{offer_id}",path:{offer_id:offerId},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette offre collective",404:"L'offre collective n'existe pas",422:"Unprocessable Entity"}})}},{key:"patchCollectiveOfferPublic",value:function patchCollectiveOfferPublic(offerId,requestBody){return this.httpRequest.request({method:"PATCH",url:"/v2/collective/offers/{offer_id}",path:{offer_id:offerId},body:requestBody,mediaType:"application/json",errors:{400:"Requête malformée",401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour éditer cette offre collective",404:"L'une des resources pour la création de l'offre n'a pas été trouvée",422:"Cetains champs ne peuvent pas être édités selon l'état de l'offre"}})}},{key:"listStudentsLevels",value:function listStudentsLevels(){return this.httpRequest.request({method:"GET",url:"/v2/collective/student-levels",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}},{key:"listSubcategories",value:function listSubcategories(){return this.httpRequest.request({method:"GET",url:"/v2/collective/subcategories",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}},{key:"listVenues",value:function listVenues(){return this.httpRequest.request({method:"GET",url:"/v2/collective/venues",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}}]),ApiOffresCollectivesBetaService}(),AppClientV2=(0,createClass.Z)((function AppClientV2(config){var _config$BASE,_config$VERSION,_config$WITH_CREDENTI,_config$CREDENTIALS,HttpRequest=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FetchHttpRequest;(0,classCallCheck.Z)(this,AppClientV2),this.apiContremarque=void 0,this.apiOffresCollectivesBeta=void 0,this.request=void 0,this.request=new HttpRequest({BASE:null!==(_config$BASE=null==config?void 0:config.BASE)&&void 0!==_config$BASE?_config$BASE:"http://localhost:5001",VERSION:null!==(_config$VERSION=null==config?void 0:config.VERSION)&&void 0!==_config$VERSION?_config$VERSION:"2",WITH_CREDENTIALS:null!==(_config$WITH_CREDENTI=null==config?void 0:config.WITH_CREDENTIALS)&&void 0!==_config$WITH_CREDENTI&&_config$WITH_CREDENTI,CREDENTIALS:null!==(_config$CREDENTIALS=null==config?void 0:config.CREDENTIALS)&&void 0!==_config$CREDENTIALS?_config$CREDENTIALS:"include",TOKEN:null==config?void 0:config.TOKEN,USERNAME:null==config?void 0:config.USERNAME,PASSWORD:null==config?void 0:config.PASSWORD,HEADERS:null==config?void 0:config.HEADERS,ENCODE_PATH:null==config?void 0:config.ENCODE_PATH}),this.apiContremarque=new ApiContremarqueService(this.request),this.apiOffresCollectivesBeta=new ApiOffresCollectivesBetaService(this.request)}));!function(BookingFormula){BookingFormula.PLACE="PLACE",BookingFormula.ABO="ABO"}(BookingFormula||(BookingFormula={})),function(BookingOfferType){BookingOfferType.BIEN="BIEN",BookingOfferType.EVENEMENT="EVENEMENT"}(BookingOfferType||(BookingOfferType={})),function(OfferAddressType){OfferAddressType.OFFERER_VENUE="offererVenue",OfferAddressType.SCHOOL="school",OfferAddressType.OTHER="other"}(OfferAddressType||(OfferAddressType={})),function(OfferStatus){OfferStatus.ACTIVE="ACTIVE",OfferStatus.PENDING="PENDING",OfferStatus.EXPIRED="EXPIRED",OfferStatus.REJECTED="REJECTED",OfferStatus.SOLD_OUT="SOLD_OUT",OfferStatus.INACTIVE="INACTIVE",OfferStatus.DRAFT="DRAFT"}(OfferStatus||(OfferStatus={}))},"./src/core/Notification/constants.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{AF:function(){return NOTIFICATION_SHOW_DURATION},Ij:function(){return NOTIFICATION_TRANSITION_DURATION}});var NOTIFICATION_TRANSITION_DURATION=400,NOTIFICATION_SHOW_DURATION=5e3},"./src/hooks/useNotification.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return NotificationTypeEnum}});var NotificationTypeEnum,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),core_Notification_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core/Notification/constants.ts"),store_reducers_notificationReducer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/store/reducers/notificationReducer.ts");!function(NotificationTypeEnum){NotificationTypeEnum.SUCCESS="success",NotificationTypeEnum.ERROR="error",NotificationTypeEnum.PENDING="pending",NotificationTypeEnum.INFORMATION="information"}(NotificationTypeEnum||(NotificationTypeEnum={}));__webpack_exports__.Z=function useNotification(){var dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)(),dispatchNotification=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(textMessage,type,_ref){var _ref$duration=_ref.duration,duration=void 0===_ref$duration?core_Notification_constants__WEBPACK_IMPORTED_MODULE_3__.AF:_ref$duration;dispatch((0,store_reducers_notificationReducer__WEBPACK_IMPORTED_MODULE_2__.c0)({text:textMessage,type:type,duration:duration}))}),[dispatch]),dispatchCloseNotification=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dispatch((0,store_reducers_notificationReducer__WEBPACK_IMPORTED_MODULE_2__.vU)())}),[dispatch]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{success:function success(msg){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dispatchNotification(msg,NotificationTypeEnum.SUCCESS,options)},error:function error(msg){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dispatchNotification(msg,NotificationTypeEnum.ERROR,options)},pending:function pending(msg){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dispatchNotification(msg,NotificationTypeEnum.PENDING,options)},information:function information(msg){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dispatchNotification(msg,NotificationTypeEnum.INFORMATION,options)},close:function close(){return dispatchCloseNotification()}}}),[dispatchCloseNotification,dispatchNotification])}},"./src/store/reducers/notificationReducer.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{CO:function(){return setIsStickyBarOpen},G0:function(){return notificationReducer},c0:function(){return showNotification},vU:function(){return closeNotification}});var _w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),showNotification=function showNotification(payload){return{payload:payload,type:"SHOW_NOTIFICATION"}},closeNotification=function closeNotification(){return{type:"CLOSE_NOTIFICATION"}},setIsStickyBarOpen=function setIsStickyBarOpen(payload){return{payload:payload,type:"SET_IS_STICKYBAR_OPEN"}},notificationInitialState={isStickyBarOpen:!1,notification:null},notificationReducer=function notificationReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:notificationInitialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case"CLOSE_NOTIFICATION":return(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},state),{},{notification:null});case"SHOW_NOTIFICATION":return(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},state),{},{notification:action.payload});case"SET_IS_STICKYBAR_OPEN":return(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},state),{},{isStickyBarOpen:action.payload});default:return state}}},"./src/ui-kit/Spinner/Spinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),icons_stroke_pass_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/stroke-pass.svg"),ui_kit_SvgIcon_SvgIcon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/ui-kit/SvgIcon/SvgIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Spinner=function Spinner(_ref){var _ref$message=_ref.message,message=void 0===_ref$message?"Chargement en cours":_ref$message,className=_ref.className,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3),_useState2=(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState,2),nbDots=_useState2[0],setNbDots=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),_useState4=(0,_w_pass_culture_main_pass_culture_main_pro_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState3,2),timer=_useState4[0],setTimer=_useState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){timer&&window.clearInterval(timer);var newTimer=window.setInterval((function(){setNbDots((function(oldVal){return oldVal%3+1}))}),500);return setTimer(newTimer),function(){window.clearInterval(newTimer)}}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("loading-spinner",className),"data-testid":"spinner",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ui_kit_SvgIcon_SvgIcon__WEBPACK_IMPORTED_MODULE_3__.l,{src:icons_stroke_pass_svg__WEBPACK_IMPORTED_MODULE_2__,alt:"",className:"loading-spinner-icon"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"content","data-dots":Array(nbDots).fill(".").join(""),children:message})]})};Spinner.displayName="Spinner",__webpack_exports__.Z=Spinner}}]);