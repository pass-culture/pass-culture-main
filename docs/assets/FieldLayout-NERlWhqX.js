import{j as a}from"./jsx-runtime-CfatFE5O.js";import{c as N}from"./index-DeARc5FM.js";import{r as i}from"./index-ClcD9ViR.js";import{f as $}from"./full-clear-CvNWe6Ae.js";import{f as M}from"./full-close-DkqMqJw6.js";import{B}from"./Button-DIgi_qoZ.js";import{B as D}from"./types-DjX_gQD6.js";import{F as H}from"./FieldError-NSzQL9ZK.js";const o={"field-layout":"_field-layout_v665u_1","field-layout-label":"_field-layout-label_v665u_5","field-layout-label-container":"_field-layout-label-container_v665u_11","field-layout-label-break":"_field-layout-label-break_v665u_14","field-layout-small-label":"_field-layout-small-label_v665u_17","field-layout-inline":"_field-layout-inline_v665u_25","field-layout-content":"_field-layout-content_v665u_33","field-layout-footer":"_field-layout-footer_v665u_40","field-layout-error":"_field-layout-error_v665u_46","field-layout-input-description":"_field-layout-input-description_v665u_52","input-wrapper":"_input-wrapper_v665u_61","clear-button":"_clear-button_v665u_65","clear-button-container":"_clear-button-container_v665u_73","clear-button-clear-container":"_clear-button-clear-container_v665u_78","clear-button-close-container":"_clear-button-close-container_v665u_83","clear-button-icon":"_clear-button-icon_v665u_96"};function O(t,e,l){var b=this,s=i.useRef(null),r=i.useRef(0),n=i.useRef(null),d=i.useRef([]),f=i.useRef(),m=i.useRef(),L=i.useRef(t),_=i.useRef(!0);L.current=t;var q=typeof window<"u",x=!e&&e!==0&&q;if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var j=!!(l=l||{}).leading,A=!("trailing"in l)||!!l.trailing,h="maxWait"in l,R="debounceOnServer"in l&&!!l.debounceOnServer,V=h?Math.max(+l.maxWait||0,e):null;i.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var p=i.useMemo(function(){var v=function(u){var c=d.current,C=f.current;return d.current=f.current=null,r.current=u,m.current=L.current.apply(C,c)},y=function(u,c){x&&cancelAnimationFrame(n.current),n.current=x?requestAnimationFrame(u):setTimeout(u,c)},w=function(u){if(!_.current)return!1;var c=u-s.current;return!s.current||c>=e||c<0||h&&u-r.current>=V},E=function(u){return n.current=null,A&&d.current?v(u):(d.current=f.current=null,m.current)},F=function u(){var c=Date.now();if(w(c))return E(c);if(_.current){var C=e-(c-s.current),T=h?Math.min(C,V-(c-r.current)):C;y(u,T)}},g=function(){if(q||R){var u=Date.now(),c=w(u);if(d.current=[].slice.call(arguments),f.current=b,s.current=u,c){if(!n.current&&_.current)return r.current=s.current,y(F,e),j?v(s.current):m.current;if(h)return y(F,e),v(s.current)}return n.current||y(F,e),m.current}};return g.cancel=function(){n.current&&(x?cancelAnimationFrame(n.current):clearTimeout(n.current)),r.current=0,d.current=s.current=f.current=n.current=null},g.isPending=function(){return!!n.current},g.flush=function(){return n.current?E(Date.now()):m.current},g},[j,h,e,V,A,x,q,R]);return p}function S(t,e){return t===e}function W(t,e,l){var b=S,s=i.useRef(t),r=i.useState({})[1],n=O(i.useCallback(function(f){s.current=f,r({})},[r]),e,l),d=i.useRef(t);return b(d.current,t)||(n(t),d.current=t),[s.current,n]}const Y={"field-layout-character-count":"_field-layout-character-count_1in29_1"};function k({count:t,maxLength:e,name:l}){const[b]=W(t,1e3);return a.jsxs(a.Fragment,{children:[a.jsxs("span",{role:"status",className:"visually-hidden",id:`field-characters-count-${l}`,children:[b," caractÃ¨res sur ",e]}),a.jsxs("span",{className:Y["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[t,"/",e]})]})}try{k.displayName="FieldLayoutCharacterCount",k.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const I=({children:t,label:e,isLabelHidden:l=!1,hasLabelLineBreak:b=!0,className:s,name:r,showError:n=!1,error:d,count:f=void 0,maxLength:m=void 0,isOptional:L=!1,showMandatoryAsterisk:_=!0,smallLabel:q,hideFooter:x=!1,inline:j=!1,classNameLabel:A,classNameFooter:h,classNameInput:R,description:V,clearButtonProps:p,ErrorDetails:v})=>{const y=n&&!!d,w=f!==void 0&&m!==void 0,E=i.useId(),F=!x||y||w||!!v,g=(p==null?void 0:p.display)||"clear";return a.jsxs("div",{className:N(o["field-layout"],{[o["field-layout-small-label"]]:q,[o["field-layout-inline"]]:j},s),"data-testid":`wrapper-${r}`,children:[a.jsxs("div",{className:N(o["field-layout-label-container"],A,{"visually-hidden":l}),children:[a.jsxs("label",{className:N(o["field-layout-label"],b&&o["field-layout-label-break"]),htmlFor:r,children:[e," ",!L&&_&&"*"]}),V&&a.jsx("span",{id:`description-${r}`,"data-testid":`description-${r}`,className:o["field-layout-input-description"],children:V})]}),a.jsxs("div",{className:o["field-layout-content"],children:[a.jsxs("div",{className:N(o["input-wrapper"],R),children:[t,p&&a.jsx("div",{className:N(o["clear-button-container"],o[`clear-button-${g}-container`]),children:a.jsx(B,{...p,"aria-describedby":E,className:o["clear-button"],hasTooltip:!0,type:"button",icon:g==="clear"?$:M,variant:D.TERNARY,children:p.tooltip||"Supprimer"})})]}),F&&a.jsxs("div",{className:N(h,o["field-layout-footer"]),children:[a.jsx("div",{role:"alert",className:o["field-layout-error"],id:`error-details-${r}`,children:(y||!!v)&&a.jsxs(a.Fragment,{children:[y&&a.jsx(H,{name:r,children:d}),v]})}),w&&a.jsx(k,{count:f,maxLength:m,name:r})]})]})]})};try{I.displayName="FieldLayout",I.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:`A flag to hide the label.
To be used with caution, as it can affect accessibility.
Do not use it if the label is mandatory, placeholder is not
a substitute for a label.`,name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:`A flag to indicate that the field is optional.
It will display an asterisk next to the label.`,name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:`A custom class for the footer,
where errors and character count are displayed.`,name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:`A flag to hide the footer.
To be used with caution, as it can affect accessibility.`,name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{I as F};
