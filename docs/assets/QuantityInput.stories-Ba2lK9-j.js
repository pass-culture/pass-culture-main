import{j as o}from"./jsx-runtime-BYYWji4R.js";import{u as j,a as N,F as A}from"./formik.esm-Dmsc_7od.js";import{r as n}from"./index-ClcD9ViR.js";import{C as S}from"./Checkbox-CvbsD7op.js";import{T as R}from"./TextInput-Bmmjwx7w.js";const m=({label:s="Quantité",name:c="quantity",onChange:t,disabled:d,className:I,classNameFooter:k,isLabelHidden:v,smallLabel:V,isOptional:_,min:f=0})=>{const u=c,p=n.useRef(null),w=`${c}.unlimited`,h=n.useRef(null),[r]=j(u),{setFieldValue:Q}=N(),[l,y]=n.useState(r.value==="");n.useEffect(()=>{y(r.value==="")},[r.value]),n.useEffect(()=>{var b;const e=document.activeElement===h.current;!l&&e&&((b=p.current)==null||b.focus())},[l]);const E=a=>{const e=a.target.value?parseInt(a.target.value):"";t==null||t(e)},F=async()=>{const a=!l;y(a);let e=f;a&&(e=""),t?t(e):await Q(u,e)},T=o.jsx(S,{ref:h,label:"Illimité",name:w,onChange:F,checked:l,disabled:d});return o.jsx(R,{focusRef:p,smallLabel:V,name:u,label:s,isOptional:_,disabled:d,type:"number",hasDecimal:!1,className:I,classNameFooter:k,min:f,max:1e6,isLabelHidden:v,step:1,InputExtension:T,...t&&{onChange:E}})};try{m.displayName="QuantityInput",m.__docgenInfo={description:`The QuantityInput component is a combination of a TextInput and a BaseCheckbox to define quantities.
It integrates with Formik for form state management and is used when an undefined quantity is meant to be interpreted as unlimited.`,displayName:"QuantityInput",props:{className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:`A custom class for the footer,
where errors and character count are displayed.`,name:"classNameFooter",required:!1,type:{name:"string"}},isLabelHidden:{defaultValue:null,description:`A flag to hide the label.
To be used with caution, as it can affect accessibility.
Do not use it if the label is mandatory, placeholder is not
a substitute for a label.`,name:"isLabelHidden",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:null,description:`A flag to indicate that the field is optional.
It will display an asterisk next to the label.`,name:"isOptional",required:!1,type:{name:"boolean"}},label:{defaultValue:{value:"Quantité"},description:"A label for the input, also used as the aria-label for the group.",name:"label",required:!1,type:{name:"string"}},name:{defaultValue:{value:"quantity"},description:"The name of the input, mind what's being used in the formik form.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:`A callback when the quantity changes.
If not provided, the value will be set in the formik form, otherwise, setFieldValue must be called manually.
This is to support custom logic when the quantity changes.`,name:"onChange",required:!1,type:{name:"((quantity: Quantity) => void)"}},min:{defaultValue:{value:"0"},description:"The minimum value allowed for the quantity. Make sure it matches formik validation schema.",name:"min",required:!1,type:{name:"Quantity"}}}}}catch{}const C={title:"ui-kit/forms/QuantityInput",component:m,decorators:[s=>o.jsx(A,{initialValues:{quantity:""},onSubmit:()=>{},children:o.jsx(s,{})})]},i={args:{}};var x,g,q;i.parameters={...i.parameters,docs:{...(x=i.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {}
}`,...(q=(g=i.parameters)==null?void 0:g.docs)==null?void 0:q.source}}};const O=["Default"],z=Object.freeze(Object.defineProperty({__proto__:null,Default:i,__namedExportsOrder:O,default:C},Symbol.toStringTag,{value:"Module"}));export{z as Q};
