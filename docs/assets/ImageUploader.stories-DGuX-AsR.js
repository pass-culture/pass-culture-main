import{j as e}from"./jsx-runtime-CKrituN3.js";import{c as J}from"./index-BpvXyOxN.js";import{r as s}from"./index-CBqU2yxZ.js";import{f as qe,a as Me,s as Le}from"./full-download-B3WGRmtu.js";import{D as ke}from"./Divider-wJtZnYeg.js";import{S as Ee}from"./SubmitButton-CfppJW9r.js";import{B as V}from"./ButtonLink-DC_BkhTM.js";import{B as C}from"./Button-DDhnNY6Y.js";import{T as De}from"./Thumb-BeWjZHE5.js";import"./stroke-offer-0nLSn_F5.js";import"./Banner-C9BLtk6G.js";import"./InfoBox-eJgvdobp.js";import{D as je}from"./DialogBox-3tAmb1gr.js";import{a as Ve,I as M}from"./ImagePreviewsWrapper-qe0Hg_cd.js";import{u as Ce}from"./useNotification-BIxCf8zO.js";import{f as be}from"./full-trash-HlGguSvW.js";import{S as Ne}from"./SvgIcon-B4BQC89V.js";import{C as Ae}from"./ConfirmDialog-Gzlq34tc.js";import{s as Te}from"./stroke-trash-DBtGQcFN.js";import{f as We}from"./full-edit-DY97lsf2.js";import{u as ze,F as $e,a as He}from"./formik.esm-BvpVdGSF.js";import{I as Ye}from"./ImageEditor-De7kNzuu.js";import{g as Ge,i as R,C as Je}from"./imageConstraints-ClBqEnnT.js";import{B as Ze}from"./BaseFileInput-rZdVy5Ka.js";import{c as Xe,a as Ke}from"./index.esm-wvngROgC.js";import{P as Qe}from"./PreferredOrientation-AinD7iAS.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-D-qxk1LK.js";import"./index-Bc47ZfBr.js";import"./Button.module-BhjxwRn1.js";import"./stroke-pass-C0Oiu4_F.js";import"./Tooltip-Cq8-p23V.js";import"./useTooltipProps-DrCYBs0a.js";import"./full-next-DBJ5r-A4.js";import"./BaseRadio-Dio7H15q.js";import"./FieldError-DD_lQZ-D.js";import"./stroke-error-BKdTEWJV.js";import"./FieldSuccess-BCZaewdc.js";import"./stroke-valid-D5TrCdxa.js";import"./full-clear-CvNWe6Ae.js";import"./index-Dk74W0Oi.js";import"./SelectInput-CrgzEjiA.js";import"./stroke-down-DYCZHAeS.js";import"./BaseCheckbox-DSexW-Il.js";import"./date-BA7XsK05.js";import"./typeof-QjJsDpFa.js";import"./BaseInput-B2IUvXnA.js";import"./shadow-tips-help-BWD8Tj4_.js";import"./shadow-tips-warning-Cyw-iOmq.js";import"./stroke-close-C6KSko98.js";import"./LinkNodes-V0OU6n4o.js";import"./full-link-Ct7SQyQr.js";import"./tslib.es6-CRe1u2pP.js";import"./reducer-CfD76nIY.js";import"./Dialog-CnLmukWX.js";import"./Slider-BJlIctJ9.js";var i=(a=>(a.OFFER="offer",a.OFFER_COLLECTIVE="offer_collective",a.VENUE="venue",a))(i||{});const ea=""+new URL("offer-home-shell-DRe407mm.png",import.meta.url).href,aa=""+new URL("offer-shell-1NJvb7h9.png",import.meta.url).href,me={"image-preview-shell":"_image-preview-shell_1xnl4_1","image-preview-home-preview":"_image-preview-home-preview_1xnl4_6"},H={"image-preview-shell":"_image-preview-shell_glg9w_1","image-preview-blur-offer-preview":"_image-preview-blur-offer-preview_glg9w_7","image-preview-offer-preview":"_image-preview-offer-preview_glg9w_16"},b=({imageUrl:a})=>e.jsxs(Ve,{children:[e.jsxs(M,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:me["image-preview-shell"],src:ea}),e.jsx("img",{"data-testid":"app-preview-offer-img-home",alt:"",className:me["image-preview-home-preview"],src:a})]}),e.jsxs(M,{title:"Détails de l’offre",children:[e.jsx("img",{alt:"",className:H["image-preview-blur-offer-preview"],src:a}),e.jsx("img",{alt:"",className:H["image-preview-shell"],src:aa}),e.jsx("img",{"data-testid":"app-preview-offer-img",alt:"",className:H["image-preview-offer-preview"],src:a})]})]});try{b.displayName="AppPreviewOffer",b.__docgenInfo={description:"",displayName:"AppPreviewOffer",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const ra=""+new URL("venue-home-shell-Cg5ZqCow.png",import.meta.url).href,ta=""+new URL("venue-shell-BjZ1FMHk.png",import.meta.url).href,de={"image-preview-shell":"_image-preview-shell_3dbf9_1","image-preview-home-preview":"_image-preview-home-preview_3dbf9_6"},Y={"image-preview-shell":"_image-preview-shell_gbu12_1","image-preview-blur-venue-preview":"_image-preview-blur-venue-preview_gbu12_7","image-preview-venue-preview":"_image-preview-venue-preview_gbu12_16"},L=({imageUrl:a})=>{const r=Ce(),t=s.useCallback(()=>{r.error("Une erreur est survenue. Merci de réessayer plus tard")},[r]);return e.jsxs(Ve,{children:[e.jsxs(M,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:de["image-preview-shell"],src:ra}),e.jsx("img",{"data-testid":"app-preview-venue-img-home",alt:"",className:de["image-preview-home-preview"],onError:t,src:a})]}),e.jsxs(M,{title:"Page Lieu",children:[e.jsx("img",{alt:"",className:Y["image-preview-blur-venue-preview"],src:a}),e.jsx("img",{alt:"",className:Y["image-preview-shell"],src:ta}),e.jsx("img",{"data-testid":"app-preview-venue-img",alt:"",className:Y["image-preview-venue-preview"],src:a})]})]})};try{L.displayName="AppPreviewVenue",L.__docgenInfo={description:"",displayName:"AppPreviewVenue",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const ia="_container_uuguy_2",oa="_header_uuguy_8",na="_subtitle_uuguy_17",la="_actions_uuguy_23",sa="_button_uuguy_28",G={container:ia,header:oa,subtitle:na,actions:la,button:sa},Z=({mode:a,hideModal:r,imageUrl:t})=>{const n={[i.VENUE]:L,[i.OFFER]:b,[i.OFFER_COLLECTIVE]:b}[a];return e.jsx(je,{hasCloseButton:!0,labelledBy:"Ajouter une image",onDismiss:r,children:e.jsxs("div",{className:G.container,children:[e.jsx("header",{children:e.jsx("h1",{className:G.header,children:"Ajouter une image"})}),e.jsx("div",{className:G.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(n,{imageUrl:t})]})})};try{Z.displayName="ModalAppPreview",Z.__docgenInfo={description:"",displayName:"ModalAppPreview",props:{hideModal:{defaultValue:null,description:"",name:"hideModal",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const X=({imageUrl:a,mode:r})=>{const[t,n]=s.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(C,{onClick:()=>n(!0),variant:V.TERNARY,icon:qe,children:"Prévisualiser"}),t&&a&&e.jsx(Z,{mode:r,imageUrl:a,hideModal:()=>n(!1)})]})};try{X.displayName="ButtonAppPreview",X.__docgenInfo={description:"",displayName:"ButtonAppPreview",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const ma={"button-image-delete-icon":"_button-image-delete-icon_ooh4c_1"},K=({isLoading:a,onConfirm:r,onDismiss:t})=>e.jsx(Ae,{cancelText:"Retour",confirmText:"Supprimer",icon:Te,isLoading:a,onCancel:t,onConfirm:r,title:"Supprimer l’image",children:"Souhaitez-vous vraiment supprimer cette image ?"});try{K.displayName="ModalImageDelete",K.__docgenInfo={description:"",displayName:"ModalImageDelete",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}}}catch{}const Q=({onImageDelete:a})=>{const[r,t]=s.useState(!1),[n,o]=s.useState(!1),l=()=>{o(!0),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(C,{onClick:()=>t(!0),variant:V.TERNARY,children:[e.jsx(Ne,{alt:"",className:ma["button-image-delete-icon"],src:be}),"Supprimer"]}),r&&e.jsx(K,{isLoading:n,onConfirm:l,onDismiss:()=>t(!1)})]})};try{Q.displayName="ButtonImageDelete",Q.__docgenInfo={description:"",displayName:"ButtonImageDelete",props:{onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}}}}}catch{}const da="_label_185fk_23",ca="_icon_185fk_36",F={"button-image-add":"_button-image-add_185fk_2","add-image-venue":"_add-image-venue_185fk_15","add-image-offer":"_add-image-offer_185fk_19",label:da,"image-upload-button-label":"_image-upload-button-label_185fk_29",icon:ca},pa=async(a,r="image.jpg")=>{const n=await(await fetch(a)).blob();return new File([n],r,{type:n.type})},k=(a,r)=>a+r/2,ua=a=>1/a,Ue={[i.OFFER]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.OFFER_COLLECTIVE]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.VENUE]:{maxSize:1e7,minWidth:600,types:["image/png","image/jpeg"],minHeight:400}},ga=a=>{const[r,t]=s.useState(0),[n,o]=s.useState(0);return s.useEffect(()=>{Ge(a).then(l=>{l&&(t(l.width),o(l.height))})},[]),{width:r,height:n}},v={"modal-image-crop":"_modal-image-crop_1p3tz_2","modal-image-crop-editor":"_modal-image-crop-editor_1p3tz_13","modal-image-crop-actions":"_modal-image-crop-actions_1p3tz_18","modal-image-crop-form":"_modal-image-crop-form_1p3tz_25","modal-image-crop-header":"_modal-image-crop-header_1p3tz_31","modal-image-crop-right":"_modal-image-crop-right_1p3tz_39","modal-image-crop-credit":"_modal-image-crop-credit_1p3tz_45","modal-image-crop-footer":"_modal-image-crop-footer_1p3tz_51"},fa=({originalDimensions:a,orientation:r})=>r==="landscape"?{width:Math.floor(Math.min(a.width,a.height/2*3)),height:Math.floor(Math.min(a.height,a.width/3*2))}:{width:Math.floor(Math.min(a.width,a.height/3*2)),height:Math.floor(Math.min(a.height,a.width/2*3))},ee=({onReplaceImage:a,onImageDelete:r,image:t,credit:n,onSetCredit:o,onEditedImageSave:l,saveInitialPosition:g,initialPosition:m,initialScale:d,mode:c,submitButtonText:p})=>{const{width:u,height:N}=ga(t),I=s.useRef(null),A=Ce(),S=Ue[c].minWidth,{width:T}=fa({originalDimensions:{width:u,height:N},orientation:c===i.VENUE?"landscape":"portrait"}),y=Math.min(4,(T-10)/S),f={[i.OFFER]:384,[i.OFFER_COLLECTIVE]:384,[i.VENUE]:244}[c],W={[i.OFFER]:{canvasHeight:f,canvasWidth:f*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:y},[i.OFFER_COLLECTIVE]:{canvasHeight:f,canvasWidth:f*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:y},[i.VENUE]:{canvasHeight:f,canvasWidth:f*3/2,cropBorderColor:"#FFF",cropBorderHeight:40,cropBorderWidth:100,maxScale:y}}[c],U=ze({initialValues:{credit:n||"",scale:d||1},onSubmit:x=>{try{if(I.current){const P=I.current.getImage(),w=I.current.getCroppingRect();g({x:k(w.x,w.width),y:k(w.y,w.height)}),l(P.toDataURL(),w)}o(x.credit)}catch{A.error("Une erreur est survenue. Merci de réessayer plus tard")}}});return e.jsx("section",{className:v["modal-image-crop"],children:e.jsx($e,{value:U,children:e.jsxs(He,{onSubmit:U.handleSubmit,children:[e.jsxs("div",{className:v["modal-image-crop-form"],children:[e.jsx("header",{children:e.jsx("h1",{className:v["modal-image-crop-header"],children:"Modifier une image"})}),e.jsx("p",{className:v["modal-image-crop-right"],children:"En utilisant ce contenu, je certifie que je suis propriétaire ou que je dispose des autorisations nécessaires pour l’utilisation de celui-ci."}),e.jsxs("div",{className:v["modal-image-crop-editor"],children:[e.jsx(Ye,{...W,image:t,initialPosition:m,ref:I}),e.jsxs("div",{className:v["modal-image-crop-actions"],children:[e.jsx(C,{icon:Me,onClick:a,variant:V.TERNARY,children:"Remplacer l’image"}),e.jsx(C,{icon:be,onClick:r,variant:V.TERNARY,children:"Supprimer l’image"})]})]}),e.jsx(De,{countCharacters:!0,className:v["modal-image-crop-credit"],label:"Crédit de l’image",maxLength:255,name:"credit",placeholder:"Photographe...",required:!1,type:"text",isOptional:!0})]}),e.jsx(ke,{}),e.jsx("footer",{className:v["modal-image-crop-footer"],children:e.jsx(Ee,{children:p})})]})})})};try{ee.displayName="ModalImageCrop",ee.__docgenInfo={description:"",displayName:"ModalImageCrop",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"File"}},credit:{defaultValue:null,description:"",name:"credit",required:!0,type:{name:"string"}},onSetCredit:{defaultValue:null,description:"",name:"onSetCredit",required:!0,type:{name:"(credit: string) => void"}},onReplaceImage:{defaultValue:null,description:"",name:"onReplaceImage",required:!0,type:{name:"() => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialPosition:{defaultValue:null,description:"",name:"initialPosition",required:!1,type:{name:"Position"}},initialScale:{defaultValue:null,description:"",name:"initialScale",required:!1,type:{name:"number"}},saveInitialPosition:{defaultValue:null,description:"",name:"saveInitialPosition",required:!0,type:{name:"(position: Position) => void"}},onEditedImageSave:{defaultValue:null,description:"",name:"onEditedImageSave",required:!0,type:{name:"(dataUrl: string, croppedRect: CroppedRect) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!0,type:{name:"string"}}}}}catch{}const _a=({constraints:a})=>Xe().shape(a.reduce((r,t)=>({...r,[t.id]:Ke().test({message:t.description,test:(n,o)=>t.asyncValidator(o.parent.image)})}),{})),ae=({onSubmit:a,mode:r})=>{const[t,n]=s.useState([]),o=Ue[r],l=[R.formats(o.types),R.size(o.maxSize),R.width(o.minWidth),R.height(o.minHeight)],g=_a({constraints:l}),m=d=>{const c=d.currentTarget.files&&d.currentTarget.files[0]||null;c&&g.validate({image:c},{abortEarly:!1}).then(()=>a({image:c})).catch(p=>n(p.inner.map(u=>u.path||"unknown")))};return e.jsxs("form",{onSubmit:d=>d.preventDefault(),children:[e.jsx(Ze,{label:"Importer une image depuis l’ordinateur",fileTypes:["image/png","image/jpeg"],isValid:t.length===0,onChange:m}),e.jsx(Je,{constraints:l,failingConstraints:t})]})};try{ae.displayName="ImageUploadBrowserForm",ae.__docgenInfo={description:"",displayName:"ImageUploadBrowserForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const ha="_header_gcnvk_13",ce={"modal-upload-browser":"_modal-upload-browser_gcnvk_2",header:ha,"horizontal-rule":"_horizontal-rule_gcnvk_19"},re=({onImageClientUpload:a,mode:r})=>{const t={[i.OFFER]:"portrait",[i.OFFER_COLLECTIVE]:"portrait",[i.VENUE]:"landscape"}[r];return e.jsxs("section",{className:ce["modal-upload-browser"],children:[e.jsx("header",{children:e.jsx("h1",{className:ce.header,children:"Ajouter une image"})}),e.jsx(Qe,{orientation:t}),e.jsx(ae,{onSubmit:a,mode:r})]})};try{re.displayName="ModalImageUploadBrowser",re.__docgenInfo={description:"",displayName:"ModalImageUploadBrowser",props:{onImageClientUpload:{defaultValue:null,description:"",name:"onImageClientUpload",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const va="_container_4bsmh_2",Ia="_header_4bsmh_8",ya="_subtitle_4bsmh_17",wa="_actions_4bsmh_23",xa="_button_4bsmh_29",E={container:va,header:Ia,subtitle:ya,actions:wa,button:xa},te=({imageUrl:a,isUploading:r,onGoBack:t,onUploadImage:n,mode:o})=>{const l={[i.VENUE]:L,[i.OFFER]:b,[i.OFFER_COLLECTIVE]:b}[o];return e.jsxs("div",{className:E.container,children:[e.jsx("header",{children:e.jsx("h1",{className:E.header,children:"Modifier une image"})}),e.jsx("div",{className:E.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(l,{imageUrl:a}),e.jsxs("div",{className:E.actions,children:[e.jsx(C,{className:E.button,onClick:t,title:"Retour",type:"button",variant:V.SECONDARY,children:"Retour"}),e.jsx(Ee,{className:E.button,disabled:!1,isLoading:!!r,onClick:n})]})]})};try{te.displayName="ModalImageUploadConfirm",te.__docgenInfo={description:"",displayName:"ModalImageUploadConfirm",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},isUploading:{defaultValue:null,description:"",name:"isUploading",required:!0,type:{name:"boolean"}},onGoBack:{defaultValue:null,description:"",name:"onGoBack",required:!0,type:{name:"() => void"}},onUploadImage:{defaultValue:null,description:"",name:"onUploadImage",required:!0,type:{name:"() => void"}}}}}catch{}const ie=({mode:a,onDismiss:r,onImageUpload:t,onImageDelete:n,initialValues:o={}})=>{const[l,g]=s.useState(!1),{imageUrl:m,originalImageUrl:d,credit:c,cropParams:p}=o,[u,N]=s.useState();s.useEffect(()=>{async function _($){N(await pa($))}const h=d||m;h&&_(h),g(!0)},[]);const[I,A]=s.useState(c||""),[S,T]=s.useState(),[y,f]=s.useState(""),[W,ne]=s.useState(!1),{xCropPercent:z,yCropPercent:U,heightCropPercent:x,widthCropPercent:P}=p||{},[w,Se]=s.useState({x:z&&P?k(z,P):.5,y:U&&x?k(U,x):.5}),Pe=()=>{f("")},Re=_=>{N(_.image||void 0)},Be=()=>{N(void 0)},le=(_,h,$)=>{_===void 0||h===void 0||(t({imageFile:h,imageCroppedDataUrl:$,cropParams:_,credit:I}),r(),ne(!1))},se=a!==i.OFFER_COLLECTIVE,Oe=(_,h)=>{T(h),f(_),se||le(h,u,_)};return l?e.jsx(je,{hasCloseButton:!0,labelledBy:"Modifier une image",onDismiss:r,children:u?!S||!y?e.jsx(ee,{credit:I,image:u,initialPosition:w,initialScale:x?ua(x):1,onEditedImageSave:Oe,onReplaceImage:Be,onImageDelete:n,onSetCredit:A,saveInitialPosition:Se,mode:a,submitButtonText:se?"Suivant":"Enregistrer"}):e.jsx(te,{isUploading:W,onGoBack:Pe,onUploadImage:()=>le(S,u,y),imageUrl:y,mode:a}):e.jsx(re,{onImageClientUpload:Re,mode:a})}):null};try{ie.displayName="ModalImageEdit",ie.__docgenInfo={description:"",displayName:"ModalImageEdit",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}}}}}catch{}const D=({mode:a,initialValues:r={},onImageUpload:t,onImageDelete:n,onClickButtonImage:o,children:l})=>{const[g,m]=s.useState(!1),{imageUrl:d,originalImageUrl:c}=r,p=()=>{o&&o(),m(!0)},u=()=>{n(),m(!1)};return e.jsxs(e.Fragment,{children:[d||c?e.jsx(C,{onClick:p,variant:V.TERNARY,alt:"Modifier l’image",icon:We,children:l??"Modifier"}):e.jsxs("button",{className:J(F["button-image-add"],{[F["add-image-venue"]]:a===i.VENUE,[F["add-image-offer"]]:a===i.OFFER||a===i.OFFER_COLLECTIVE}),onClick:p,type:"button",children:[e.jsx(Ne,{src:Le,alt:"",className:F.icon}),e.jsx("span",{className:F.label,children:"Ajouter une image"})]}),g&&e.jsx(ie,{mode:a,onDismiss:()=>m(!1),onImageUpload:t,onImageDelete:u,initialValues:r})]})};try{D.displayName="ButtonImageEdit",D.__docgenInfo={description:"",displayName:"ButtonImageEdit",props:{onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImage:{defaultValue:null,description:"",name:"onClickButtonImage",required:!1,type:{name:"(() => void)"}}}}}catch{}const j={"explanatory-text":"_explanatory-text_102ob_1","image-uploader-image-container":"_image-uploader-image-container_102ob_5","image-uploader-actions-container":"_image-uploader-actions-container_102ob_9","actions-wrapper":"_actions-wrapper_102ob_16","image-preview":"_image-preview_102ob_24","preview-venue":"_preview-venue_102ob_30","preview-offer":"_preview-offer_102ob_34"},oe=({className:a,onImageUpload:r,onImageDelete:t,initialValues:n={},mode:o,onClickButtonImageAdd:l,hideActionButtons:g=!1})=>{const{imageUrl:m,originalImageUrl:d,credit:c,cropParams:p}=n;return e.jsx("div",{className:J(j["image-uploader-image-container"],a),children:m&&d?e.jsxs(e.Fragment,{children:[e.jsx("img",{alt:"Prévisualisation de l’image",className:J(j["image-preview"],{[j["preview-venue"]]:o===i.VENUE,[j["preview-offer"]]:o===i.OFFER||o===i.OFFER_COLLECTIVE}),src:m}),!g&&e.jsx("div",{className:j["image-uploader-actions-container"],children:e.jsxs("div",{className:j["actions-wrapper"],children:[e.jsx(D,{mode:o,initialValues:{originalImageUrl:d,imageUrl:m,credit:c,cropParams:p},onImageUpload:r,onImageDelete:t,onClickButtonImage:l}),o!==i.OFFER_COLLECTIVE&&e.jsx(X,{imageUrl:m,mode:o}),e.jsx(Q,{onImageDelete:t})]})})]}):e.jsx(D,{mode:o,onImageUpload:r,onImageDelete:t,onClickButtonImage:l})})};try{oe.displayName="ImageUploader",oe.__docgenInfo={description:"",displayName:"ImageUploader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImageAdd:{defaultValue:null,description:"",name:"onClickButtonImageAdd",required:!1,type:{name:"(() => void)"}},hideActionButtons:{defaultValue:{value:"false"},description:"",name:"hideActionButtons",required:!1,type:{name:"boolean"}}}}}catch{}const pe=""+new URL("sample-image-landscape-B4GmPBHc.jpg",import.meta.url).href,ue=""+new URL("sample-image-portrait-OorsIixL.jpg",import.meta.url).href,Vr={title:"components/ImageUploader",component:oe},Fe={initialValues:{originalImageUrl:ue,imageUrl:ue,credit:"John Do",cropParams:{xCropPercent:0,yCropPercent:0,heightCropPercent:1,widthCropPercent:1}},mode:i.OFFER,onImageDelete:()=>{alert("onDelete have been called.")},onImageUpload:()=>{alert("onImageUpload have been called.")}},B={args:{...Fe}},O={args:{...Fe,initialValues:{imageUrl:pe,originalImageUrl:pe},mode:i.VENUE}},q={args:{mode:i.OFFER}};var ge,fe,_e;B.parameters={...B.parameters,docs:{...(ge=B.parameters)==null?void 0:ge.docs,source:{originalSource:`{
  args: {
    ...props
  }
}`,...(_e=(fe=B.parameters)==null?void 0:fe.docs)==null?void 0:_e.source}}};var he,ve,Ie;O.parameters={...O.parameters,docs:{...(he=O.parameters)==null?void 0:he.docs,source:{originalSource:`{
  args: {
    ...props,
    initialValues: {
      imageUrl: sampleImageLandscape,
      originalImageUrl: sampleImageLandscape
    },
    mode: UploaderModeEnum.VENUE
  }
}`,...(Ie=(ve=O.parameters)==null?void 0:ve.docs)==null?void 0:Ie.source}}};var ye,we,xe;q.parameters={...q.parameters,docs:{...(ye=q.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    mode: UploaderModeEnum.OFFER
  }
}`,...(xe=(we=q.parameters)==null?void 0:we.docs)==null?void 0:xe.source}}};const Cr=["WithImageOffer","WithImageVenue","WithoutImage"];export{B as WithImageOffer,O as WithImageVenue,q as WithoutImage,Cr as __namedExportsOrder,Vr as default};
