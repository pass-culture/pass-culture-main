import{j as X}from"./jsx-runtime-BYYWji4R.js";import{u as Ft,a as qt,F as jt}from"./formik.esm-DUQIEGuZ.js";import{P as s}from"./index-BH3dreXg.js";import{r as d,R as Re}from"./index-ClcD9ViR.js";import{a as Se}from"./tslib.es6-BUas5LQb.js";import{B as Wt,s as Nt}from"./BaseInput-BrnVefEj.js";import{B as _t}from"./BaseCheckbox-BwQ6YW84.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Chjiymov.js";import"./index-DeARc5FM.js";import"./SvgIcon-CyWUmZpn.js";function be(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w.apply(null,arguments)}var m={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=Symbol.for("react.element"),Xe=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Ut=Symbol.for("react.server_context"),$e=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),zt=Symbol.for("react.offscreen"),bt;bt=Symbol.for("react.module.reference");function A(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ge:switch(e=e.type,e){case Te:case He:case Ke:case Le:case Be:return e;default:switch(e=e&&e.$$typeof,e){case Ut:case Pe:case $e:case qe:case Fe:case Ae:return e;default:return t}}case Xe:return t}}}m.ContextConsumer=Pe;m.ContextProvider=Ae;m.Element=Ge;m.ForwardRef=$e;m.Fragment=Te;m.Lazy=qe;m.Memo=Fe;m.Portal=Xe;m.Profiler=He;m.StrictMode=Ke;m.Suspense=Le;m.SuspenseList=Be;m.isAsyncMode=function(){return!1};m.isConcurrentMode=function(){return!1};m.isContextConsumer=function(e){return A(e)===Pe};m.isContextProvider=function(e){return A(e)===Ae};m.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ge};m.isForwardRef=function(e){return A(e)===$e};m.isFragment=function(e){return A(e)===Te};m.isLazy=function(e){return A(e)===qe};m.isMemo=function(e){return A(e)===Fe};m.isPortal=function(e){return A(e)===Xe};m.isProfiler=function(e){return A(e)===He};m.isStrictMode=function(e){return A(e)===Ke};m.isSuspense=function(e){return A(e)===Le};m.isSuspenseList=function(e){return A(e)===Be};m.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Te||e===He||e===Ke||e===Le||e===Be||e===zt||typeof e=="object"&&e!==null&&(e.$$typeof===qe||e.$$typeof===Fe||e.$$typeof===Ae||e.$$typeof===Pe||e.$$typeof===$e||e.$$typeof===bt||e.getModuleId!==void 0)};m.typeOf=A;const ct=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ft=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ne=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ft(n.overflowY,t)||ft(n.overflowX,t)||(i=>{const r=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},xe=(e,t,n,i,r,o,u,l)=>o<e&&u>t||o>e&&u<t?0:o<=e&&l<=n||u>=t&&l>=n?o-e-i:u>t&&l<n||o<e&&l>n?u-t+r:0,Gt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Xt=(e,t)=>{var n,i,r,o;if(typeof document>"u")return[];const{inline:u,boundary:l,skipOverflowHiddenElements:a}=t,I=typeof l=="function"?l:F=>F!==l;if(!ct(e))throw new TypeError("Invalid target");const b=document.scrollingElement||document.documentElement,P=[];let x=e;for(;ct(x)&&I(x);){if(x=Gt(x),x===b){P.push(x);break}x!=null&&x===document.body&&Ne(x)&&!Ne(document.documentElement)||x!=null&&Ne(x,a)&&P.push(x)}const C=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,O=(o=(r=window.visualViewport)==null?void 0:r.height)!=null?o:innerHeight,{scrollX:D,scrollY:S}=window,{height:N,width:p,top:M,right:v,bottom:B,left:K}=e.getBoundingClientRect(),{top:_,right:U,left:te}=(F=>{const y=window.getComputedStyle(F);return{top:parseFloat(y.scrollMarginTop)||0,right:parseFloat(y.scrollMarginRight)||0,bottom:parseFloat(y.scrollMarginBottom)||0,left:parseFloat(y.scrollMarginLeft)||0}})(e);let J=M-_,k=u==="center"?K+p/2-te+U:u==="end"?v+U:K-te;const le=[];for(let F=0;F<P.length;F++){const y=P[F],{height:se,width:ne,top:me,right:de,bottom:pe,left:re}=y.getBoundingClientRect();if(M>=0&&K>=0&&B<=O&&v<=C&&M>=me&&B<=pe&&K>=re&&v<=de)return le;const ie=getComputedStyle(y),h=parseInt(ie.borderLeftWidth,10),c=parseInt(ie.borderTopWidth,10),f=parseInt(ie.borderRightWidth,10),g=parseInt(ie.borderBottomWidth,10);let E=0,R=0;const V="offsetWidth"in y?y.offsetWidth-y.clientWidth-h-f:0,$="offsetHeight"in y?y.offsetHeight-y.clientHeight-c-g:0,T="offsetWidth"in y?y.offsetWidth===0?0:ne/y.offsetWidth:0,H="offsetHeight"in y?y.offsetHeight===0?0:se/y.offsetHeight:0;if(b===y)E=xe(S,S+O,O,c,g,S+J,S+J+N,N),R=u==="start"?k:u==="center"?k-C/2:u==="end"?k-C:xe(D,D+C,C,h,f,D+k,D+k+p,p),E=Math.max(0,E+S),R=Math.max(0,R+D);else{E=xe(me,pe,se,c,g+$,J,J+N,N),R=u==="start"?k-re-h:u==="center"?k-(re+ne/2)+V/2:u==="end"?k-de+f+V:xe(re,de,ne,h,f+V,k,k+p,p);const{scrollLeft:L,scrollTop:ue}=y;E=H===0?0:Math.max(0,Math.min(ue+E/H,y.scrollHeight-se/H+$)),R=T===0?0:Math.max(0,Math.min(L+R/T,y.scrollWidth-ne/T+V)),J+=ue-E,k+=L-R}le.push({el:y,top:E,left:R})}return le};var Yt=0;function xt(){}function Jt(e,t){if(e){var n=Xt(e,{boundary:t});n.forEach(function(i){var r=i.el,o=i.top,u=i.left;r.scrollTop=o,r.scrollLeft=u})}}function ht(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function wt(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];i(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return r.cancel=i,r}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return t.some(function(l){return l&&l.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Qt(){return String(Yt++)}function _e(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=Ct(t,i)?t[i]:e[i],n},{})}function Ct(e,t){return e[t]!==void 0}function Zt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Ce(e,t,n,i,r){var o=n.length;if(o===0)return-1;var u=o-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var l=e+t;l<0?l=u:l>u&&(l=0);var a=ke(l,t<0,n,i,r);return a===-1?e>=o?-1:e:a}function ke(e,t,n,i,r){r===void 0&&(r=!1);var o=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var l=e;l<o;l++)if(!i(n[l],l))return l;return r?ke(t?o-1:0,t,n,i):-1}function gt(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(ht(r,e,n)||i&&ht(r,n.document.activeElement,n))})}var en=wt(function(e){Mt(e).textContent=""},500);function Mt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function tn(e,t){if(!(!e||!t)){var n=Mt(t);n.textContent=e,en(t)}}function nn(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var Dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function rn(e,t,n){var i=e.props,r=e.type,o={};Object.keys(t).forEach(function(u){un(u,e,t,n),n[u]!==t[u]&&(o[u]=n[u])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(w({type:r},o))}function un(e,t,n,i){var r=t.props,o=t.type,u="on"+Ye(e)+"Change";r[u]&&i[e]!==void 0&&i[e]!==n[e]&&r[u](w({type:o},i))}function on(e,t){return t.changes}var mt=wt(function(e,t){tn(e,t)},200),an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect,ln="useId"in Re?function(t){var n=t.id,i=t.labelId,r=t.menuId,o=t.getItemId,u=t.toggleButtonId,l=t.inputId,a="downshift-"+Re.useId();n||(n=a);var I=d.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:o||function(b){return n+"-item-"+b},toggleButtonId:u||n+"-toggle-button",inputId:l||n+"-input"});return I.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Qt():n,r=t.labelId,o=t.menuId,u=t.getItemId,l=t.toggleButtonId,a=t.inputId,I=d.useRef({labelId:r||i+"-label",menuId:o||i+"-menu",getItemId:u||function(b){return i+"-item-"+b},toggleButtonId:l||i+"-toggle-button",inputId:a||i+"-input"});return I.current};function sn(e,t,n,i){var r,o;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],o=t}else o=t===void 0?n.indexOf(e):t,r=e;return[r,o]}function Ye(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Ot(e){var t=d.useRef(e);return t.current=e,t}function dn(e,t,n,i){var r=d.useRef(),o=d.useRef(),u=d.useCallback(function(C,O){o.current=O,C=_e(C,O.props);var D=e(C,O),S=O.props.stateReducer(C,w({},O,{changes:D}));return S},[e]),l=d.useReducer(u,t,n),a=l[0],I=l[1],b=Ot(t),P=d.useCallback(function(C){return I(w({props:b.current},C))},[b]),x=o.current;return d.useEffect(function(){var C=_e(r.current,x==null?void 0:x.props),O=x&&r.current&&!i(C,a);O&&rn(x,C,a),r.current=a},[a,x,i]),[a,P]}var fe={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:on,scrollIntoView:Jt,environment:typeof window>"u"?void 0:window};function Y(e,t,n){n===void 0&&(n=Dt);var i=e["default"+Ye(t)];return i!==void 0?i:n[t]}function he(e,t,n){n===void 0&&(n=Dt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Ye(t)];return r!==void 0?r:Y(e,t,n)}function cn(e){var t=he(e,"selectedItem"),n=he(e,"isOpen"),i=vn(e),r=he(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function ge(e,t,n){var i=e.items,r=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=e.isItemDisabled,l=e.itemToKey,a=t.selectedItem,I=t.highlightedIndex;return i.length===0?-1:r!==void 0&&I===r&&!u(i[r],r)?r:o!==void 0&&!u(i[o],o)?o:a?i.findIndex(function(b){return l(a)===l(b)}):n<0&&!u(i[i.length-1],i.length-1)?i.length-1:n>0&&!u(i[0],0)?0:-1}function fn(e,t,n){var i=d.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return d.useEffect(function(){if(!e)return xt;var r=n.map(function(b){return b.current});function o(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function u(b){i.current.isMouseDown=!1,gt(b.target,r,e)||t()}function l(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function a(){i.current.isTouchMove=!0}function I(b){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!gt(b.target,r,e,!1)&&t()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",u),e.addEventListener("touchstart",l),e.addEventListener("touchmove",a),e.addEventListener("touchend",I),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",I)}},[n,e,t]),i.current}var hn=function(){return xt};function gn(e,t,n,i){i===void 0&&(i={});var r=i.document,o=Je();d.useEffect(function(){if(!(!e||o||!r)){var u=e(t);mt(u,r)}},n),d.useEffect(function(){return function(){mt.cancel(),nn(r)}},[r])}function mn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,o=e.menuElement,u=e.scrollIntoView,l=d.useRef(!0);return an(function(){t<0||!n||!Object.keys(i.current).length||(l.current===!1?l.current=!0:u(r(t),o))},[t]),l}function pt(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return w({isOpen:!1,highlightedIndex:-1},r&&w({selectedItem:e.items[t],isOpen:Y(e,"isOpen"),highlightedIndex:Y(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function pn(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Je(){var e=Re.useRef(!0);return Re.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Ue(e){var t=Y(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function vn(e){var t=he(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Oe={environment:s.shape({addEventListener:s.func.isRequired,removeEventListener:s.func.isRequired,document:s.shape({createElement:s.func.isRequired,getElementById:s.func.isRequired,activeElement:s.any.isRequired,body:s.any.isRequired}).isRequired,Node:s.func.isRequired}),itemToString:s.func,itemToKey:s.func,stateReducer:s.func},Et=w({},Oe,{getA11yStatusMessage:s.func,highlightedIndex:s.number,defaultHighlightedIndex:s.number,initialHighlightedIndex:s.number,isOpen:s.bool,defaultIsOpen:s.bool,initialIsOpen:s.bool,selectedItem:s.any,initialSelectedItem:s.any,defaultSelectedItem:s.any,id:s.string,labelId:s.string,menuId:s.string,getItemId:s.func,toggleButtonId:s.string,onSelectedItemChange:s.func,onHighlightedIndexChange:s.func,onStateChange:s.func,onIsOpenChange:s.func,scrollIntoView:s.func});function In(e,t,n){var i=t.type,r=t.props,o;switch(i){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ge(r,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:ge(r,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:r.isItemDisabled(r.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:Ue(r),isOpen:Y(r,"isOpen"),selectedItem:Y(r,"selectedItem"),inputValue:Y(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return w({},e,o)}Se(Se({},Et),{items:s.array.isRequired,isItemDisabled:s.func});Se(Se({},fe),{isItemDisabled:function(){return!1}});var Qe=0,Ze=1,et=2,tt=3,nt=4,rt=5,it=6,ut=7,ot=8,Ve=9,at=10,Rt=11,St=12,lt=13,kt=14,Vt=15,Tt=16,Kt=17,Ht=18,st=19,At=20,Pt=21,dt=22,$t=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:dt,FunctionCloseMenu:Kt,FunctionOpenMenu:Tt,FunctionReset:Pt,FunctionSelectItem:st,FunctionSetHighlightedIndex:Ht,FunctionSetInputValue:At,FunctionToggleMenu:Vt,InputBlur:Ve,InputChange:ot,InputClick:at,InputKeyDownArrowDown:Qe,InputKeyDownArrowUp:Ze,InputKeyDownEnd:nt,InputKeyDownEnter:ut,InputKeyDownEscape:et,InputKeyDownHome:tt,InputKeyDownPageDown:it,InputKeyDownPageUp:rt,ItemClick:lt,ItemMouseMove:St,MenuMouseLeave:Rt,ToggleButtonClick:kt});function yn(e){var t=cn(e),n=t.selectedItem,i=t.inputValue;return i===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(n)),w({},t,{inputValue:i})}w({},Et,{items:s.array.isRequired,isItemDisabled:s.func,inputValue:s.string,defaultInputValue:s.string,initialInputValue:s.string,inputId:s.string,onInputValueChange:s.func});function bn(e,t,n,i){var r=d.useRef(),o=dn(e,t,n,i),u=o[0],l=o[1],a=Je();return d.useEffect(function(){if(Ct(t,"selectedItem")){if(!a){var I=t.itemToKey(t.selectedItem)!==t.itemToKey(r.current);I&&l({type:dt,inputValue:t.itemToString(t.selectedItem)})}r.current=u.selectedItem===r.current?t.selectedItem:u.selectedItem}},[u.selectedItem,t.selectedItem]),[_e(u,t),l]}var xn=w({},fe,{isItemDisabled:function(){return!1}});function wn(e,t){var n,i=t.type,r=t.props,o=t.altKey,u;switch(i){case lt:u={isOpen:Y(r,"isOpen"),highlightedIndex:Ue(r),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case Qe:e.isOpen?u={highlightedIndex:Ce(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:o&&e.selectedItem==null?-1:ge(r,e,1),isOpen:r.items.length>=0};break;case Ze:e.isOpen?o?u=pt(r,e.highlightedIndex):u={highlightedIndex:Ce(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:ge(r,e,-1),isOpen:r.items.length>=0};break;case ut:u=pt(r,e.highlightedIndex);break;case et:u=w({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case rt:u={highlightedIndex:Ce(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case it:u={highlightedIndex:Ce(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case tt:u={highlightedIndex:ke(0,!1,r.items,r.isItemDisabled)};break;case nt:u={highlightedIndex:ke(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case Ve:u=w({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case ot:u={isOpen:!0,highlightedIndex:Ue(r),inputValue:t.inputValue};break;case at:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ge(r,e,0)};break;case st:u={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case dt:u={inputValue:t.inputValue};break;default:return In(e,t,$t)}return w({},e,u)}var Cn=["onMouseLeave","refKey","ref"],Mn=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Dn=["onClick","onPress","refKey","ref"],On=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Ee.stateChangeTypes=$t;function Ee(e){e===void 0&&(e={});var t=w({},xn,e),n=t.items,i=t.scrollIntoView,r=t.environment,o=t.getA11yStatusMessage,u=bn(wn,t,yn,pn),l=u[0],a=u[1],I=l.isOpen,b=l.highlightedIndex,P=l.selectedItem,x=l.inputValue,C=d.useRef(null),O=d.useRef({}),D=d.useRef(null),S=d.useRef(null),N=Je(),p=ln(t),M=d.useRef(),v=Ot({state:l,props:t}),B=d.useCallback(function(h){return O.current[p.getItemId(h)]},[p]);gn(o,l,[I,b,P,x],r);var K=mn({menuElement:C.current,highlightedIndex:b,isOpen:I,itemRefs:O,scrollIntoView:i,getItemNodeFromIndex:B});d.useEffect(function(){var h=he(t,"isOpen");h&&D.current&&D.current.focus()},[]),d.useEffect(function(){N||(M.current=n.length)});var _=fn(r,d.useCallback(function(){v.current.state.isOpen&&a({type:Ve,selectItem:!1})},[a,v]),d.useMemo(function(){return[C,S,D]},[C.current,S.current,D.current])),U=hn();d.useEffect(function(){I||(O.current={})},[I]),d.useEffect(function(){var h;!I||!(r!=null&&r.document)||!(D!=null&&(h=D.current)!=null&&h.focus)||r.document.activeElement!==D.current&&D.current.focus()},[I,r]);var te=d.useMemo(function(){return{ArrowDown:function(c){c.preventDefault(),a({type:Qe,altKey:c.altKey})},ArrowUp:function(c){c.preventDefault(),a({type:Ze,altKey:c.altKey})},Home:function(c){v.current.state.isOpen&&(c.preventDefault(),a({type:tt}))},End:function(c){v.current.state.isOpen&&(c.preventDefault(),a({type:nt}))},Escape:function(c){var f=v.current.state;(f.isOpen||f.inputValue||f.selectedItem||f.highlightedIndex>-1)&&(c.preventDefault(),a({type:et}))},Enter:function(c){var f=v.current.state;!f.isOpen||c.which===229||(c.preventDefault(),a({type:ut}))},PageUp:function(c){v.current.state.isOpen&&(c.preventDefault(),a({type:rt}))},PageDown:function(c){v.current.state.isOpen&&(c.preventDefault(),a({type:it}))}}},[a,v]),J=d.useCallback(function(h){return w({id:p.labelId,htmlFor:p.inputId},h)},[p]),k=d.useCallback(function(h,c){var f,g=h===void 0?{}:h,E=g.onMouseLeave,R=g.refKey,V=R===void 0?"ref":R,$=g.ref,T=be(g,Cn),H=c===void 0?{}:c;return H.suppressRefError,w((f={},f[V]=we($,function(L){C.current=L}),f.id=p.menuId,f.role="listbox",f["aria-labelledby"]=T&&T["aria-label"]?void 0:""+p.labelId,f.onMouseLeave=W(E,function(){a({type:Rt})}),f),T)},[a,U,p]),le=d.useCallback(function(h){var c,f,g=h===void 0?{}:h,E=g.item,R=g.index,V=g.refKey,$=V===void 0?"ref":V,T=g.ref,H=g.onMouseMove,L=g.onMouseDown,ue=g.onClick;g.onPress;var oe=g.disabled,je=be(g,Mn);oe!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var q=v.current,ve=q.props,Ie=q.state,ye=sn(E,R,ve.items,"Pass either item or index to getItemProps!"),We=ye[0],j=ye[1],ae=ve.isItemDisabled(We,j),z="onClick",Q=ue,G=function(){_.isTouchEnd||j===Ie.highlightedIndex||(K.current=!1,a({type:St,index:j,disabled:ae}))},Z=function(){a({type:lt,index:j})},Lt=function(Bt){return Bt.preventDefault()};return w((c={},c[$]=we(T,function(ce){ce&&(O.current[p.getItemId(j)]=ce)}),c["aria-disabled"]=ae,c["aria-selected"]=j===Ie.highlightedIndex,c.id=p.getItemId(j),c.role="option",c),!ae&&(f={},f[z]=W(Q,Z),f),{onMouseMove:W(H,G),onMouseDown:W(L,Lt)},je)},[a,p,v,_,K]),F=d.useCallback(function(h){var c,f=h===void 0?{}:h,g=f.onClick;f.onPress;var E=f.refKey,R=E===void 0?"ref":E,V=f.ref,$=be(f,Dn),T=v.current.state,H=function(){a({type:kt})};return w((c={},c[R]=we(V,function(L){S.current=L}),c["aria-controls"]=p.menuId,c["aria-expanded"]=T.isOpen,c.id=p.toggleButtonId,c.tabIndex=-1,c),!$.disabled&&w({},{onClick:W(g,H)}),$)},[a,v,p]),y=d.useCallback(function(h,c){var f,g=h===void 0?{}:h,E=g.onKeyDown,R=g.onChange,V=g.onInput,$=g.onBlur;g.onChangeText;var T=g.onClick,H=g.refKey,L=H===void 0?"ref":H,ue=g.ref,oe=be(g,On),je=c===void 0?{}:c;je.suppressRefError;var q=v.current.state,ve=function(G){var Z=Zt(G);Z&&te[Z]&&te[Z](G)},Ie=function(G){a({type:ot,inputValue:G.target.value})},ye=function(G){if(r!=null&&r.document&&q.isOpen&&!_.isMouseDown){var Z=G.relatedTarget===null&&r.document.activeElement!==r.document.body;a({type:Ve,selectItem:!Z})}},We=function(){a({type:at})},j="onChange",ae={};if(!oe.disabled){var z;ae=(z={},z[j]=W(R,V,Ie),z.onKeyDown=W(E,ve),z.onBlur=W($,ye),z.onClick=W(T,We),z)}return w((f={},f[L]=we(ue,function(Q){D.current=Q}),f["aria-activedescendant"]=q.isOpen&&q.highlightedIndex>-1?p.getItemId(q.highlightedIndex):"",f["aria-autocomplete"]="list",f["aria-controls"]=p.menuId,f["aria-expanded"]=q.isOpen,f["aria-labelledby"]=oe&&oe["aria-label"]?void 0:p.labelId,f.autoComplete="off",f.id=p.inputId,f.role="combobox",f.value=q.inputValue,f),ae,oe)},[a,p,r,te,v,_,U]),se=d.useCallback(function(){a({type:Vt})},[a]),ne=d.useCallback(function(){a({type:Kt})},[a]),me=d.useCallback(function(){a({type:Tt})},[a]),de=d.useCallback(function(h){a({type:Ht,highlightedIndex:h})},[a]),pe=d.useCallback(function(h){a({type:st,selectedItem:h})},[a]),re=d.useCallback(function(h){a({type:At,inputValue:h})},[a]),ie=d.useCallback(function(){a({type:Pt})},[a]);return{getItemProps:le,getLabelProps:J,getMenuProps:k,getInputProps:y,getToggleButtonProps:F,toggleMenu:se,openMenu:me,closeMenu:ne,setHighlightedIndex:de,setInputValue:re,selectItem:pe,reset:ie,highlightedIndex:b,isOpen:I,selectedItem:P,inputValue:x}}Oe.stateReducer,Oe.itemToKey,Oe.environment,s.array,s.array,s.array,s.func,s.number,s.number,s.number,s.func,s.func,s.string,s.string;fe.itemToKey,fe.stateReducer,fe.environment;const En="_container_140w1_1",Me={container:En,"search-list":"_search-list_140w1_7","visually-hidden":"_visually-hidden_140w1_33"},Rn=(e,t)=>{const n=new RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,""),"i");return e.filter(i=>i.label.match(n))},Sn=(e,t)=>e.sort((n,i)=>ee(t,i.value)&&!ee(t,n.value)?1:!ee(t,i.value)&&ee(t,n.value)?-1:n.label.localeCompare(i.label)),ee=(e,t)=>{if(Array.isArray(t)){const n=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(r=>n.has(r)))}return e.includes(t)},ze=({options:e,name:t,label:n,isOpen:i,sortOptions:r,filterMaxLength:o=255})=>{const[u,l]=d.useState(""),[a]=Ft(t),{setFieldValue:I}=qt(),[b,P]=d.useState([]),x=d.useId(),{getLabelProps:C,getMenuProps:O,getInputProps:D,getItemProps:S,setInputValue:N}=Ee({items:b,defaultHighlightedIndex:0,selectedItem:null,stateReducer(M,v){const{changes:B,type:K}=v;return K===Ee.stateChangeTypes.InputKeyDownEnter||K===Ee.stateChangeTypes.ItemClick?{...B,isOpen:!0}:B},onInputValueChange:({inputValue:M})=>{l(M||"")},itemToString:()=>u}),p=async M=>{if(ee(a.value,M.value)){if(a.value.length>0&&Array.isArray(a.value[0])){await I(t,a.value.filter(v=>!M.value.some(B=>v.includes(B))));return}await I(t,a.value.filter(v=>!ee([M.value],v)))}else await I(t,[...a.value,M.value])};return d.useEffect(()=>{l(""),N(""),P((r??Sn)(e,a.value))},[i]),X.jsxs("div",{className:Me.container,children:[X.jsx("label",{htmlFor:"search",className:Me["visually-hidden"],...C(),children:n}),X.jsx(Wt,{type:"search",name:"search",className:Me["search-input"],maxLength:o,value:u,"aria-describedby":x,leftIcon:Nt,...D()}),X.jsx("ul",{className:Me["search-list"],...O({"aria-activedescendant":D()["aria-activedescendant"]}),children:Rn(b,u).map((M,v)=>{const{ref:B,...K}=S({item:M,index:v}),_=Array.isArray(M.value)?M.value.join("_"):M.value,U=ee(a.value,M.value);return X.jsx("li",{children:X.jsx(_t,{label:M.label,name:t,checked:U,onChange:()=>p(M),...K,"aria-selected":U},`${t}-${M.label}`)},`${_}`)})})]})};try{ze.displayName="AdageMultiselect",ze.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},filterMaxLength:{defaultValue:{value:"255"},description:"",name:"filterMaxLength",required:!1,type:{name:"number"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: (string | number | string[])[]) => ItemProps[])"}}}}}catch{}const jn={title:"ui-kit/forms/AdageMultiselect",component:ze,decorators:[e=>X.jsx(jt,{initialValues:{educationalDomains:[]},onSubmit:()=>{},children:X.jsx(e,{})})]},kn=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Mémoire"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"},{value:18,label:"Patrimoine"}],De={args:{options:kn,name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0}};var vt,It,yt;De.parameters={...De.parameters,docs:{...(vt=De.parameters)==null?void 0:vt.docs,source:{originalSource:`{
  args: {
    options,
    name: 'educationalDomains',
    label: 'Rechercher un domaine artistique',
    isOpen: true
  }
}`,...(yt=(It=De.parameters)==null?void 0:It.docs)==null?void 0:yt.source}}};const Wn=["Default"];export{De as Default,Wn as __namedExportsOrder,jn as default};
