import{j as e}from"./jsx-runtime-Nms4Y4qS.js";import{c as Z}from"./index-BpvXyOxN.js";import{r as l}from"./index-BwDkhjyp.js";import{f as Le,a as Me,s as De}from"./full-download-B3WGRmtu.js";import{B as v}from"./Button-FYdVlZ70.js";import{B as U}from"./types-DjX_gQD6.js";import{D as Ve}from"./DialogBox-D3WvpI_d.js";import{a as Ce,I as M}from"./ImagePreviewsWrapper-BXOFIYnu.js";import{u as le}from"./useNotification-BVgVv55Z.js";import{f as Ne}from"./full-trash-HlGguSvW.js";import{S as Ue}from"./SvgIcon-Cibea2Sc.js";import{C as ke}from"./ConfirmDialog-aBCO0pj0.js";import{s as Te}from"./stroke-trash-DBtGQcFN.js";import{f as Ae}from"./full-edit-DY97lsf2.js";import{u as We,F as $e,a as He}from"./formik.esm-C4xtAamZ.js";import{I as ze}from"./ImageEditor-UlDElm8e.js";import{g as Ye,i as P,C as Ge}from"./imageConstraints-B_X5U-R6.js";import{D as Je}from"./Divider-BT_HSdZX.js";import{T as Ze}from"./TextInput-BgovzvL4.js";import{B as Xe}from"./BaseFileInput-DMbOX7Yz.js";import{c as Ke,a as Qe}from"./index.esm-wvngROgC.js";import{P as ea}from"./PreferredOrientation-CLvG70EC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./stroke-pass-C0Oiu4_F.js";import"./Tooltip-BpwAz3An.js";import"./useTooltipProps-DNYEmy4z.js";import"./Button.module-DJTvdY49.js";import"./index-CReuRBEY.js";import"./tslib.es6-De9GV7Vy.js";import"./stroke-close-C6KSko98.js";import"./reducer-BT7uCx62.js";import"./stroke-error-BKdTEWJV.js";import"./Dialog-BxZWnLf4.js";import"./index-Dk74W0Oi.js";import"./Slider-CCmQtGPL.js";import"./FieldError-CO3oo3tw.js";import"./BaseInput-8lUwMhuX.js";import"./FieldLayout-BHS5AudZ.js";import"./full-clear-CvNWe6Ae.js";var i=(a=>(a.OFFER="offer",a.OFFER_COLLECTIVE="offer_collective",a.VENUE="venue",a))(i||{});const aa=""+new URL("offer-home-shell-DRe407mm.png",import.meta.url).href,ra=""+new URL("offer-shell-1NJvb7h9.png",import.meta.url).href,ce={"image-preview-shell":"_image-preview-shell_6f0sl_1","image-preview-home-preview":"_image-preview-home-preview_6f0sl_6"},Y={"image-preview-shell":"_image-preview-shell_1jfa7_1","image-preview-blur-offer-preview":"_image-preview-blur-offer-preview_1jfa7_7","image-preview-offer-preview":"_image-preview-offer-preview_1jfa7_16"},b=({imageUrl:a})=>e.jsxs(Ce,{children:[e.jsxs(M,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:ce["image-preview-shell"],src:aa,role:"presentation"}),e.jsx("img",{"data-testid":"app-preview-offer-img-home",alt:"",className:ce["image-preview-home-preview"],src:a,role:"presentation"})]}),e.jsxs(M,{title:"Détails de l’offre",children:[e.jsx("img",{alt:"",className:Y["image-preview-blur-offer-preview"],src:a,role:"presentation"}),e.jsx("img",{alt:"",className:Y["image-preview-shell"],src:ra,role:"presentation"}),e.jsx("img",{"data-testid":"app-preview-offer-img",alt:"",className:Y["image-preview-offer-preview"],src:a,role:"presentation"})]})]});try{b.displayName="AppPreviewOffer",b.__docgenInfo={description:"",displayName:"AppPreviewOffer",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const ta=""+new URL("venue-home-shell-Cg5ZqCow.png",import.meta.url).href,ia=""+new URL("venue-shell-BjZ1FMHk.png",import.meta.url).href,pe={"image-preview-shell":"_image-preview-shell_1mxin_1","image-preview-home-preview":"_image-preview-home-preview_1mxin_6"},G={"image-preview-shell":"_image-preview-shell_kof9t_1","image-preview-blur-venue-preview":"_image-preview-blur-venue-preview_kof9t_7","image-preview-venue-preview":"_image-preview-venue-preview_kof9t_16"},D=({imageUrl:a})=>{const r=le(),t=l.useCallback(()=>{r.error("Une erreur est survenue. Merci de réessayer plus tard")},[r]);return e.jsxs(Ce,{children:[e.jsxs(M,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:pe["image-preview-shell"],src:ta,role:"presentation"}),e.jsx("img",{"data-testid":"app-preview-venue-img-home",alt:"",className:pe["image-preview-home-preview"],onError:t,src:a,role:"presentation"})]}),e.jsxs(M,{title:"Page Lieu",children:[e.jsx("img",{alt:"",className:G["image-preview-blur-venue-preview"],src:a,role:"presentation"}),e.jsx("img",{alt:"",className:G["image-preview-shell"],src:ia,role:"presentation"}),e.jsx("img",{"data-testid":"app-preview-venue-img",alt:"",className:G["image-preview-venue-preview"],src:a,role:"presentation"})]})]})};try{D.displayName="AppPreviewVenue",D.__docgenInfo={description:"",displayName:"AppPreviewVenue",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const oa="_container_1ogqw_2",na="_header_1ogqw_8",la="_subtitle_1ogqw_17",sa="_actions_1ogqw_23",da="_button_1ogqw_28",J={container:oa,header:na,subtitle:la,actions:sa,button:da},X=({mode:a,hideModal:r,imageUrl:t})=>{const n={[i.VENUE]:D,[i.OFFER]:b,[i.OFFER_COLLECTIVE]:b}[a];return e.jsx(Ve,{hasCloseButton:!0,labelledBy:"add-new-image",onDismiss:r,children:e.jsxs("div",{className:J.container,children:[e.jsx("header",{children:e.jsx("h1",{id:"add-new-image",className:J.header,children:"Ajouter une image"})}),e.jsx("div",{className:J.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(n,{imageUrl:t})]})})};try{X.displayName="ModalAppPreview",X.__docgenInfo={description:"",displayName:"ModalAppPreview",props:{hideModal:{defaultValue:null,description:"",name:"hideModal",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const K=({imageUrl:a,mode:r})=>{const[t,n]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(v,{onClick:()=>n(!0),variant:U.TERNARY,icon:Le,children:"Prévisualiser"}),t&&a&&e.jsx(X,{mode:r,imageUrl:a,hideModal:()=>n(!1)})]})};try{K.displayName="ButtonAppPreview",K.__docgenInfo={description:"",displayName:"ButtonAppPreview",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const ma={"button-image-delete-icon":"_button-image-delete-icon_ooh4c_1"},Q=({isLoading:a,onConfirm:r,onDismiss:t})=>e.jsx(ke,{cancelText:"Retour",confirmText:"Supprimer",icon:Te,isLoading:a,onCancel:t,onConfirm:r,title:"Supprimer l’image",children:"Souhaitez-vous vraiment supprimer cette image ?"});try{Q.displayName="ModalImageDelete",Q.__docgenInfo={description:"",displayName:"ModalImageDelete",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}}}catch{}const ee=({onImageDelete:a})=>{const[r,t]=l.useState(!1),[n,o]=l.useState(!1),s=()=>{o(!0),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{onClick:()=>t(!0),variant:U.TERNARY,children:[e.jsx(Ue,{alt:"",className:ma["button-image-delete-icon"],src:Ne}),"Supprimer"]}),r&&e.jsx(Q,{isLoading:n,onConfirm:s,onDismiss:()=>t(!1)})]})};try{ee.displayName="ButtonImageDelete",ee.__docgenInfo={description:"",displayName:"ButtonImageDelete",props:{onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}}}}}catch{}const ca="_label_1u5fx_23",pa="_icon_1u5fx_36",B={"button-image-add":"_button-image-add_1u5fx_2","add-image-venue":"_add-image-venue_1u5fx_15","add-image-offer":"_add-image-offer_1u5fx_19",label:ca,"image-upload-button-label":"_image-upload-button-label_1u5fx_29",icon:pa},ua=async(a,r="image.jpg")=>{const n=await(await fetch(a)).blob();return new File([n],r,{type:n.type})},k=(a,r)=>a+r/2,ga=a=>1/a,be={[i.OFFER]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.OFFER_COLLECTIVE]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.VENUE]:{maxSize:1e7,minWidth:600,types:["image/png","image/jpeg"],minHeight:400}},fa=a=>{const[r,t]=l.useState(0),[n,o]=l.useState(0);return l.useEffect(()=>{(async()=>{const m=await Ye(a);m&&(t(m.width),o(m.height))})()},[]),{width:r,height:n}},h={"modal-image-crop":"_modal-image-crop_1rjpc_2","modal-image-crop-editor":"_modal-image-crop-editor_1rjpc_13","modal-image-crop-actions":"_modal-image-crop-actions_1rjpc_18","modal-image-crop-form":"_modal-image-crop-form_1rjpc_25","modal-image-crop-header":"_modal-image-crop-header_1rjpc_31","modal-image-crop-right":"_modal-image-crop-right_1rjpc_39","modal-image-crop-credit":"_modal-image-crop-credit_1rjpc_45","modal-image-crop-footer":"_modal-image-crop-footer_1rjpc_51"},_a=({originalDimensions:a,orientation:r})=>r==="landscape"?{width:Math.floor(Math.min(a.width,a.height/2*3)),height:Math.floor(Math.min(a.height,a.width/3*2))}:{width:Math.floor(Math.min(a.width,a.height/3*2)),height:Math.floor(Math.min(a.height,a.width/2*3))},ae=({onReplaceImage:a,onImageDelete:r,image:t,credit:n,onSetCredit:o,onEditedImageSave:s,saveInitialPosition:m,initialPosition:p,initialScale:c,mode:d,submitButtonText:u,idLabelledBy:y})=>{const{width:j,height:E}=fa(t),I=l.useRef(null),A=le(),S=be[d].minWidth,{width:W}=_a({originalDimensions:{width:j,height:E},orientation:d===i.VENUE?"landscape":"portrait"}),w=Math.min(4,(W-10)/S),g={[i.OFFER]:384,[i.OFFER_COLLECTIVE]:384,[i.VENUE]:244}[d],$={[i.OFFER]:{canvasHeight:g,canvasWidth:g*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:w},[i.OFFER_COLLECTIVE]:{canvasHeight:g,canvasWidth:g*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:w},[i.VENUE]:{canvasHeight:g,canvasWidth:g*3/2,cropBorderColor:"#FFF",cropBorderHeight:40,cropBorderWidth:100,maxScale:w}}[d],F=We({initialValues:{credit:n||"",scale:c||1},onSubmit:V=>{try{if(I.current){const q=I.current.getImage(),x=I.current.getCroppingRect();m({x:k(x.x,x.width),y:k(x.y,x.height)}),s(q.toDataURL(),x)}o(V.credit)}catch{A.error("Une erreur est survenue. Merci de réessayer plus tard")}}});return e.jsx("section",{className:h["modal-image-crop"],children:e.jsx($e,{value:F,children:e.jsxs(He,{onSubmit:F.handleSubmit,children:[e.jsxs("div",{className:h["modal-image-crop-form"],children:[e.jsx("header",{children:e.jsx("h1",{id:y,className:h["modal-image-crop-header"],children:"Modifier une image"})}),e.jsx("p",{className:h["modal-image-crop-right"],children:"En utilisant ce contenu, je certifie que je suis propriétaire ou que je dispose des autorisations nécessaires pour l’utilisation de celui-ci."}),e.jsxs("div",{className:h["modal-image-crop-editor"],children:[e.jsx(ze,{...$,image:t,initialPosition:p,ref:I}),e.jsxs("div",{className:h["modal-image-crop-actions"],children:[e.jsx(v,{icon:Me,onClick:a,variant:U.TERNARY,children:"Remplacer l’image"}),e.jsx(v,{icon:Ne,onClick:r,variant:U.TERNARY,children:"Supprimer l’image"})]})]}),e.jsx(Ze,{countCharacters:!0,className:h["modal-image-crop-credit"],label:"Crédit de l’image",maxLength:255,name:"credit",placeholder:"Photographe...",required:!1,type:"text",isOptional:!0})]}),e.jsx(Je,{}),e.jsx("footer",{className:h["modal-image-crop-footer"],children:e.jsx(v,{type:"submit",children:u})})]})})})};try{ae.displayName="ModalImageCrop",ae.__docgenInfo={description:"",displayName:"ModalImageCrop",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"File"}},credit:{defaultValue:null,description:"",name:"credit",required:!0,type:{name:"string"}},onSetCredit:{defaultValue:null,description:"",name:"onSetCredit",required:!0,type:{name:"(credit: string) => void"}},onReplaceImage:{defaultValue:null,description:"",name:"onReplaceImage",required:!0,type:{name:"() => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialPosition:{defaultValue:null,description:"",name:"initialPosition",required:!1,type:{name:"Position"}},initialScale:{defaultValue:null,description:"",name:"initialScale",required:!1,type:{name:"number"}},saveInitialPosition:{defaultValue:null,description:"",name:"saveInitialPosition",required:!0,type:{name:"(position: Position) => void"}},onEditedImageSave:{defaultValue:null,description:"",name:"onEditedImageSave",required:!0,type:{name:"(dataUrl: string, croppedRect: CroppedRect) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!0,type:{name:"string"}},idLabelledBy:{defaultValue:null,description:"",name:"idLabelledBy",required:!0,type:{name:"string"}}}}}catch{}const ha=({constraints:a})=>Ke().shape(a.reduce((r,t)=>({...r,[t.id]:Qe().test({message:t.description,test:(n,o)=>t.asyncValidator(o.parent.image)})}),{})),re=({onSubmit:a,mode:r})=>{const[t,n]=l.useState([]),o=be[r],s=[P.formats(o.types),P.size(o.maxSize),P.width(o.minWidth),P.height(o.minHeight)],m=ha({constraints:s}),p=async c=>{const d=c.currentTarget.files&&c.currentTarget.files.length>0?c.currentTarget.files[0]:null;if(d)try{await m.validate({image:d},{abortEarly:!1}),a({image:d})}catch(u){n(u.inner.map(y=>y.path||"unknown"))}};return e.jsxs("form",{onSubmit:c=>c.preventDefault(),children:[e.jsx(Xe,{label:"Importer une image depuis l’ordinateur",fileTypes:["image/png","image/jpeg"],isValid:t.length===0,onChange:p}),e.jsx(Ge,{constraints:s,failingConstraints:t})]})};try{re.displayName="ImageUploadBrowserForm",re.__docgenInfo={description:"",displayName:"ImageUploadBrowserForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const va="_header_gcnvk_13",ue={"modal-upload-browser":"_modal-upload-browser_gcnvk_2",header:va,"horizontal-rule":"_horizontal-rule_gcnvk_19"},te=({onImageClientUpload:a,mode:r,idLabelledBy:t})=>{const n={[i.OFFER]:"portrait",[i.OFFER_COLLECTIVE]:"portrait",[i.VENUE]:"landscape"}[r];return e.jsxs("section",{className:ue["modal-upload-browser"],children:[e.jsx("header",{children:e.jsx("h1",{id:t,className:ue.header,children:"Ajouter une image"})}),e.jsx(ea,{orientation:n}),e.jsx(re,{onSubmit:a,mode:r})]})};try{te.displayName="ModalImageUploadBrowser",te.__docgenInfo={description:"",displayName:"ModalImageUploadBrowser",props:{onImageClientUpload:{defaultValue:null,description:"",name:"onImageClientUpload",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},idLabelledBy:{defaultValue:null,description:"",name:"idLabelledBy",required:!0,type:{name:"string"}}}}}catch{}const ya="_container_1r0jd_2",Ia="_header_1r0jd_8",wa="_subtitle_1r0jd_17",xa="_actions_1r0jd_23",ja="_button_1r0jd_29",C={container:ya,header:Ia,subtitle:wa,actions:xa,button:ja},ie=({imageUrl:a,isUploading:r,onGoBack:t,onUploadImage:n,mode:o,idLabelledBy:s})=>{const m={[i.VENUE]:D,[i.OFFER]:b,[i.OFFER_COLLECTIVE]:b}[o];return e.jsxs("div",{className:C.container,children:[e.jsx("header",{children:e.jsx("h1",{className:C.header,id:s,children:"Modifier une image"})}),e.jsx("div",{className:C.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(m,{imageUrl:a}),e.jsxs("div",{className:C.actions,children:[e.jsx(v,{className:C.button,onClick:t,title:"Retour",type:"button",variant:U.SECONDARY,children:"Retour"}),e.jsx(v,{type:"submit",className:C.button,disabled:!1,isLoading:!!r,onClick:n,children:"Enregistrer"})]})]})};try{ie.displayName="ModalImageUploadConfirm",ie.__docgenInfo={description:"",displayName:"ModalImageUploadConfirm",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},isUploading:{defaultValue:null,description:"",name:"isUploading",required:!0,type:{name:"boolean"}},onGoBack:{defaultValue:null,description:"",name:"onGoBack",required:!0,type:{name:"() => void"}},onUploadImage:{defaultValue:null,description:"",name:"onUploadImage",required:!0,type:{name:"() => void"}},idLabelledBy:{defaultValue:null,description:"",name:"idLabelledBy",required:!0,type:{name:"string"}}}}}catch{}const oe=({mode:a,onDismiss:r,onImageUpload:t,onImageDelete:n,initialValues:o={}})=>{const s=le(),[m,p]=l.useState(!1),{imageUrl:c,originalImageUrl:d,credit:u,cropParams:y}=o,[j,E]=l.useState();l.useEffect(()=>{async function f(z){try{E(await ua(z))}catch{s.error("Erreur lors de la récupération de votre image.")}}const _=d||c;_&&f(_),p(!0)},[]);const[I,A]=l.useState(u||""),[S,W]=l.useState(),[w,g]=l.useState(""),[$,se]=l.useState(!1),{xCropPercent:H,yCropPercent:F,heightCropPercent:V,widthCropPercent:q}=y||{},[x,Be]=l.useState({x:H&&q?k(H,q):.5,y:F&&V?k(F,V):.5}),Se=()=>{g("")},qe=f=>{E(f.image||void 0)},Pe=()=>{E(void 0)},Re=()=>{!c&&!d?E(void 0):n()},de=(f,_,z)=>{f===void 0||_===void 0||(t({imageFile:_,imageCroppedDataUrl:z,cropParams:f,credit:I}),r(),se(!1))},me=a!==i.OFFER_COLLECTIVE,Oe=(f,_)=>{W(_),g(f),me||de(_,j,f)};return m?e.jsx(Ve,{hasCloseButton:!0,labelledBy:"add-new-image",onDismiss:r,children:j?!S||!w?e.jsx(ae,{credit:I,image:j,initialPosition:x,initialScale:V?ga(V):1,onEditedImageSave:Oe,onReplaceImage:Pe,onImageDelete:Re,onSetCredit:A,saveInitialPosition:Be,mode:a,idLabelledBy:"add-new-image",submitButtonText:me?"Suivant":"Enregistrer"}):e.jsx(ie,{isUploading:$,onGoBack:Se,onUploadImage:()=>de(S,j,w),imageUrl:w,mode:a,idLabelledBy:"add-new-image"}):e.jsx(te,{onImageClientUpload:qe,mode:a,idLabelledBy:"add-new-image"})}):null};try{oe.displayName="ModalImageEdit",oe.__docgenInfo={description:"",displayName:"ModalImageEdit",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}}}}}catch{}const T=({mode:a,initialValues:r={},onImageUpload:t,onImageDelete:n,onClickButtonImage:o,children:s})=>{const[m,p]=l.useState(!1),{imageUrl:c,originalImageUrl:d}=r,u=()=>{o&&o(),p(!0)},y=()=>{n(),p(!1)};return e.jsxs(e.Fragment,{children:[c||d?e.jsx(v,{onClick:u,variant:U.TERNARY,"aria-label":"Modifier l’image",icon:Ae,children:s??"Modifier"}):e.jsxs("button",{className:Z(B["button-image-add"],{[B["add-image-venue"]]:a===i.VENUE,[B["add-image-offer"]]:a===i.OFFER||a===i.OFFER_COLLECTIVE}),onClick:u,type:"button",children:[e.jsx(Ue,{src:De,alt:"",className:B.icon}),e.jsx("span",{className:B.label,children:"Ajouter une image"})]}),m&&e.jsx(oe,{mode:a,onDismiss:()=>p(!1),onImageUpload:t,onImageDelete:y,initialValues:r})]})};try{T.displayName="ButtonImageEdit",T.__docgenInfo={description:"",displayName:"ButtonImageEdit",props:{onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImage:{defaultValue:null,description:"",name:"onClickButtonImage",required:!1,type:{name:"(() => void)"}}}}}catch{}const N={"explanatory-text":"_explanatory-text_1hpy1_2","image-uploader-image-container":"_image-uploader-image-container_1hpy1_6","image-uploader-actions-container":"_image-uploader-actions-container_1hpy1_10","actions-wrapper":"_actions-wrapper_1hpy1_17","image-preview":"_image-preview_1hpy1_25","preview-venue":"_preview-venue_1hpy1_31","preview-offer":"_preview-offer_1hpy1_41"},ne=({className:a,onImageUpload:r,onImageDelete:t,initialValues:n={},mode:o,onClickButtonImageAdd:s,hideActionButtons:m=!1})=>{const{imageUrl:p,originalImageUrl:c,credit:d,cropParams:u}=n;return e.jsx("div",{className:Z(N["image-uploader-image-container"],a),children:p&&c?e.jsxs(e.Fragment,{children:[e.jsx("img",{alt:"Prévisualisation de l’image",className:Z(N["image-preview"],{[N["preview-venue"]]:o===i.VENUE,[N["preview-offer"]]:o===i.OFFER||o===i.OFFER_COLLECTIVE}),src:p}),!m&&e.jsx("div",{className:N["image-uploader-actions-container"],children:e.jsxs("div",{className:N["actions-wrapper"],children:[e.jsx(T,{mode:o,initialValues:{originalImageUrl:c,imageUrl:p,credit:d,cropParams:u},onImageUpload:r,onImageDelete:t,onClickButtonImage:s}),o!==i.OFFER_COLLECTIVE&&e.jsx(K,{imageUrl:p,mode:o}),e.jsx(ee,{onImageDelete:t})]})})]}):e.jsx(T,{mode:o,onImageUpload:r,onImageDelete:t,onClickButtonImage:s})})};try{ne.displayName="ImageUploader",ne.__docgenInfo={description:"",displayName:"ImageUploader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImageAdd:{defaultValue:null,description:"",name:"onClickButtonImageAdd",required:!1,type:{name:"(() => void)"}},hideActionButtons:{defaultValue:{value:"false"},description:"",name:"hideActionButtons",required:!1,type:{name:"boolean"}}}}}catch{}const ge=""+new URL("sample-image-landscape-B4GmPBHc.jpg",import.meta.url).href,fe=""+new URL("sample-image-portrait-OorsIixL.jpg",import.meta.url).href,mr={title:"components/ImageUploader/ImageUploader",component:ne},Fe={initialValues:{originalImageUrl:fe,imageUrl:fe,credit:"John Do",cropParams:{xCropPercent:0,yCropPercent:0,heightCropPercent:1,widthCropPercent:1}},mode:i.OFFER,onImageDelete:()=>{alert("onDelete have been called.")},onImageUpload:()=>{alert("onImageUpload have been called.")}},R={args:{...Fe}},O={args:{...Fe,initialValues:{imageUrl:ge,originalImageUrl:ge},mode:i.VENUE}},L={args:{mode:i.OFFER}};var _e,he,ve;R.parameters={...R.parameters,docs:{...(_e=R.parameters)==null?void 0:_e.docs,source:{originalSource:`{
  args: {
    ...props
  }
}`,...(ve=(he=R.parameters)==null?void 0:he.docs)==null?void 0:ve.source}}};var ye,Ie,we;O.parameters={...O.parameters,docs:{...(ye=O.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    ...props,
    initialValues: {
      imageUrl: sampleImageLandscape,
      originalImageUrl: sampleImageLandscape
    },
    mode: UploaderModeEnum.VENUE
  }
}`,...(we=(Ie=O.parameters)==null?void 0:Ie.docs)==null?void 0:we.source}}};var xe,je,Ee;L.parameters={...L.parameters,docs:{...(xe=L.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  args: {
    mode: UploaderModeEnum.OFFER
  }
}`,...(Ee=(je=L.parameters)==null?void 0:je.docs)==null?void 0:Ee.source}}};const cr=["WithImageOffer","WithImageVenue","WithoutImage"];export{R as WithImageOffer,O as WithImageVenue,L as WithoutImage,cr as __namedExportsOrder,mr as default};
