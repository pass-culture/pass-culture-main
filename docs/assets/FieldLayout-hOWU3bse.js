import{j as t}from"./jsx-runtime-CfatFE5O.js";import{c as k}from"./index-DeARc5FM.js";import{r as u}from"./index-ClcD9ViR.js";import{f as M}from"./full-clear-Q4kCtSRL.js";import{f as B}from"./full-close-5Oxr7nnd.js";import{B as D}from"./Button-B0q_wITZ.js";import{B as H}from"./types-DjX_gQD6.js";import{F as O}from"./FieldError-Bb6I73np.js";const i={"field-layout":"_field-layout_nnkxi_1","field-layout-label":"_field-layout-label_nnkxi_5","field-layout-label-container":"_field-layout-label-container_nnkxi_11","field-layout-label-break":"_field-layout-label-break_nnkxi_14","field-layout-small-label":"_field-layout-small-label_nnkxi_17","field-layout-inline":"_field-layout-inline_nnkxi_25","field-layout-content":"_field-layout-content_nnkxi_33","field-layout-footer":"_field-layout-footer_nnkxi_40","field-layout-error":"_field-layout-error_nnkxi_46","field-layout-input-description":"_field-layout-input-description_nnkxi_52","input-wrapper":"_input-wrapper_nnkxi_61","clear-button":"_clear-button_nnkxi_65","clear-button-container":"_clear-button-container_nnkxi_72","clear-button-clear-container":"_clear-button-clear-container_nnkxi_77","clear-button-close-container":"_clear-button-close-container_nnkxi_82","clear-button-icon":"_clear-button-icon_nnkxi_95","visually-hidden":"_visually-hidden_nnkxi_103"};function S(a,e,l){var _=this,s=u.useRef(null),n=u.useRef(0),r=u.useRef(null),d=u.useRef([]),f=u.useRef(),m=u.useRef(),F=u.useRef(a),b=u.useRef(!0);F.current=a;var N=typeof window<"u",g=!e&&e!==0&&N;if(typeof a!="function")throw new TypeError("Expected a function");e=+e||0;var L=!!(l=l||{}).leading,j=!("trailing"in l)||!!l.trailing,h="maxWait"in l,A="debounceOnServer"in l&&!!l.debounceOnServer,V=h?Math.max(+l.maxWait||0,e):null;u.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var p=u.useMemo(function(){var x=function(o){var c=d.current,E=f.current;return d.current=f.current=null,n.current=o,m.current=F.current.apply(E,c)},y=function(o,c){g&&cancelAnimationFrame(r.current),r.current=g?requestAnimationFrame(o):setTimeout(o,c)},q=function(o){if(!b.current)return!1;var c=o-s.current;return!s.current||c>=e||c<0||h&&o-n.current>=V},R=function(o){return r.current=null,j&&d.current?x(o):(d.current=f.current=null,m.current)},w=function o(){var c=Date.now();if(q(c))return R(c);if(b.current){var E=e-(c-s.current),$=h?Math.min(E,V-(c-n.current)):E;y(o,$)}},v=function(){if(N||A){var o=Date.now(),c=q(o);if(d.current=[].slice.call(arguments),f.current=_,s.current=o,c){if(!r.current&&b.current)return n.current=s.current,y(w,e),L?x(s.current):m.current;if(h)return y(w,e),x(s.current)}return r.current||y(w,e),m.current}};return v.cancel=function(){r.current&&(g?cancelAnimationFrame(r.current):clearTimeout(r.current)),n.current=0,d.current=s.current=f.current=r.current=null},v.isPending=function(){return!!r.current},v.flush=function(){return r.current?R(Date.now()):m.current},v},[L,h,e,V,j,g,N,A]);return p}function W(a,e){return a===e}function Y(a,e,l){var _=W,s=u.useRef(a),n=u.useState({})[1],r=S(u.useCallback(function(f){s.current=f,n({})},[n]),e,l),d=u.useRef(a);return _(d.current,a)||(r(a),d.current=a),[s.current,r]}const I={"field-layout-character-count":"_field-layout-character-count_1si9v_1","visually-hidden":"_visually-hidden_1si9v_8"};function C({count:a,maxLength:e,name:l}){const[_]=Y(a,1e3);return t.jsxs(t.Fragment,{children:[t.jsxs("span",{role:"status",className:I["visually-hidden"],id:`field-characters-count-${l}`,children:[_," caractÃ¨res sur ",e]}),t.jsxs("span",{className:I["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[a,"/",e]})]})}try{C.displayName="FieldLayoutCharacterCount",C.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const T=({children:a,label:e,isLabelHidden:l=!1,hasLabelLineBreak:_=!0,className:s,name:n,showError:r=!1,error:d,count:f=void 0,maxLength:m=void 0,isOptional:F=!1,showMandatoryAsterisk:b=!0,smallLabel:N,hideFooter:g=!1,inline:L=!1,classNameLabel:j,classNameFooter:h,classNameInput:A,description:V,clearButtonProps:p,ErrorDetails:x})=>{const y=r&&!!d,q=f!==void 0&&m!==void 0,R=u.useId(),w=!g||y||q||!!x,v=(p==null?void 0:p.display)||"clear";return t.jsxs("div",{className:k(i["field-layout"],{[i["field-layout-small-label"]]:N,[i["field-layout-inline"]]:L},s),"data-testid":`wrapper-${n}`,children:[t.jsxs("div",{className:k(i["field-layout-label-container"],j,{[i["visually-hidden"]]:l}),children:[t.jsxs("label",{className:k(i["field-layout-label"],_&&i["field-layout-label-break"]),htmlFor:n,children:[e," ",!F&&b&&"*"]}),V&&t.jsx("span",{id:`description-${n}`,"data-testid":`description-${n}`,className:i["field-layout-input-description"],children:V})]}),t.jsxs("div",{className:i["field-layout-content"],children:[t.jsxs("div",{className:k(i["input-wrapper"],A),children:[a,p&&t.jsx("div",{className:k(i["clear-button-container"],i[`clear-button-${v}-container`]),children:t.jsx(D,{...p,"aria-describedby":R,className:i["clear-button"],hasTooltip:!0,type:"button",icon:v==="clear"?M:B,variant:H.TERNARY,children:p.tooltip||"Supprimer"})})]}),w&&t.jsxs("div",{className:k(h,i["field-layout-footer"]),children:[t.jsx("div",{role:"alert",className:i["field-layout-error"],id:`error-details-${n}`,children:(y||!!x)&&t.jsxs(t.Fragment,{children:[y&&t.jsx(O,{name:n,children:d}),x]})}),q&&t.jsx(C,{count:f,maxLength:m,name:n})]})]})]})};try{T.displayName="FieldLayout",T.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:`A flag to hide the label.
To be used with caution, as it can affect accessibility.
Do not use it if the label is mandatory, placeholder is not
a substitute for a label.`,name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:`A flag to indicate that the field is optional.
It will display an asterisk next to the label.`,name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:`A custom class for the footer,
where errors and character count are displayed.`,name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:`A flag to hide the footer.
To be used with caution, as it can affect accessibility.`,name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{T as F};
