import{j as m}from"./jsx-runtime-Cf8x2fCZ.js";import{R as S,r}from"./index-QQMyt9Ur.js";import{C as j}from"./Checkbox-CFp8fuv2.js";import{s as H,a as U}from"./stroke-franc-CFUtV4l2.js";import{T as D}from"./TextInput-C-6M7uLs.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-B0pXE9zJ.js";import"./Tag-DpLUbPXr.js";import"./full-thumb-up-Bb4kpRpM.js";import"./SvgIcon-B5V96DYN.js";import"./BaseInput-B8c5gx_3.js";import"./stroke-search-dgesjRZH.js";import"./FieldError-2mFOl_uD.js";import"./stroke-error-DSZD431a.js";import"./FieldLayoutCharacterCount-CCjrqBrG.js";import"./index.module-DTkZ18fI.js";const X={"input-layout-small-label":"_input-layout-small-label_kaqxt_1"},o=S.forwardRef(({className:c,name:p,label:k,value:d,max:q,rightIcon:v,disabled:f,smallLabel:C,showFreeCheckbox:i,hideAsterisk:h=!1,error:b,currency:u="EUR",onChange:g,onBlur:F},w)=>{const y=r.useRef(null),V=`${p}.free`,x=r.useRef(null),_=d===0,[t,E]=r.useState(_),A=u==="XPF"?H:U,R=u==="XPF"?1:.01,N=u==="EUR";r.useEffect(()=>{const e=document.activeElement===x.current;!t&&e&&y.current?.focus()},[t]);const P=a=>{const e=a.target.value;let I=e!==""?Number(e):void 0;i&&t&&(I=0),g?.({target:{valueAsNumber:I}}),i&&E(a.target.value==="0")},T=()=>{const a=!t;E(a);let e="";a&&(e="0"),g?.({target:{valueAsNumber:Number(e)}})},L=m.jsx(j,{ref:x,label:"Gratuit",checked:t,name:V,onChange:T,disabled:f});return m.jsx("div",{ref:w,children:m.jsx(D,{ref:y,"data-testid":"input-price",className:c,labelClassName:C?X["input-layout-small-label"]:"",required:!h,name:p,label:k,value:d??"",type:"number",step:R,hasDecimal:N,min:0,max:q,rightIcon:v||A,disabled:f,asterisk:!h,onChange:P,onBlur:F,hasError:!!b,error:b,...i?{InputExtension:L}:{}})})});o.displayName="PriceInput";try{o.displayName="PriceInput",o.__docgenInfo={description:`The PriceInput component is a combination of a TextInput and a Checkbox to define prices.
It integrates with Formik for form state management and is used when an null price is meant to be interpreted as free.

---`,displayName:"PriceInput",props:{className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"The name of the input, mind what's being used in the form.",name:"name",required:!1,type:{name:"string"}},rightIcon:{defaultValue:null,description:"",name:"rightIcon",required:!1,type:{name:"string"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:`A label for the input,
also used as the aria-label for the group.`,name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"A callback when the quantity changes.",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"A callback when the quantity text input is blurred.",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},value:{defaultValue:null,description:"The quantity value. Should be `undefined` if the quantity is unlimited.",name:"value",required:!1,type:{name:'number | ""'}},showFreeCheckbox:{defaultValue:null,description:'A flag to show the "Gratuit" checkbox.',name:"showFreeCheckbox",required:!1,type:{name:"boolean"}},hideAsterisk:{defaultValue:{value:"false"},description:"",name:"hideAsterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:`A custom error message to be displayed.
If this prop is provided, the error message will be displayed and the field will be marked as errored`,name:"error",required:!1,type:{name:"string"}},currency:{defaultValue:{value:"EUR"},description:"Currency to use to display currency icon",name:"currency",required:!1,type:{name:"enum",value:[{value:'"EUR"'},{value:'"XPF"'}]}}}}}catch{}const le={title:"@/ui-kit/forms/PriceInput",component:o},n={args:{name:"email",label:"Email"}},l={args:{name:"email",label:"Email",smallLabel:!0}},s={args:{name:"email",label:"Email",showFreeCheckbox:!0}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Email'
  }
}`,...n.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Email',
    smallLabel: true
  }
}`,...l.parameters?.docs?.source}}};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Email',
    showFreeCheckbox: true
  }
}`,...s.parameters?.docs?.source}}};const se=["Default","SmallLabel","WithCheckbox"];export{n as Default,l as SmallLabel,s as WithCheckbox,se as __namedExportsOrder,le as default};
