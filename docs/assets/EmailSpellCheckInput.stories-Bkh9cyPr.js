import{j as d}from"./jsx-runtime-Nms4Y4qS.js";import{c as z,d as G,b as H}from"./formik.esm-azLDPAli.js";import{r as W}from"./index-BwDkhjyp.js";import{f as Y}from"./full-next-DBJ5r-A4.js";import{B as J}from"./Button-D9ATVrwc.js";import{B as K,I as Q}from"./types-DjX_gQD6.js";import{c as u,g as X}from"./_commonjsHelpers-BosuxZz1.js";import{T as Z}from"./TextInput-DY1idk_U.js";import"./index-BpvXyOxN.js";import"./stroke-pass-C0Oiu4_F.js";import"./SvgIcon-Cibea2Sc.js";import"./Tooltip-BlE0xOXH.js";import"./useTooltipProps-DNYEmy4z.js";import"./Button.module-B0CH5SHY.js";import"./BaseInput-BdBSAuUR.js";import"./FieldLayout-Dr4f9Ns_.js";import"./full-clear-CvNWe6Ae.js";import"./FieldError-Bi9PL_lG.js";import"./stroke-error-BKdTEWJV.js";var C={},y={},b={},A={};Object.defineProperty(A,"__esModule",{value:!0});function ee(e,n){if(!e)throw new Error(n)}A.default=ee;var te=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});const h=te(A);function ne(e){h.default(Array.isArray(e.domains),"domains must be an array"),h.default(Array.isArray(e.topLevelDomains),"topLevelDomains must be an array"),h.default(Array.isArray(e.secondLevelDomains),"secondLevelDomains must be an array"),h.default(typeof e.distanceFunction=="function","distanceFunction must be a function")}b.default=ne;var P={},T={};Object.defineProperty(T,"__esModule",{value:!0});function ae(e){return encodeURI(e).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}T.default=ae;var O={};Object.defineProperty(O,"__esModule",{value:!0});function le(e){const{domain:n,domains:t,distanceFunction:r,threshold:i}=e;let l,s=1/0,a=null;if(!(!n||!t)){for(let o=0;o<t.length;o++){if(n===t[o])return n;l=r(n,t[o]),l<s&&(s=l,a=t[o])}if(s<=i&&a!==null)return a}}O.default=le;var E={},F={};Object.defineProperty(F,"__esModule",{value:!0});const ie=/\s/;function oe(e){return e.trim?e.trim():se(re(e))}function re(e){return e.trimLeft?e.trimLeft():e.replace(/^\s\s*/,"")}function se(e){if(e.trimRight)return e.trimRight();let n=e.length;for(;ie.test(e.charAt(--n)););return e.slice(0,n+1)}F.default=oe;var ue=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});const de=ue(F),ce=2;function me(e){const t=de.default(e).split("@");if(t.length<ce)return!1;for(let a=0;a<t.length;a++)if(t[a]==="")return!1;let r="",i="";const l=t.pop(),s=l.split(".");if(s.length===0)return!1;if(s.length==1)i=s[0];else{r=s[0];for(let a=1;a<s.length;a++)i+=s[a]+".";i=i.substring(0,i.length-1)}return{topLevelDomain:i,secondLevelDomain:r,domain:l,address:t.join("@")}}E.default=me;var I=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(P,"__esModule",{value:!0});const fe=I(T),L=I(O),pe=I(E);function _e(e){const n=fe.default(e.email.toLowerCase()),t=pe.default(n);if(!t)return;const{domains:r,domainThreshold:i,distanceFunction:l,secondLevelDomains:s,topLevelDomains:a}=e;if(s&&a&&s.indexOf(t.secondLevelDomain)!==-1&&a.indexOf(t.topLevelDomain)!==-1)return;let o=L.default({domain:t.domain,domains:r,distanceFunction:l,threshold:i});if(o)return o==t.domain?void 0:{address:t.address,domain:o,full:t.address+"@"+o};const f=L.default({domain:t.secondLevelDomain,domains:s,distanceFunction:l,threshold:e.secondLevelThreshold}),_=L.default({domain:t.topLevelDomain,domains:a,distanceFunction:l,threshold:e.topLevelThreshold});if(t.domain){o=t.domain;let m=!1;if(f&&f!=t.secondLevelDomain&&(o=o.replace(t.secondLevelDomain,f),m=!0),_&&_!=t.topLevelDomain&&t.secondLevelDomain!==""&&(o=o.replace(new RegExp(t.topLevelDomain+"$"),_),m=!0),m)return{address:t.address,domain:o,full:t.address+"@"+o}}}P.default=_e;var N={},c={},M={};Object.defineProperty(M,"__esModule",{value:!0});function he(e,n){if(e==null||e.length===0)return n==null||n.length===0?0:n.length;if(n==null||n.length===0)return e.length;let t=0,r=0,i=0,l=0;const s=5;for(;t+r<e.length&&t+i<n.length;){if(e.charAt(t+r)==n.charAt(t+i))l++;else{r=0,i=0;for(let a=0;a<s;a++){if(t+a<e.length&&e.charAt(t+a)==n.charAt(t)){r=a;break}if(t+a<n.length&&e.charAt(t)==n.charAt(t+a)){i=a;break}}}t++}return(e.length+n.length)/2-l}M.default=he;var ge=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});c.POPULAR_TLDS=c.POPULAR_DOMAINS=c.DEFAULT_CONFIG=void 0;const ve=ge(M),R=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];c.POPULAR_DOMAINS=R;const q=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];c.POPULAR_TLDS=q;const Le={domainThreshold:2,domains:R,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:q,distanceFunction:ve.default};c.DEFAULT_CONFIG=Le;Object.defineProperty(N,"__esModule",{value:!0});const p=c;function De(e){return{email:e.email,domains:e.domains||p.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||p.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||p.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||p.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||p.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||p.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||p.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}N.default=De;var S=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y,"__esModule",{value:!0});const ye=S(b),be=S(P),Ae=S(N);function Pe(e){const n=Ae.default(e);ye.default(n||{});const t=be.default(n);return!t&&e.empty&&e.empty(),t&&e.suggested&&e.suggested(t),t}y.default=Pe;(function(e){var n=u&&u.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.POPULAR_TLDS=e.POPULAR_DOMAINS=e.run=void 0;const t=n(y);e.run=t.default;const r=c;Object.defineProperty(e,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return r.POPULAR_DOMAINS}}),Object.defineProperty(e,"POPULAR_TLDS",{enumerable:!0,get:function(){return r.POPULAR_TLDS}});const i={run:t.default,POPULAR_DOMAINS:r.POPULAR_DOMAINS,POPULAR_TLDS:r.POPULAR_TLDS};e.default=i})(C);const Te=X(C),Oe=["gmail.com","orange.fr","wanadoo.fr","yahoo.fr","hotmail.fr","free.fr","fnac.com","hotmail.com","outlook.fr","cultura.fr"],Ee={domainThreshold:4,domains:Oe,secondLevelDomains:[],topLevelDomains:[]},Fe=(e,n)=>{var t;if(!n)return(t=Te.run({...Ee,email:e}))==null?void 0:t.full},V={"email-validation-error":"_email-validation-error_lvbmx_1","email-validation-tip":"_email-validation-tip_lvbmx_9"},D=({name:e,placeholder:n,description:t,label:r,className:i,overrideInitialTip:l=null,maxLength:s=255})=>{const{setFieldValue:a,setFieldTouched:o}=z(),[f,_]=G(e),[m,v]=W.useState(l),w=async()=>{if(f.value.length>0){const U=Fe(f.value.toString(),!!_.error);U&&v(U)}await o(f.name,!0)},$=()=>{v(null)},B=async()=>{await a(e,m,!0),v(null)};return d.jsx(d.Fragment,{children:d.jsx(Z,{label:r,name:e,placeholder:n,description:t,onBlur:w,onFocus:$,hideFooter:m!==null,autoComplete:"email",className:i,maxLength:s,ErrorDetails:m?d.jsxs("div",{className:V["email-validation-error"],children:[d.jsxs("div",{className:V["email-validation-tip"],children:["Voulez-vous plut√¥t dire ",m," ?"]}),d.jsx(J,{variant:K.TERNARY,icon:Y,iconPosition:Q.LEFT,onClick:B,autoFocus:!0,children:"Appliquer la modification"})]}):d.jsx(d.Fragment,{})})})};try{D.displayName="EmailSpellCheckInput",D.__docgenInfo={description:"",displayName:"EmailSpellCheckInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | (Element & string)"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"255"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:null,description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:null,description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:null,description:"",name:"isOptional",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:null,description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:"(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; })"}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},overrideInitialTip:{defaultValue:{value:"null"},description:"",name:"overrideInitialTip",required:!1,type:{name:"string | null"}}}}}catch{}const Ye={title:"ui-kit/forms/EmailSpellCheckInput",component:D,decorators:[e=>d.jsx(H,{initialValues:{email:""},onSubmit:()=>{},children:d.jsx(e,{})})]},g={args:{name:"email",label:"Adresse email",description:"Format: email@exemple.com",overrideInitialTip:"marie.dupont@gmail.com"}};var j,k,x;g.parameters={...g.parameters,docs:{...(j=g.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Adresse email',
    description: 'Format: email@exemple.com',
    overrideInitialTip: 'marie.dupont@gmail.com'
  }
}`,...(x=(k=g.parameters)==null?void 0:k.docs)==null?void 0:x.source}}};const Je=["Default"];export{g as Default,Je as __namedExportsOrder,Ye as default};
