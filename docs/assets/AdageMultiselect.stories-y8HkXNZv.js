import{j as X}from"./jsx-runtime-vNq4Oc-g.js";import{d as Ft,c as jt,b as Wt}from"./formik.esm-ymFmkpzG.js";import{b,_ as Re,c as pe}from"./tslib.es6-OTA_Hx-d.js";import{P as s}from"./index-VFMbf6KQ.js";import{r as f,R as Oe}from"./index-4g5l5LRQ.js";import{B as Nt}from"./BaseCheckbox-ktuHWrzJ.js";import"./stroke-offer-kjKFmafA.js";import"./Thumb-Al5oJ2b_.js";import"./FieldError-Tc_LJzie.js";import"./FieldSuccess-GGwnsLIr.js";import{B as Ut}from"./BaseInput-AweWbigz.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-XNbs-YUW.js";import"./SvgIcon-QVOPtTle.js";import"./full-next-6FYpialQ.js";import"./ButtonLink-3YIwl7lt.js";import"./index-kapi_vjX.js";import"./index-CQtvWCGL.js";import"./Button.module-ZSasnFkE.js";import"./Button-d-_zOw_M.js";import"./stroke-pass-84wyy11D.js";import"./Tooltip-kKBX527K.js";import"./useTooltipProps-5VZ0BXiJ.js";import"./BaseRadio-FPTZu85Z.js";import"./full-clear-0L2gsxg_.js";import"./Divider-RocaqWVQ.js";import"./SubmitButton-6IDtnyXq.js";import"./SelectInput-6KaGHNHr.js";import"./stroke-down-4xbrRvHV.js";import"./date-Kqo95BZo.js";import"./typeof-Q9eVcF_1.js";import"./Banner-IWldAFdx.js";import"./shadow-tips-help-vs0tLBP5.js";import"./shadow-tips-warning-og_aO0Ug.js";import"./stroke-close-KQNU-49n.js";import"./LinkNodes-m1sxgbK0.js";import"./full-link-GGegv9yK.js";import"./InfoBox-7hEyMNvN.js";import"./stroke-error-U5wg3Vd5.js";import"./stroke-valid-qcZpl8lN.js";var I={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=Symbol.for("react.element"),Xe=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),Ve=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),_t=Symbol.for("react.server_context"),$e=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),zt=Symbol.for("react.offscreen"),bt;bt=Symbol.for("react.module.reference");function P(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ge:switch(e=e.type,e){case Te:case Ae:case Ve:case He:case Le:return e;default:switch(e=e&&e.$$typeof,e){case _t:case Pe:case $e:case qe:case Be:case Ke:return e;default:return t}}case Xe:return t}}}I.ContextConsumer=Pe;I.ContextProvider=Ke;I.Element=Ge;I.ForwardRef=$e;I.Fragment=Te;I.Lazy=qe;I.Memo=Be;I.Portal=Xe;I.Profiler=Ae;I.StrictMode=Ve;I.Suspense=He;I.SuspenseList=Le;I.isAsyncMode=function(){return!1};I.isConcurrentMode=function(){return!1};I.isContextConsumer=function(e){return P(e)===Pe};I.isContextProvider=function(e){return P(e)===Ke};I.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ge};I.isForwardRef=function(e){return P(e)===$e};I.isFragment=function(e){return P(e)===Te};I.isLazy=function(e){return P(e)===qe};I.isMemo=function(e){return P(e)===Be};I.isPortal=function(e){return P(e)===Xe};I.isProfiler=function(e){return P(e)===Ae};I.isStrictMode=function(e){return P(e)===Ve};I.isSuspense=function(e){return P(e)===He};I.isSuspenseList=function(e){return P(e)===Le};I.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Te||e===Ae||e===Ve||e===He||e===Le||e===zt||typeof e=="object"&&e!==null&&(e.$$typeof===qe||e.$$typeof===Be||e.$$typeof===Ke||e.$$typeof===Pe||e.$$typeof===$e||e.$$typeof===bt||e.getModuleId!==void 0)};I.typeOf=P;const ct=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ft=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ne=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ft(n.overflowY,t)||ft(n.overflowX,t)||(i=>{const r=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},we=(e,t,n,i,r,o,u,a)=>o<e&&u>t||o>e&&u<t?0:o<=e&&a<=n||u>=t&&a>=n?o-e-i:u>t&&a<n||o<e&&a>n?u-t+r:0,Gt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Xt=(e,t)=>{var n,i,r,o;if(typeof document>"u")return[];const{scrollMode:u,block:a,inline:m,boundary:g,skipOverflowHiddenElements:l}=t,R=typeof g=="function"?g:Q=>Q!==g;if(!ct(e))throw new TypeError("Invalid target");const O=document.scrollingElement||document.documentElement,M=[];let y=e;for(;ct(y)&&R(y);){if(y=Gt(y),y===O){M.push(y);break}y!=null&&y===document.body&&Ne(y)&&!Ne(document.documentElement)||y!=null&&Ne(y,l)&&M.push(y)}const D=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,k=(o=(r=window.visualViewport)==null?void 0:r.height)!=null?o:innerHeight,{scrollX:S,scrollY:B}=window,{height:x,width:p,top:T,right:w,bottom:Y,left:q}=e.getBoundingClientRect();let E=a==="start"||a==="nearest"?T:a==="end"?Y:T+x/2,V=m==="center"?q+p/2:m==="end"?w:q;const J=[];for(let Q=0;Q<M.length;Q++){const C=M[Q],{height:ne,width:re,top:ie,right:he,bottom:ge,left:ue}=C.getBoundingClientRect();if(u==="if-needed"&&T>=0&&q>=0&&Y<=k&&w<=D&&T>=ie&&Y<=ge&&q>=ue&&w<=he)return J;const oe=getComputedStyle(C),ae=parseInt(oe.borderLeftWidth,10),le=parseInt(oe.borderTopWidth,10),se=parseInt(oe.borderRightWidth,10),h=parseInt(oe.borderBottomWidth,10);let d=0,c=0;const v="offsetWidth"in C?C.offsetWidth-C.clientWidth-ae-se:0,A="offsetHeight"in C?C.offsetHeight-C.clientHeight-le-h:0,$="offsetWidth"in C?C.offsetWidth===0?0:re/C.offsetWidth:0,H="offsetHeight"in C?C.offsetHeight===0?0:ne/C.offsetHeight:0;if(O===C)d=a==="start"?E:a==="end"?E-k:a==="nearest"?we(B,B+k,k,le,h,B+E,B+E+x,x):E-k/2,c=m==="start"?V:m==="center"?V-D/2:m==="end"?V-D:we(S,S+D,D,ae,se,S+V,S+V+p,p),d=Math.max(0,d+B),c=Math.max(0,c+S);else{d=a==="start"?E-ie-le:a==="end"?E-ge+h+A:a==="nearest"?we(ie,ge,ne,le,h+A,E,E+x,x):E-(ie+ne/2)+A/2,c=m==="start"?V-ue-ae:m==="center"?V-(ue+re/2)+v/2:m==="end"?V-he+se+v:we(ue,he,re,ae,se+v,V,V+p,p);const{scrollLeft:L,scrollTop:K}=C;d=Math.max(0,Math.min(K+d/H,C.scrollHeight-ne/H+A)),c=Math.max(0,Math.min(L+c/$,C.scrollWidth-re/$+v)),E+=K-d,V+=L-c}J.push({el:C,top:d,left:c})}return J};var Yt=0;function xt(){}function Jt(e,t){if(e){var n=Xt(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(i){var r=i.el,o=i.top,u=i.left;r.scrollTop=o,r.scrollLeft=u})}}function ht(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function wt(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];i(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return r.cancel=i,r}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return t.some(function(a){return a&&a.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Qt(){return String(Yt++)}function Zt(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function _e(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,i){return n[i]=Ct(t,i)?t[i]:e[i],n},{})}function Ct(e,t){return e[t]!==void 0}function en(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Me(e,t,n,i,r){r===void 0&&(r=!1);var o=n.length;if(o===0)return-1;var u=o-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var a=e+t;a<0?a=r?u:0:a>u&&(a=r?0:u);var m=De(a,t<0,n,i,r);return m===-1?e>=o?-1:e:m}function De(e,t,n,i,r){r===void 0&&(r=!1);var o=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var a=e;a<o;a++)if(!i(n[a],a))return a;return r?De(t?o-1:0,t,n,i):-1}function gt(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(ht(r,e,n)||i&&ht(r,n.document.activeElement,n))})}var tn=wt(function(e){Mt(e).textContent=""},500);function Mt(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function nn(e,t){if(!(!e||!t)){var n=Mt(t);n.textContent=e,tn(t)}}var rn=["highlightedIndex","items","environment"],St={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function un(e,t,n){var i=e.props,r=e.type,o={};Object.keys(t).forEach(function(u){on(u,e,t,n),n[u]!==t[u]&&(o[u]=n[u])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(b({type:r},o))}function on(e,t,n,i){var r=t.props,o=t.type,u="on"+Ye(e)+"Change";r[u]&&i[e]!==void 0&&i[e]!==n[e]&&r[u](b({type:o},i))}function an(e,t){return t.changes}function ln(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""}var sn=wt(function(e,t){nn(e(),t)},200),dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect,cn="useId"in Oe?function(t){var n=t.id,i=t.labelId,r=t.menuId,o=t.getItemId,u=t.toggleButtonId,a=t.inputId,m="downshift-"+Oe.useId();n||(n=m);var g=f.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:o||function(l){return n+"-item-"+l},toggleButtonId:u||n+"-toggle-button",inputId:a||n+"-input"});return g.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Qt():n,r=t.labelId,o=t.menuId,u=t.getItemId,a=t.toggleButtonId,m=t.inputId,g=f.useRef({labelId:r||i+"-label",menuId:o||i+"-menu",getItemId:u||function(l){return i+"-item-"+l},toggleButtonId:a||i+"-toggle-button",inputId:m||i+"-input"});return g.current};function fn(e,t,n,i){var r,o;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],o=t}else o=t===void 0?n.indexOf(e):t,r=e;return[r,o]}function Ye(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Et(e){var t=f.useRef(e);return t.current=e,t}function hn(e,t,n,i){var r=f.useRef(),o=f.useRef(),u=f.useCallback(function(M,y){o.current=y,M=_e(M,y.props);var D=e(M,y),k=y.props.stateReducer(M,b({},y,{changes:D}));return k},[e]),a=f.useReducer(u,t,n),m=a[0],g=a[1],l=Et(t),R=f.useCallback(function(M){return g(b({props:l.current},M))},[l]),O=o.current;return f.useEffect(function(){var M=_e(r.current,O==null?void 0:O.props),y=O&&r.current&&!i(M,m);y&&un(O,M,m),r.current=m},[m,O,i]),[m,R]}var fe={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:an,getA11ySelectionMessage:ln,scrollIntoView:Jt,environment:typeof window>"u"?void 0:window};function F(e,t,n){n===void 0&&(n=St);var i=e["default"+Ye(t)];return i!==void 0?i:n[t]}function ve(e,t,n){n===void 0&&(n=St);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Ye(t)];return r!==void 0?r:F(e,t,n)}function gn(e){var t=ve(e,"selectedItem"),n=ve(e,"isOpen"),i=ve(e,"highlightedIndex"),r=ve(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function Ie(e,t,n){var i=e.items,r=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=e.itemToKey,a=t.selectedItem,m=t.highlightedIndex;return i.length===0?-1:r!==void 0&&m===r?r:o!==void 0?o:a?i.findIndex(function(g){return u(a)===u(g)}):n===0?-1:n<0?i.length-1:0}function mn(e,t,n){var i=f.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return f.useEffect(function(){if(!e)return xt;var r=t.map(function(l){return l.current});function o(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function u(l){i.current.isMouseDown=!1,gt(l.target,r,e)||n()}function a(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function m(){i.current.isTouchMove=!0}function g(l){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!gt(l.target,r,e,!1)&&n()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",u),e.addEventListener("touchstart",a),e.addEventListener("touchmove",m),e.addEventListener("touchend",g),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",m),e.removeEventListener("touchend",g)}},[e,n]),i.current}var pn=function(){return xt};function mt(e,t,n){var i=n.highlightedIndex,r=n.items,o=n.environment,u=pe(n,rn),a=Je();f.useEffect(function(){a||!(o!=null&&o.document)||sn(function(){return e(b({highlightedIndex:i,highlightedItem:r[i],resultCount:r.length},u))},o.document)},t)}function vn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,o=e.menuElement,u=e.scrollIntoView,a=f.useRef(!0);return dn(function(){t<0||!n||!Object.keys(i.current).length||(a.current===!1?a.current=!0:u(r(t),o))},[t]),a}function pt(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return b({isOpen:!1,highlightedIndex:-1},r&&b({selectedItem:e.items[t],isOpen:F(e,"isOpen"),highlightedIndex:F(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function In(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Je(){var e=Oe.useRef(!0);return Oe.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var Rt={environment:s.shape({addEventListener:s.func.isRequired,removeEventListener:s.func.isRequired,document:s.shape({createElement:s.func.isRequired,getElementById:s.func.isRequired,activeElement:s.any.isRequired,body:s.any.isRequired}).isRequired,Node:s.func.isRequired}),itemToString:s.func,itemToKey:s.func,stateReducer:s.func},Ot=b({},Rt,{getA11yStatusMessage:s.func,highlightedIndex:s.number,defaultHighlightedIndex:s.number,initialHighlightedIndex:s.number,isOpen:s.bool,defaultIsOpen:s.bool,initialIsOpen:s.bool,selectedItem:s.any,initialSelectedItem:s.any,defaultSelectedItem:s.any,id:s.string,labelId:s.string,menuId:s.string,getItemId:s.func,toggleButtonId:s.string,onSelectedItemChange:s.func,onHighlightedIndexChange:s.func,onStateChange:s.func,onIsOpenChange:s.func,scrollIntoView:s.func});function yn(e,t,n){var i=t.type,r=t.props,o;switch(i){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Ie(r,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:Ie(r,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:F(r,"highlightedIndex"),isOpen:F(r,"isOpen"),selectedItem:F(r,"selectedItem"),inputValue:F(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return b({},e,o)}Re(Re({},Ot),{items:s.array.isRequired,isItemDisabled:s.func,getA11ySelectionMessage:s.func});function bn(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}Re(Re({},fe),{getA11yStatusMessage:bn,isItemDisabled:function(){return!1}});var Qe=0,Ze=1,et=2,tt=3,nt=4,rt=5,it=6,ut=7,ot=8,ke=9,at=10,Dt=11,kt=12,lt=13,Tt=14,Vt=15,At=16,Kt=17,Pt=18,st=19,$t=20,Ht=21,dt=22,Lt=Object.freeze({__proto__:null,InputKeyDownArrowDown:Qe,InputKeyDownArrowUp:Ze,InputKeyDownEscape:et,InputKeyDownHome:tt,InputKeyDownEnd:nt,InputKeyDownPageUp:rt,InputKeyDownPageDown:it,InputKeyDownEnter:ut,InputChange:ot,InputBlur:ke,InputClick:at,MenuMouseLeave:Dt,ItemMouseMove:kt,ItemClick:lt,ToggleButtonClick:Tt,FunctionToggleMenu:Vt,FunctionOpenMenu:At,FunctionCloseMenu:Kt,FunctionSetHighlightedIndex:Pt,FunctionSelectItem:st,FunctionSetInputValue:$t,FunctionReset:Ht,ControlledPropUpdatedSelectedItem:dt});function xn(e){var t=gn(e),n=t.selectedItem,i=t.inputValue;return i===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(n)),b({},t,{inputValue:i})}b({},Ot,{items:s.array.isRequired,isItemDisabled:s.func,selectedItemChanged:s.func,getA11ySelectionMessage:s.func,inputValue:s.string,defaultInputValue:s.string,initialInputValue:s.string,inputId:s.string,onInputValueChange:s.func});function wn(e,t,n,i){var r=f.useRef(),o=hn(e,t,n,i),u=o[0],a=o[1],m=Je();return f.useEffect(function(){if(Ct(t,"selectedItem")){if(!m){var g;t.selectedItemChanged===void 0?g=t.itemToKey(t.selectedItem)!==t.itemToKey(r.current):(console.warn('The "selectedItemChanged" is deprecated. Please use "itemToKey instead". https://github.com/downshift-js/downshift/blob/master/src/hooks/useCombobox/README.md#selecteditemchanged'),g=t.selectedItemChanged(r.current,t.selectedItem)),g&&a({type:dt,inputValue:t.itemToString(t.selectedItem)})}r.current=u.selectedItem===r.current?t.selectedItem:u.selectedItem}},[u.selectedItem,t.selectedItem]),[_e(u,t),a]}var Cn=b({},fe,{getA11yStatusMessage:Zt,isItemDisabled:function(){return!1}});function Mn(e,t){var n,i=t.type,r=t.props,o=t.altKey,u;switch(i){case lt:u={isOpen:F(r,"isOpen"),highlightedIndex:F(r,"highlightedIndex"),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case Qe:e.isOpen?u={highlightedIndex:Me(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:o&&e.selectedItem==null?-1:Ie(r,e,1),isOpen:r.items.length>=0};break;case Ze:e.isOpen?o?u=pt(r,e.highlightedIndex):u={highlightedIndex:Me(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:Ie(r,e,-1),isOpen:r.items.length>=0};break;case ut:u=pt(r,e.highlightedIndex);break;case et:u=b({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case rt:u={highlightedIndex:Me(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case it:u={highlightedIndex:Me(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case tt:u={highlightedIndex:De(0,!1,r.items,r.isItemDisabled)};break;case nt:u={highlightedIndex:De(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case ke:u=b({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case ot:u={isOpen:!0,highlightedIndex:F(r,"highlightedIndex"),inputValue:t.inputValue};break;case at:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Ie(r,e,0)};break;case st:u={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case dt:u={inputValue:t.inputValue};break;default:return yn(e,t,Lt)}return b({},e,u)}var Sn=["onMouseLeave","refKey","ref"],En=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Rn=["onClick","onPress","refKey","ref"],On=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Ee.stateChangeTypes=Lt;function Ee(e){e===void 0&&(e={});var t=b({},Cn,e),n=t.items,i=t.scrollIntoView,r=t.environment,o=t.getA11yStatusMessage,u=t.getA11ySelectionMessage,a=t.itemToString,m=wn(Mn,t,xn,In),g=m[0],l=m[1],R=g.isOpen,O=g.highlightedIndex,M=g.selectedItem,y=g.inputValue,D=f.useRef(null),k=f.useRef({}),S=f.useRef(null),B=f.useRef(null),x=Je(),p=cn(t),T=f.useRef(),w=Et({state:g,props:t}),Y=f.useCallback(function(h){return k.current[p.getItemId(h)]},[p]);mt(o,[R,O,y,n],b({previousResultCount:T.current,items:n,environment:r,itemToString:a},g)),mt(u,[M],b({previousResultCount:T.current,items:n,environment:r,itemToString:a},g));var q=vn({menuElement:D.current,highlightedIndex:O,isOpen:R,itemRefs:k,scrollIntoView:i,getItemNodeFromIndex:Y});f.useEffect(function(){var h=ve(t,"isOpen");h&&S.current&&S.current.focus()},[]),f.useEffect(function(){x||(T.current=n.length)});var E=mn(r,[B,D,S],f.useCallback(function(){w.current.state.isOpen&&l({type:ke,selectItem:!1})},[l,w])),V=pn();f.useEffect(function(){R||(k.current={})},[R]),f.useEffect(function(){var h;!R||!(r!=null&&r.document)||!(S!=null&&(h=S.current)!=null&&h.focus)||r.document.activeElement!==S.current&&S.current.focus()},[R,r]);var J=f.useMemo(function(){return{ArrowDown:function(d){d.preventDefault(),l({type:Qe,altKey:d.altKey})},ArrowUp:function(d){d.preventDefault(),l({type:Ze,altKey:d.altKey})},Home:function(d){w.current.state.isOpen&&(d.preventDefault(),l({type:tt}))},End:function(d){w.current.state.isOpen&&(d.preventDefault(),l({type:nt}))},Escape:function(d){var c=w.current.state;(c.isOpen||c.inputValue||c.selectedItem||c.highlightedIndex>-1)&&(d.preventDefault(),l({type:et}))},Enter:function(d){var c=w.current.state;!c.isOpen||d.which===229||(d.preventDefault(),l({type:ut}))},PageUp:function(d){w.current.state.isOpen&&(d.preventDefault(),l({type:rt}))},PageDown:function(d){w.current.state.isOpen&&(d.preventDefault(),l({type:it}))}}},[l,w]),Q=f.useCallback(function(h){return b({id:p.labelId,htmlFor:p.inputId},h)},[p]),C=f.useCallback(function(h,d){var c,v=h===void 0?{}:h,A=v.onMouseLeave,$=v.refKey,H=$===void 0?"ref":$,L=v.ref,K=pe(v,Sn),U=d===void 0?{}:d;return U.suppressRefError,b((c={},c[H]=Ce(L,function(_){D.current=_}),c.id=p.menuId,c.role="listbox",c["aria-labelledby"]=K&&K["aria-label"]?void 0:""+p.labelId,c.onMouseLeave=N(A,function(){l({type:Dt})}),c),K)},[l,V,p]),ne=f.useCallback(function(h){var d,c,v=h===void 0?{}:h,A=v.item,$=v.index,H=v.refKey,L=H===void 0?"ref":H,K=v.ref,U=v.onMouseMove,_=v.onMouseDown,Fe=v.onClick;v.onPress;var de=v.disabled,je=pe(v,En);de!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var j=w.current,ye=j.props,be=j.state,xe=fn(A,$,ye.items,"Pass either item or index to getItemProps!"),We=xe[0],W=xe[1],ce=ye.isItemDisabled(We,W),z="onClick",Z=Fe,G=function(){E.isTouchEnd||W===be.highlightedIndex||(q.current=!1,l({type:kt,index:W,disabled:ce}))},ee=function(){l({type:lt,index:W})},Bt=function(qt){return qt.preventDefault()};return b((d={},d[L]=Ce(K,function(me){me&&(k.current[p.getItemId(W)]=me)}),d["aria-disabled"]=ce,d["aria-selected"]=""+(W===be.highlightedIndex),d.id=p.getItemId(W),d.role="option",d),!ce&&(c={},c[z]=N(Z,ee),c),{onMouseMove:N(U,G),onMouseDown:N(_,Bt)},je)},[l,p,w,E,q]),re=f.useCallback(function(h){var d,c=h===void 0?{}:h,v=c.onClick;c.onPress;var A=c.refKey,$=A===void 0?"ref":A,H=c.ref,L=pe(c,Rn),K=w.current.state,U=function(){l({type:Tt})};return b((d={},d[$]=Ce(H,function(_){B.current=_}),d["aria-controls"]=p.menuId,d["aria-expanded"]=K.isOpen,d.id=p.toggleButtonId,d.tabIndex=-1,d),!L.disabled&&b({},{onClick:N(v,U)}),L)},[l,w,p]),ie=f.useCallback(function(h,d){var c,v=h===void 0?{}:h,A=v.onKeyDown,$=v.onChange,H=v.onInput,L=v.onBlur;v.onChangeText;var K=v.onClick,U=v.refKey,_=U===void 0?"ref":U,Fe=v.ref,de=pe(v,On),je=d===void 0?{}:d;je.suppressRefError;var j=w.current.state,ye=function(G){var ee=en(G);ee&&J[ee]&&J[ee](G)},be=function(G){l({type:ot,inputValue:G.target.value})},xe=function(G){if(r!=null&&r.document&&j.isOpen&&!E.isMouseDown){var ee=G.relatedTarget===null&&r.document.activeElement!==r.document.body;l({type:ke,selectItem:!ee})}},We=function(){l({type:at})},W="onChange",ce={};if(!de.disabled){var z;ce=(z={},z[W]=N($,H,be),z.onKeyDown=N(A,ye),z.onBlur=N(L,xe),z.onClick=N(K,We),z)}return b((c={},c[_]=Ce(Fe,function(Z){S.current=Z}),c["aria-activedescendant"]=j.isOpen&&j.highlightedIndex>-1?p.getItemId(j.highlightedIndex):"",c["aria-autocomplete"]="list",c["aria-controls"]=p.menuId,c["aria-expanded"]=j.isOpen,c["aria-labelledby"]=de&&de["aria-label"]?void 0:p.labelId,c.autoComplete="off",c.id=p.inputId,c.role="combobox",c.value=j.inputValue,c),ce,de)},[l,p,r,J,w,E,V]),he=f.useCallback(function(){l({type:Vt})},[l]),ge=f.useCallback(function(){l({type:Kt})},[l]),ue=f.useCallback(function(){l({type:At})},[l]),oe=f.useCallback(function(h){l({type:Pt,highlightedIndex:h})},[l]),ae=f.useCallback(function(h){l({type:st,selectedItem:h})},[l]),le=f.useCallback(function(h){l({type:$t,inputValue:h})},[l]),se=f.useCallback(function(){l({type:Ht})},[l]);return{getItemProps:ne,getLabelProps:Q,getMenuProps:C,getInputProps:ie,getToggleButtonProps:re,toggleMenu:he,openMenu:ue,closeMenu:ge,setHighlightedIndex:oe,setInputValue:le,selectItem:ae,reset:se,highlightedIndex:O,isOpen:R,selectedItem:M,inputValue:y}}function Dn(e){var t=e.removedSelectedItem,n=e.itemToString;return n(t)+" has been removed."}b({},Rt,{selectedItems:s.array,initialSelectedItems:s.array,defaultSelectedItems:s.array,getA11yRemovalMessage:s.func,activeIndex:s.number,initialActiveIndex:s.number,defaultActiveIndex:s.number,onActiveIndexChange:s.func,onSelectedItemsChange:s.func,keyNavigationNext:s.string,keyNavigationPrevious:s.string});fe.itemToString,fe.itemToKey,fe.stateReducer,fe.environment;const kn="_container_1kh8r_2",Ue={container:kn,"search-list":"_search-list_1kh8r_9","search-input":"_search-input_1kh8r_20"},Tn=(e,t)=>{const n=new RegExp(t,"i");return e.filter(i=>i.label.match(n))},Vn=(e,t)=>e.sort((n,i)=>te(t,i.value)&&!te(t,n.value)?1:!te(t,i.value)&&te(t,n.value)?-1:n.label.localeCompare(i.label)),te=(e,t)=>{if(Array.isArray(t)){const n=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(r=>n.has(r)))}return e.includes(t)},ze=({options:e,placeholder:t,name:n,label:i,isOpen:r,sortOptions:o,filterMaxLength:u=255})=>{const[a,m]=f.useState(""),[g]=Ft(n),{setFieldValue:l}=jt(),[R,O]=f.useState([]),{getLabelProps:M,getMenuProps:y,getInputProps:D,getItemProps:k,setInputValue:S}=Ee({items:R,defaultHighlightedIndex:0,selectedItem:null,stateReducer(x,p){const{changes:T,type:w}=p;switch(w){case Ee.stateChangeTypes.InputKeyDownEnter:case Ee.stateChangeTypes.ItemClick:return{...T,isOpen:!0};default:return T}},onInputValueChange:({inputValue:x})=>{m(x||"")},itemToString:()=>a}),B=async x=>{if(te(g.value,x.value)){if(g.value.length>0&&Array.isArray(g.value[0])){await l(n,g.value.filter(p=>!x.value.some(T=>p.includes(T))));return}await l(n,g.value.filter(p=>!te([x.value],p)))}else await l(n,[...g.value,x.value])};return f.useEffect(()=>{m(""),S(""),O((o??Vn)(e,g.value))},[r]),X.jsxs("div",{className:Ue.container,children:[X.jsx("label",{htmlFor:"search",className:"visually-hidden",...M(),children:i}),X.jsx(Ut,{type:"search",name:"search",className:Ue["search-input"],placeholder:t,maxLength:u,value:a,...D()}),X.jsx("ul",{className:Ue["search-list"],...y({"aria-activedescendant":D()["aria-activedescendant"]}),children:Tn(R,a).map((x,p)=>{const{ref:T,...w}=k({item:x,index:p}),Y=Array.isArray(x.value)?x.value.join("_"):x.value,q=te(g.value,x.value);return X.jsx("li",{children:X.jsx(Nt,{label:x.label,name:n,checked:q,onChange:()=>B(x),...w,"aria-selected":q},`${n}-${x.label}`)},`${Y}`)})})]})},An=ze;try{ze.displayName="AdageMultiselect",ze.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},filterMaxLength:{defaultValue:{value:"255"},description:"",name:"filterMaxLength",required:!1,type:{name:"number"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: (string | number | string[])[]) => ItemProps[])"}}}}}catch{}const xr={title:"ui-kit/forms/AdageMultiselect",component:An,decorators:[e=>X.jsx(Wt,{initialValues:{educationalDomains:[]},onSubmit:()=>{},children:X.jsx(e,{})})]},Kn=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Mémoire"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"},{value:18,label:"Patrimoine"}],Se={args:{options:Kn,placeholder:"Ex: Théâtre",name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0}};var vt,It,yt;Se.parameters={...Se.parameters,docs:{...(vt=Se.parameters)==null?void 0:vt.docs,source:{originalSource:`{
  args: {
    options,
    placeholder: 'Ex: Théâtre',
    name: 'educationalDomains',
    label: 'Rechercher un domaine artistique',
    isOpen: true
  }
}`,...(yt=(It=Se.parameters)==null?void 0:It.docs)==null?void 0:yt.source}}};const wr=["Default"];export{Se as Default,wr as __namedExportsOrder,xr as default};
