import{j as r}from"./jsx-runtime-Cf8x2fCZ.js";import{u as q,a as V,F as N}from"./index.esm-K9mStD-T.js";import{c as b}from"./index-B0pXE9zJ.js";import{r as c}from"./index-QQMyt9Ur.js";import{B as T}from"./BaseInput-B8c5gx_3.js";import{F as j}from"./FieldError-2mFOl_uD.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-CqkleIqs.js";import"./stroke-search-dgesjRZH.js";import"./SvgIcon-B5V96DYN.js";import"./stroke-error-DSZD431a.js";const I=/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,S=e=>!!(e&&I.test(e)),F="_timepicker_1b1f3_1",B={timepicker:F},E=e=>{if(!e||!Object.keys(e).length)return[];const{interval:t=15,min:a="00:00",max:d="23:59"}=e,[i,u]=a.split(":").map(Number),[n,s]=d.split(":").map(Number),f=[];for(let l=i;l<=n;l++)for(let o=0;o<60;o+=t)if(!(l===i&&o<u)){if(l===n&&o>s)break;f.push(`${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`)}return f},y=c.forwardRef(({className:e,suggestedTimeList:t={interval:15},...a},d)=>{const i=c.useId(),u=E(t),n=u.length>0;return a.value?.length===4&&(a.value=`0${a.value}`),r.jsxs(r.Fragment,{children:[r.jsx(T,{type:"time",...n?{list:i}:{},autoComplete:"off",...a,value:d||S(a.value)?a.value:"",className:b(e,B.timepicker),ref:d}),n&&r.jsx("datalist",{id:i,"data-testid":"timepicker-datalist",children:u.map(s=>r.jsx("option",{value:s,children:s},s))})]})});y.displayName="BaseTimePicker";try{y.displayName="BaseTimePicker",y.__docgenInfo={description:"",displayName:"BaseTimePicker",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}},leftIcon:{defaultValue:null,description:"",name:"leftIcon",required:!1,type:{name:"string"}},rightButton:{defaultValue:null,description:"",name:"rightButton",required:!1,type:{name:"(() => Element)"}},rightIcon:{defaultValue:null,description:"",name:"rightIcon",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:{value:"{ interval: 15 }"},description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}}}}}catch{}const P="_label_o11t0_1",C="_error_o11t0_6",m={label:P,error:C,"visually-hidden":"_visually-hidden_o11t0_10"},p=c.forwardRef(({name:e,className:t,disabled:a,label:d,required:i,asterisk:u=!0,error:n,value:s,onChange:f,onBlur:l,suggestedTimeList:o,isLabelHidden:x=!1},k)=>{const _=c.useId(),v=c.useId();return r.jsxs("div",{className:b(m["time-picker"],t),children:[r.jsxs("div",{className:m["time-picker-field"],children:[r.jsxs("label",{htmlFor:_,className:b(m.label,{[m["visually-hidden"]]:x}),children:[d,i&&u?" *":""]}),r.jsx(y,{hasError:!!n,disabled:a,"aria-required":i,value:s,ref:k,onChange:f,onBlur:l,name:e,id:_,"aria-describedby":v,suggestedTimeList:o})]}),r.jsx("div",{role:"alert",id:v,children:n&&r.jsx(j,{name:e,className:m.error,children:n})})]})});p.displayName="TimePicker";try{p.displayName="TimePicker",p.__docgenInfo={description:"",displayName:"TimePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},asterisk:{defaultValue:{value:"true"},description:"Whether or not to display the asterisk in the label when the field is required",name:"asterisk",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Name of the input. Used for identifying it in an uncontrolled form, and for referencing the error",name:"name",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:null,description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}}}}}catch{}const L=({children:e})=>{const t=V({defaultValues:{group:"option1"}});return r.jsx(N,{...t,children:r.jsx("form",{children:e})})},G={title:"@/ui-kit/forms/TimePicker",component:p},g={args:{label:"Select an option",value:"22:11",onChange:()=>{}}},h={args:{label:"Select a time"},decorators:[e=>r.jsx(L,{children:r.jsx(e,{})})],render:e=>{const{register:t}=q();return r.jsx(p,{...e,...t("time")})}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select an option',
    value: '22:11',
    onChange: () => {
      //    Control changes
    }
  }
}`,...g.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select a time'
  },
  decorators: [Story => <Wrapper>
        <Story />
      </Wrapper>],
  render: (args: any) => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    const {
      register
    } = useFormContext<{
      time: string;
    }>();
    return <TimePicker {...args} {...register('time')} />;
  }
}`,...h.parameters?.docs?.source}}};const J=["Default","WithinForm"];export{g as Default,h as WithinForm,J as __namedExportsOrder,G as default};
