import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{c as q}from"./index-BpvXyOxN.js";import{r as i}from"./index-BwDkhjyp.js";import{f as $}from"./full-clear-CvNWe6Ae.js";import{f as M}from"./full-close-DkqMqJw6.js";import{B as T}from"./Button-B42DGgFF.js";import{B}from"./types-DjX_gQD6.js";import{F as D}from"./FieldError-DZpH9Ndm.js";const o={"field-layout":"_field-layout_1mmzd_1","field-layout-label":"_field-layout-label_1mmzd_5","field-layout-label-container":"_field-layout-label-container_1mmzd_11","field-layout-label-break":"_field-layout-label-break_1mmzd_14","field-layout-small-label":"_field-layout-small-label_1mmzd_17","field-layout-inline":"_field-layout-inline_1mmzd_23","field-layout-content":"_field-layout-content_1mmzd_31","field-layout-footer":"_field-layout-footer_1mmzd_38","field-layout-error":"_field-layout-error_1mmzd_44","field-layout-input-description":"_field-layout-input-description_1mmzd_50","input-wrapper":"_input-wrapper_1mmzd_57","clear-button":"_clear-button_1mmzd_61","clear-button-container":"_clear-button-container_1mmzd_69","clear-button-clear-container":"_clear-button-clear-container_1mmzd_74","clear-button-close-container":"_clear-button-close-container_1mmzd_79","clear-button-icon":"_clear-button-icon_1mmzd_92"};function H(r,e,l){var _=this,s=i.useRef(null),a=i.useRef(0),n=i.useRef(null),d=i.useRef([]),f=i.useRef(),m=i.useRef(),j=i.useRef(r),b=i.useRef(!0);j.current=r;var g=typeof window<"u",V=!e&&e!==0&&g;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var w=!!(l=l||{}).leading,z=!("trailing"in l)||!!l.trailing,h="maxWait"in l,R="debounceOnServer"in l&&!!l.debounceOnServer,N=h?Math.max(+l.maxWait||0,e):null;i.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var p=i.useMemo(function(){var v=function(u){var c=d.current,C=f.current;return d.current=f.current=null,a.current=u,m.current=j.current.apply(C,c)},y=function(u,c){V&&cancelAnimationFrame(n.current),n.current=V?requestAnimationFrame(u):setTimeout(u,c)},F=function(u){if(!b.current)return!1;var c=u-s.current;return!s.current||c>=e||c<0||h&&u-a.current>=N},E=function(u){return n.current=null,z&&d.current?v(u):(d.current=f.current=null,m.current)},L=function u(){var c=Date.now();if(F(c))return E(c);if(b.current){var C=e-(c-s.current),I=h?Math.min(C,N-(c-a.current)):C;y(u,I)}},x=function(){if(g||R){var u=Date.now(),c=F(u);if(d.current=[].slice.call(arguments),f.current=_,s.current=u,c){if(!n.current&&b.current)return a.current=s.current,y(L,e),w?v(s.current):m.current;if(h)return y(L,e),v(s.current)}return n.current||y(L,e),m.current}};return x.cancel=function(){n.current&&(V?cancelAnimationFrame(n.current):clearTimeout(n.current)),a.current=0,d.current=s.current=f.current=n.current=null},x.isPending=function(){return!!n.current},x.flush=function(){return n.current?E(Date.now()):m.current},x},[w,h,e,N,z,V,g,R]);return p}function O(r,e){return r===e}function S(r,e,l){var _=O,s=i.useRef(r),a=i.useState({})[1],n=H(i.useCallback(function(f){s.current=f,a({})},[a]),e,l),d=i.useRef(r);return _(d.current,r)||(n(r),d.current=r),[s.current,n]}const W={"field-layout-character-count":"_field-layout-character-count_1in29_1"};function A({count:r,maxLength:e,name:l}){const[_]=S(r,1e3);return t.jsxs(t.Fragment,{children:[t.jsxs("span",{role:"status",className:"visually-hidden",id:`field-characters-count-${l}`,children:[_," caractÃ¨res sur ",e]}),t.jsxs("span",{className:W["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[r,"/",e]})]})}try{A.displayName="FieldLayoutCharacterCount",A.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const k=({children:r,label:e,isLabelHidden:l=!1,hasLabelLineBreak:_=!0,className:s,name:a,showError:n=!1,error:d,count:f=void 0,maxLength:m=void 0,isOptional:j=!1,showMandatoryAsterisk:b=!0,smallLabel:g,hideFooter:V=!1,inline:w=!1,classNameLabel:z,classNameFooter:h,classNameInput:R,description:N,clearButtonProps:p,ErrorDetails:v})=>{const y=n&&!!d,F=f!==void 0&&m!==void 0,E=i.useId(),L=!V||y||F||!!v,x=(p==null?void 0:p.display)||"clear";return t.jsxs("div",{className:q(o["field-layout"],{[o["field-layout-small-label"]]:g,[o["field-layout-inline"]]:w},s),"data-testid":`wrapper-${a}`,children:[t.jsxs("div",{className:q(o["field-layout-label-container"],z,{"visually-hidden":l}),children:[t.jsxs("label",{className:q(o["field-layout-label"],_&&o["field-layout-label-break"]),htmlFor:a,children:[e," ",!j&&b&&"*"]}),N&&t.jsx("span",{id:`description-${a}`,"data-testid":`description-${a}`,className:o["field-layout-input-description"],children:N})]}),t.jsxs("div",{className:o["field-layout-content"],children:[t.jsxs("div",{className:q(o["input-wrapper"],R),children:[r,p&&t.jsx("div",{className:q(o["clear-button-container"],o[`clear-button-${x}-container`]),children:t.jsx(T,{...p,"aria-describedby":E,className:o["clear-button"],hasTooltip:!0,type:"button",icon:x==="clear"?$:M,variant:B.TERNARY,children:p.tooltip||"Supprimer"})})]}),L&&t.jsxs("div",{className:q(h,o["field-layout-footer"]),children:[t.jsx("div",{role:"alert",className:o["field-layout-error"],id:`error-details-${a}`,children:(y||!!v)&&t.jsxs(t.Fragment,{children:[y&&t.jsx(D,{name:a,children:d}),v]})}),F&&t.jsx(A,{count:f,maxLength:m,name:a})]})]})]})};try{k.displayName="FieldLayout",k.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:"",name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{k as F};
