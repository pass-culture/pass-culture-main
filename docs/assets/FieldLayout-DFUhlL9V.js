import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{c as N}from"./index-BpvXyOxN.js";import{r as o}from"./index-BwDkhjyp.js";import{f as M}from"./full-clear-CvNWe6Ae.js";import{f as T}from"./full-close-DkqMqJw6.js";import{B}from"./Button-D9ATVrwc.js";import{B as D}from"./types-DjX_gQD6.js";import{F as H}from"./FieldError-Bi9PL_lG.js";const u={"field-layout":"_field-layout_ohw0n_1","field-layout-label":"_field-layout-label_ohw0n_5","field-layout-label-container":"_field-layout-label-container_ohw0n_11","field-layout-label-break":"_field-layout-label-break_ohw0n_14","field-layout-small-label":"_field-layout-small-label_ohw0n_17","field-layout-inline":"_field-layout-inline_ohw0n_25","field-layout-content":"_field-layout-content_ohw0n_33","field-layout-footer":"_field-layout-footer_ohw0n_40","field-layout-error":"_field-layout-error_ohw0n_46","field-layout-input-description":"_field-layout-input-description_ohw0n_52","input-wrapper":"_input-wrapper_ohw0n_61","clear-button":"_clear-button_ohw0n_65","clear-button-container":"_clear-button-container_ohw0n_73","clear-button-clear-container":"_clear-button-clear-container_ohw0n_78","clear-button-close-container":"_clear-button-close-container_ohw0n_83","clear-button-icon":"_clear-button-icon_ohw0n_96"};function O(r,e,l){var p=this,s=o.useRef(null),a=o.useRef(0),t=o.useRef(null),c=o.useRef([]),f=o.useRef(),m=o.useRef(),L=o.useRef(r),h=o.useRef(!0);L.current=r;var g=typeof window<"u",x=!e&&e!==0&&g;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var j=!!(l=l||{}).leading,R=!("trailing"in l)||!!l.trailing,b="maxWait"in l,E="debounceOnServer"in l&&!!l.debounceOnServer,V=b?Math.max(+l.maxWait||0,e):null;o.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var y=o.useMemo(function(){var v=function(i){var d=c.current,A=f.current;return c.current=f.current=null,a.current=i,m.current=L.current.apply(A,d)},_=function(i,d){x&&cancelAnimationFrame(t.current),t.current=x?requestAnimationFrame(i):setTimeout(i,d)},q=function(i){if(!h.current)return!1;var d=i-s.current;return!s.current||d>=e||d<0||b&&i-a.current>=V},C=function(i){return t.current=null,R&&c.current?v(i):(c.current=f.current=null,m.current)},F=function i(){var d=Date.now();if(q(d))return C(d);if(h.current){var A=e-(d-s.current),$=b?Math.min(A,V-(d-a.current)):A;_(i,$)}},w=function(){if(g||E){var i=Date.now(),d=q(i);if(c.current=[].slice.call(arguments),f.current=p,s.current=i,d){if(!t.current&&h.current)return a.current=s.current,_(F,e),j?v(s.current):m.current;if(b)return _(F,e),v(s.current)}return t.current||_(F,e),m.current}};return w.cancel=function(){t.current&&(x?cancelAnimationFrame(t.current):clearTimeout(t.current)),a.current=0,c.current=s.current=f.current=t.current=null},w.isPending=function(){return!!t.current},w.flush=function(){return t.current?C(Date.now()):m.current},w},[j,b,e,V,R,x,g,E]);return y}function S(r,e){return r===e}function W(r,e){return e}function Y(r,e,l){var p=S,s=o.useReducer(W,r),a=s[0],t=s[1],c=O(o.useCallback(function(m){return t(m)},[t]),e,l),f=o.useRef(r);return p(f.current,r)||(c(r),f.current=r),p(a,r)&&c.cancel(),[a,c]}const z={"field-layout-character-count":"_field-layout-character-count_1lyj9_1"};function k({count:r,maxLength:e,name:l}){const[p]=Y(r,1e3);return n.jsxs(n.Fragment,{children:[n.jsxs("span",{role:"status",className:"visually-hidden",id:`field-characters-count-${l}`,children:[p," caractÃ¨res sur ",e]}),n.jsxs("span",{className:z["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[r,"/",e]})]})}try{k.displayName="FieldLayoutCharacterCount",k.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const I=({children:r,label:e,isLabelHidden:l=!1,hasLabelLineBreak:p=!0,className:s,name:a,showError:t=!1,error:c,count:f=void 0,maxLength:m=void 0,isOptional:L=!1,showMandatoryAsterisk:h=!0,smallLabel:g,hideFooter:x=!1,inline:j=!1,classNameLabel:R,classNameFooter:b,classNameInput:E,description:V,clearButtonProps:y,ErrorDetails:v})=>{const _=t&&!!c,q=f!==void 0&&m!==void 0,C=o.useId(),F=!x||_||q||!!v,w=(y==null?void 0:y.display)||"clear";return n.jsxs("div",{className:N(u["field-layout"],{[u["field-layout-small-label"]]:g,[u["field-layout-inline"]]:j},s),"data-testid":`wrapper-${a}`,children:[n.jsxs("div",{className:N(u["field-layout-label-container"],R,{"visually-hidden":l}),children:[n.jsxs("label",{className:N(u["field-layout-label"],p&&u["field-layout-label-break"]),htmlFor:a,children:[e," ",!L&&h&&"*"]}),V&&n.jsx("span",{id:`description-${a}`,"data-testid":`description-${a}`,className:u["field-layout-input-description"],children:V})]}),n.jsxs("div",{className:u["field-layout-content"],children:[n.jsxs("div",{className:N(u["input-wrapper"],E),children:[r,y&&n.jsx("div",{className:N(u["clear-button-container"],u[`clear-button-${w}-container`]),children:n.jsx(B,{...y,"aria-describedby":C,className:u["clear-button"],hasTooltip:!0,type:"button",icon:w==="clear"?M:T,variant:D.TERNARY,children:y.tooltip||"Supprimer"})})]}),F&&n.jsxs("div",{className:N(b,u["field-layout-footer"]),children:[n.jsx("div",{role:"alert",className:u["field-layout-error"],id:`error-details-${a}`,children:(_||!!v)&&n.jsxs(n.Fragment,{children:[_&&n.jsx(H,{name:a,children:c}),v]})}),q&&n.jsx(k,{count:f,maxLength:m,name:a})]})]})]})};try{I.displayName="FieldLayout",I.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:"",name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{I as F};
