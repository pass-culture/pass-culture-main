import{j as X}from"./jsx-runtime-ffb262ed.js";import{c as Rt,a as Ot,b as Et}from"./formik.esm-5489b507.js";import{b,_ as Se,c as ge}from"./tslib.es6-0a050bf6.js";import{P as l}from"./index-9d475cdf.js";import{r as c,R as _e}from"./index-76fb7be0.js";import"./react-is.production.min-a192e302.js";import{B as kt}from"./BaseCheckbox-14ab89c3.js";import"./BaseFileInput-5e0c3522.js";import"./stroke-show-3f94b3ba.js";import"./Thumb-22ba2ea2.js";import"./FieldError-10cbd29d.js";import"./FieldSuccess-31bdacb0.js";import{B as Vt}from"./BaseInput-be025c1d.js";import"./_commonjsHelpers-de833af9.js";import"./hoist-non-react-statics.cjs-3f8ebaa8.js";import"./index-a587463d.js";import"./Button.module-cdbd9853.js";import"./full-next-ebff3494.js";import"./Button-6b3c6642.js";import"./index-70f1445f.js";import"./full-right-83efe067.js";import"./SvgIcon-c0bf369c.js";import"./stroke-pass-cf331655.js";import"./Tooltip-38002e21.js";import"./BaseRadio-1a306312.js";import"./full-clear-9268779e.js";import"./Divider-7c035ea9.js";import"./SubmitButton-e5abe31e.js";import"./Tag-2c2f8155.js";import"./stroke-close-3a7bfe9e.js";import"./typeof-7fd5df1e.js";import"./utils-70f14cd5.js";import"./Banner-4f125cf0.js";import"./shadow-tips-help-841f916a.js";import"./shadow-tips-warning-66fb0429.js";import"./LinkNodes-0cc92e13.js";import"./full-link-9eb5e1cb.js";import"./InfoBox-1b9df5ec.js";import"./stroke-error-ed5fe82d.js";import"./stroke-valid-9c345a33.js";const Je=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Qe=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ve=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Qe(n.overflowY,t)||Qe(n.overflowX,t)||(i=>{const r=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},ye=(e,t,n,i,r,o,u,a)=>o<e&&u>t||o>e&&u<t?0:o<=e&&a<=n||u>=t&&a>=n?o-e-i:u>t&&a<n||o<e&&a>n?u-t+r:0,At=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Tt=(e,t)=>{var n,i,r,o;if(typeof document>"u")return[];const{scrollMode:u,block:a,inline:m,boundary:M,skipOverflowHiddenElements:I}=t,d=typeof M=="function"?M:F=>F!==M;if(!Je(e))throw new TypeError("Invalid target");const y=document.scrollingElement||document.documentElement,S=[];let w=e;for(;Je(w)&&d(w);){if(w=At(w),w===y){S.push(w);break}w!=null&&w===document.body&&Ve(w)&&!Ve(document.documentElement)||w!=null&&Ve(w,I)&&S.push(w)}const k=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,A=(o=(r=window.visualViewport)==null?void 0:r.height)!=null?o:innerHeight,{scrollX:V,scrollY:p}=window,{height:R,width:D,top:v,right:L,bottom:C,left:J}=e.getBoundingClientRect();let O=a==="start"||a==="nearest"?v:a==="end"?C:v+R/2,E=m==="center"?J+D/2:m==="end"?L:J;const Q=[];for(let F=0;F<S.length;F++){const x=S[F],{height:Z,width:ee,top:te,right:de,bottom:ce,left:ne}=x.getBoundingClientRect();if(u==="if-needed"&&v>=0&&J>=0&&C<=A&&L<=k&&v>=te&&C<=ce&&J>=ne&&L<=de)return Q;const re=getComputedStyle(x),ie=parseInt(re.borderLeftWidth,10),ue=parseInt(re.borderTopWidth,10),oe=parseInt(re.borderRightWidth,10),ae=parseInt(re.borderBottomWidth,10);let f=0,s=0;const g="offsetWidth"in x?x.offsetWidth-x.clientWidth-ie-oe:0,h="offsetHeight"in x?x.offsetHeight-x.clientHeight-ue-ae:0,T="offsetWidth"in x?x.offsetWidth===0?0:ee/x.offsetWidth:0,P="offsetHeight"in x?x.offsetHeight===0?0:Z/x.offsetHeight:0;if(y===x)f=a==="start"?O:a==="end"?O-A:a==="nearest"?ye(p,p+A,A,ue,ae,p+O,p+O+R,R):O-A/2,s=m==="start"?E:m==="center"?E-k/2:m==="end"?E-k:ye(V,V+k,k,ie,oe,V+E,V+E+D,D),f=Math.max(0,f+p),s=Math.max(0,s+V);else{f=a==="start"?O-te-ue:a==="end"?O-ce+ae+h:a==="nearest"?ye(te,ce,Z,ue,ae+h,O,O+R,R):O-(te+Z/2)+h/2,s=m==="start"?E-ne-ie:m==="center"?E-(ne+ee/2)+g/2:m==="end"?E-de+oe+g:ye(ne,de,ee,ie,oe+g,E,E+D,D);const{scrollLeft:H,scrollTop:K}=x;f=Math.max(0,Math.min(K+f/P,x.scrollHeight-Z/P+h)),s=Math.max(0,Math.min(H+s/T,x.scrollWidth-ee/T+g)),O+=K-f,E+=H-s}Q.push({el:x,top:f,left:s})}return Q};var Pt=0;function He(){}function Ht(e,t){if(e){var n=Tt(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(i){var r=i.el,o=i.top,u=i.left;r.scrollTop=o,r.scrollLeft=u})}}function Ze(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function at(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];i(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return r.cancel=i,r}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return t.some(function(a){return a&&a.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Kt(){return String(Pt++)}function Bt(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Te(e,t){return Object.keys(e).reduce(function(n,i){return n[i]=lt(t,i)?t[i]:e[i],n},{})}function lt(e,t){return e[t]!==void 0}function Lt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function we(e,t,n,i,r){r===void 0&&(r=!1);var o=n.length;if(o===0)return-1;var u=o-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var a=e+t;a<0?a=r?u:0:a>u&&(a=r?0:u);var m=De(a,t<0,n,i,r);return m===-1?e>=o?-1:e:m}function De(e,t,n,i,r){r===void 0&&(r=!1);var o=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var a=e;a<o;a++)if(!i(n[a],a))return a;return r?De(t?o-1:0,t,n,i):-1}function et(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(Ze(r,e,n)||i&&Ze(r,n.document.activeElement,n))})}var Ft=at(function(e){st(e).textContent=""},500);function st(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function qt(e,t){if(!(!e||!t)){var n=st(t);n.textContent=e,Ft(t)}}var $t=["isInitialMount","highlightedIndex","items","environment"],dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Nt(e,t,n){var i=e.props,r=e.type,o={};Object.keys(t).forEach(function(u){Wt(u,e,t,n),n[u]!==t[u]&&(o[u]=n[u])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(b({type:r},o))}function Wt(e,t,n,i){var r=t.props,o=t.type,u="on"+Ke(e)+"Change";r[u]&&i[e]!==void 0&&i[e]!==n[e]&&r[u](b({type:o},i))}function jt(e,t){return t.changes}function Ut(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""}var Gt=at(function(e,t){qt(e(),t)},200),zt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,Xt="useId"in _e?function(t){var n=t.id,i=t.labelId,r=t.menuId,o=t.getItemId,u=t.toggleButtonId,a=t.inputId,m="downshift-"+_e.useId();n||(n=m);var M=c.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:o||function(I){return n+"-item-"+I},toggleButtonId:u||n+"-toggle-button",inputId:a||n+"-input"});return M.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Kt():n,r=t.labelId,o=t.menuId,u=t.getItemId,a=t.toggleButtonId,m=t.inputId,M=c.useRef({labelId:r||i+"-label",menuId:o||i+"-menu",getItemId:u||function(I){return i+"-item-"+I},toggleButtonId:a||i+"-toggle-button",inputId:m||i+"-input"});return M.current};function Yt(e,t,n,i){var r,o;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],o=t}else o=t===void 0?n.indexOf(e):t,r=e;return[r,o]}function _t(e){return e?String(e):""}function Ke(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ct(e){var t=c.useRef(e);return t.current=e,t}function Jt(e,t,n){var i=c.useRef(),r=c.useRef(),o=c.useCallback(function(y,S){r.current=S,y=Te(y,S.props);var w=e(y,S),k=S.props.stateReducer(y,b({},S,{changes:w}));return k},[e]),u=c.useReducer(o,t),a=u[0],m=u[1],M=ct(n),I=c.useCallback(function(y){return m(b({props:M.current},y))},[M]),d=r.current;return c.useEffect(function(){d&&i.current&&i.current!==a&&Nt(d,Te(i.current,d.props),a),i.current=a},[a,n,d]),[a,I]}var pe={itemToString:_t,stateReducer:jt,getA11ySelectionMessage:Ut,scrollIntoView:Ht,environment:typeof window>"u"?void 0:window};function B(e,t,n){n===void 0&&(n=dt);var i=e["default"+Ke(t)];return i!==void 0?i:n[t]}function he(e,t,n){n===void 0&&(n=dt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Ke(t)];return r!==void 0?r:B(e,t,n)}function Qt(e){var t=he(e,"selectedItem"),n=he(e,"isOpen"),i=he(e,"highlightedIndex"),r=he(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.indexOf(t):i,isOpen:n,selectedItem:t,inputValue:r}}function me(e,t,n){var i=e.items,r=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=t.selectedItem,a=t.highlightedIndex;return i.length===0?-1:r!==void 0&&a===r?r:o!==void 0?o:u?i.indexOf(u):n===0?-1:n<0?i.length-1:0}function Zt(e,t,n,i){var r=c.useRef({isMouseDown:!1,isTouchMove:!1});return c.useEffect(function(){if(n){var o=function(){r.current.isMouseDown=!0},u=function(d){r.current.isMouseDown=!1,e&&!et(d.target,t.map(function(y){return y.current}),n)&&i()},a=function(){r.current.isTouchMove=!1},m=function(){r.current.isTouchMove=!0},M=function(d){e&&!r.current.isTouchMove&&!et(d.target,t.map(function(y){return y.current}),n,!1)&&i()};return n.addEventListener("mousedown",o),n.addEventListener("mouseup",u),n.addEventListener("touchstart",a),n.addEventListener("touchmove",m),n.addEventListener("touchend",M),function(){n.removeEventListener("mousedown",o),n.removeEventListener("mouseup",u),n.removeEventListener("touchstart",a),n.removeEventListener("touchmove",m),n.removeEventListener("touchend",M)}}},[e,n]),r}var en=function(){return He};function tt(e,t,n){var i=n.isInitialMount,r=n.highlightedIndex,o=n.items,u=n.environment,a=ge(n,$t);c.useEffect(function(){i||!(u!=null&&u.document)||Gt(function(){return e(b({highlightedIndex:r,highlightedItem:o[r],resultCount:o.length},a))},u.document)},t)}function tn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,o=e.menuElement,u=e.scrollIntoView,a=c.useRef(!0);return zt(function(){t<0||!n||!Object.keys(i.current).length||(a.current===!1?a.current=!0:u(r(t),o))},[t]),a}var nn=He;function nt(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return b({isOpen:!1,highlightedIndex:-1},r&&b({selectedItem:e.items[t],isOpen:B(e,"isOpen"),highlightedIndex:B(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}var ft={environment:l.shape({addEventListener:l.func.isRequired,removeEventListener:l.func.isRequired,document:l.shape({createElement:l.func.isRequired,getElementById:l.func.isRequired,activeElement:l.any.isRequired,body:l.any.isRequired}).isRequired,Node:l.func.isRequired}),itemToString:l.func,stateReducer:l.func},gt=b({},ft,{getA11yStatusMessage:l.func,highlightedIndex:l.number,defaultHighlightedIndex:l.number,initialHighlightedIndex:l.number,isOpen:l.bool,defaultIsOpen:l.bool,initialIsOpen:l.bool,selectedItem:l.any,initialSelectedItem:l.any,defaultSelectedItem:l.any,id:l.string,labelId:l.string,menuId:l.string,getItemId:l.func,toggleButtonId:l.string,onSelectedItemChange:l.func,onHighlightedIndexChange:l.func,onStateChange:l.func,onIsOpenChange:l.func,scrollIntoView:l.func});function rn(e,t,n){var i=t.type,r=t.props,o;switch(i){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:me(r,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:me(r,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:B(r,"highlightedIndex"),isOpen:B(r,"isOpen"),selectedItem:B(r,"selectedItem"),inputValue:B(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return b({},e,o)}Se(Se({},gt),{items:l.array.isRequired,isItemDisabled:l.func,getA11ySelectionMessage:l.func});function un(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}Se(Se({},pe),{getA11yStatusMessage:un,isItemDisabled:function(){return!1}});var Be=0,Le=1,Fe=2,qe=3,$e=4,Ne=5,We=6,je=7,Ue=8,Re=9,Ge=10,ht=11,pt=12,ze=13,mt=14,vt=15,It=16,bt=17,yt=18,Xe=19,xt=20,wt=21,Ye=22,Ct=Object.freeze({__proto__:null,InputKeyDownArrowDown:Be,InputKeyDownArrowUp:Le,InputKeyDownEscape:Fe,InputKeyDownHome:qe,InputKeyDownEnd:$e,InputKeyDownPageUp:Ne,InputKeyDownPageDown:We,InputKeyDownEnter:je,InputChange:Ue,InputBlur:Re,InputClick:Ge,MenuMouseLeave:ht,ItemMouseMove:pt,ItemClick:ze,ToggleButtonClick:mt,FunctionToggleMenu:vt,FunctionOpenMenu:It,FunctionCloseMenu:bt,FunctionSetHighlightedIndex:yt,FunctionSelectItem:Xe,FunctionSetInputValue:xt,FunctionReset:wt,ControlledPropUpdatedSelectedItem:Ye});function on(e){var t=Qt(e),n=t.selectedItem,i=t.inputValue;return i===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(n)),b({},t,{inputValue:i})}b({},gt,{items:l.array.isRequired,isItemDisabled:l.func,selectedItemChanged:l.func,getA11ySelectionMessage:l.func,inputValue:l.string,defaultInputValue:l.string,initialInputValue:l.string,inputId:l.string,onInputValueChange:l.func});function an(e,t,n){var i=c.useRef(),r=Jt(e,t,n),o=r[0],u=r[1];return c.useEffect(function(){lt(n,"selectedItem")&&(n.selectedItemChanged(i.current,n.selectedItem)&&u({type:Ye,inputValue:n.itemToString(n.selectedItem)}),i.current=o.selectedItem===i.current?n.selectedItem:o.selectedItem)},[o.selectedItem,n.selectedItem]),[Te(o,n),u]}var ln=He,sn=b({},pe,{selectedItemChanged:function(t,n){return t!==n},getA11yStatusMessage:Bt,isItemDisabled:function(){return!1}});function dn(e,t){var n,i=t.type,r=t.props,o=t.altKey,u;switch(i){case ze:u={isOpen:B(r,"isOpen"),highlightedIndex:B(r,"highlightedIndex"),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case Be:e.isOpen?u={highlightedIndex:we(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:o&&e.selectedItem==null?-1:me(r,e,1),isOpen:r.items.length>=0};break;case Le:e.isOpen?o?u=nt(r,e.highlightedIndex):u={highlightedIndex:we(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:me(r,e,-1),isOpen:r.items.length>=0};break;case je:u=nt(r,e.highlightedIndex);break;case Fe:u=b({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Ne:u={highlightedIndex:we(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case We:u={highlightedIndex:we(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case qe:u={highlightedIndex:De(0,!1,r.items,r.isItemDisabled)};break;case $e:u={highlightedIndex:De(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case Re:u=b({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case Ue:u={isOpen:!0,highlightedIndex:B(r,"highlightedIndex"),inputValue:t.inputValue};break;case Ge:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:me(r,e,0)};break;case Xe:u={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case Ye:u={inputValue:t.inputValue};break;default:return rn(e,t,Ct)}return b({},e,u)}var cn=["onMouseLeave","refKey","ref"],fn=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],gn=["onClick","onPress","refKey","ref"],hn=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Me.stateChangeTypes=Ct;function Me(e){e===void 0&&(e={}),ln();var t=b({},sn,e),n=t.items,i=t.scrollIntoView,r=t.environment,o=t.getA11yStatusMessage,u=t.getA11ySelectionMessage,a=t.itemToString,m=on(t),M=an(dn,m,t),I=M[0],d=M[1],y=I.isOpen,S=I.highlightedIndex,w=I.selectedItem,k=I.inputValue,A=c.useRef(null),V=c.useRef({}),p=c.useRef(null),R=c.useRef(null),D=c.useRef(!0),v=Xt(t),L=c.useRef(),C=ct({state:I,props:t}),J=c.useCallback(function(f){return V.current[v.getItemId(f)]},[v]);tt(o,[y,S,k,n],b({isInitialMount:D.current,previousResultCount:L.current,items:n,environment:r,itemToString:a},I)),tt(u,[w],b({isInitialMount:D.current,previousResultCount:L.current,items:n,environment:r,itemToString:a},I));var O=tn({menuElement:A.current,highlightedIndex:S,isOpen:y,itemRefs:V,scrollIntoView:i,getItemNodeFromIndex:J});nn({isInitialMount:D.current,props:t,state:I}),c.useEffect(function(){var f=he(t,"isOpen");f&&p.current&&p.current.focus()},[]),c.useEffect(function(){D.current||(L.current=n.length)});var E=Zt(y,[p,A,R],r,function(){d({type:Re,selectItem:!1})}),Q=en();c.useEffect(function(){return D.current=!1,function(){D.current=!0}},[]),c.useEffect(function(){y||(V.current={})},[y]),c.useEffect(function(){var f;!y||!(r!=null&&r.document)||!(p!=null&&(f=p.current)!=null&&f.focus)||r.document.activeElement!==p.current&&p.current.focus()},[y,r]);var F=c.useMemo(function(){return{ArrowDown:function(s){s.preventDefault(),d({type:Be,altKey:s.altKey})},ArrowUp:function(s){s.preventDefault(),d({type:Le,altKey:s.altKey})},Home:function(s){C.current.state.isOpen&&(s.preventDefault(),d({type:qe}))},End:function(s){C.current.state.isOpen&&(s.preventDefault(),d({type:$e}))},Escape:function(s){var g=C.current.state;(g.isOpen||g.inputValue||g.selectedItem||g.highlightedIndex>-1)&&(s.preventDefault(),d({type:Fe}))},Enter:function(s){var g=C.current.state;!g.isOpen||s.which===229||(s.preventDefault(),d({type:je}))},PageUp:function(s){C.current.state.isOpen&&(s.preventDefault(),d({type:Ne}))},PageDown:function(s){C.current.state.isOpen&&(s.preventDefault(),d({type:We}))}}},[d,C]),x=c.useCallback(function(f){return b({id:v.labelId,htmlFor:v.inputId},f)},[v]),Z=c.useCallback(function(f,s){var g,h=f===void 0?{}:f,T=h.onMouseLeave,P=h.refKey,H=P===void 0?"ref":P,K=h.ref,q=ge(h,cn),j=s===void 0?{}:s;return j.suppressRefError,b((g={},g[H]=xe(K,function(U){A.current=U}),g.id=v.menuId,g.role="listbox",g["aria-labelledby"]=q&&q["aria-label"]?void 0:""+v.labelId,g.onMouseLeave=W(T,function(){d({type:ht})}),g),q)},[d,Q,v]),ee=c.useCallback(function(f){var s,g,h=f===void 0?{}:f,T=h.item,P=h.index,H=h.refKey,K=H===void 0?"ref":H,q=h.ref,j=h.onMouseMove,U=h.onMouseDown,Oe=h.onClick;h.onPress;var le=h.disabled,Ee=ge(h,fn);le!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var $=C.current,ve=$.props,Ie=$.state,be=Yt(T,P,ve.items,"Pass either item or index to getItemProps!"),ke=be[0],N=be[1],se=ve.isItemDisabled(ke,N),G="onClick",Y=Oe,z=function(){N!==Ie.highlightedIndex&&(O.current=!1,d({type:pt,index:N,disabled:se}))},_=function(){d({type:ze,index:N})},St=function(Dt){return Dt.preventDefault()};return b((s={},s[K]=xe(q,function(fe){fe&&(V.current[v.getItemId(N)]=fe)}),s["aria-disabled"]=se,s["aria-selected"]=""+(N===Ie.highlightedIndex),s.id=v.getItemId(N),s.role="option",s),!se&&(g={},g[G]=W(Y,_),g),{onMouseMove:W(j,z),onMouseDown:W(U,St)},Ee)},[d,C,O,v]),te=c.useCallback(function(f){var s,g=f===void 0?{}:f,h=g.onClick;g.onPress;var T=g.refKey,P=T===void 0?"ref":T,H=g.ref,K=ge(g,gn),q=C.current.state,j=function(){d({type:mt})};return b((s={},s[P]=xe(H,function(U){R.current=U}),s["aria-controls"]=v.menuId,s["aria-expanded"]=q.isOpen,s.id=v.toggleButtonId,s.tabIndex=-1,s),!K.disabled&&b({},{onClick:W(h,j)}),K)},[d,C,v]),de=c.useCallback(function(f,s){var g,h=f===void 0?{}:f,T=h.onKeyDown,P=h.onChange,H=h.onInput,K=h.onBlur;h.onChangeText;var q=h.onClick,j=h.refKey,U=j===void 0?"ref":j,Oe=h.ref,le=ge(h,hn),Ee=s===void 0?{}:s;Ee.suppressRefError;var $=C.current.state,ve=function(z){var _=Lt(z);_&&F[_]&&F[_](z)},Ie=function(z){d({type:Ue,inputValue:z.target.value})},be=function(z){if(r!=null&&r.document&&$.isOpen&&!E.current.isMouseDown){var _=z.relatedTarget===null&&r.document.activeElement!==r.document.body;d({type:Re,selectItem:!_})}},ke=function(){d({type:Ge})},N="onChange",se={};if(!le.disabled){var G;se=(G={},G[N]=W(P,H,Ie),G.onKeyDown=W(T,ve),G.onBlur=W(K,be),G.onClick=W(q,ke),G)}return b((g={},g[U]=xe(Oe,function(Y){p.current=Y}),g["aria-activedescendant"]=$.isOpen&&$.highlightedIndex>-1?v.getItemId($.highlightedIndex):"",g["aria-autocomplete"]="list",g["aria-controls"]=v.menuId,g["aria-expanded"]=$.isOpen,g["aria-labelledby"]=le&&le["aria-label"]?void 0:v.labelId,g.autoComplete="off",g.id=v.inputId,g.role="combobox",g.value=$.inputValue,g),se,le)},[Q,C,v,F,d,E,r]),ce=c.useCallback(function(){d({type:vt})},[d]),ne=c.useCallback(function(){d({type:bt})},[d]),re=c.useCallback(function(){d({type:It})},[d]),ie=c.useCallback(function(f){d({type:yt,highlightedIndex:f})},[d]),ue=c.useCallback(function(f){d({type:Xe,selectedItem:f})},[d]),oe=c.useCallback(function(f){d({type:xt,inputValue:f})},[d]),ae=c.useCallback(function(){d({type:wt})},[d]);return{getItemProps:ee,getLabelProps:x,getMenuProps:Z,getInputProps:de,getToggleButtonProps:te,toggleMenu:ce,openMenu:re,closeMenu:ne,setHighlightedIndex:ie,setInputValue:oe,selectItem:ue,reset:ae,highlightedIndex:S,isOpen:y,selectedItem:w,inputValue:k}}function pn(e){var t=e.removedSelectedItem,n=e.itemToString;return n(t)+" has been removed."}b({},ft,{selectedItems:l.array,initialSelectedItems:l.array,defaultSelectedItems:l.array,getA11yRemovalMessage:l.func,activeIndex:l.number,initialActiveIndex:l.number,defaultActiveIndex:l.number,onActiveIndexChange:l.func,onSelectedItemsChange:l.func,keyNavigationNext:l.string,keyNavigationPrevious:l.string});pe.itemToString,pe.stateReducer,pe.environment;const mn="_container_m7qu4_2",Ae={container:mn,"search-list":"_search-list_m7qu4_9","search-input":"_search-input_m7qu4_20"},vn=(e,t)=>{const n=new RegExp(t,"i");return e.filter(i=>i.label.match(n))},In=(e,t)=>e.sort((n,i)=>t.has(i.value)&&!t.has(n.value)?1:!t.has(i.value)&&t.has(n.value)?-1:n.label.localeCompare(i.label)),rt=(e,t)=>{if(Array.isArray(t)){const n=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(r=>n.has(r)))}return e.includes(t)},Pe=({options:e,placeholder:t,name:n,label:i,isOpen:r,sortOptions:o})=>{const[u,a]=c.useState(""),[m]=Rt(n),{setFieldValue:M}=Ot(),[I,d]=c.useState([]),{getLabelProps:y,getMenuProps:S,getInputProps:w,getItemProps:k,setInputValue:A}=Me({items:I,defaultHighlightedIndex:0,selectedItem:null,stateReducer(p,R){const{changes:D,type:v}=R;switch(v){case Me.stateChangeTypes.InputKeyDownEnter:case Me.stateChangeTypes.ItemClick:return{...D,isOpen:!0};default:return D}},onInputValueChange:({inputValue:p})=>{a(p||"")},itemToString:()=>u}),V=p=>{rt(m.value,p.value)?M(n,m.value.filter(R=>R!==p.value)):M(n,[...m.value,p.value])};return c.useEffect(()=>{a(""),A(""),d((o??In)(e,new Set(m.value)))},[r]),X.jsxs("div",{className:Ae.container,children:[X.jsx("label",{htmlFor:"search",className:"visually-hidden",...y(),children:i}),X.jsx(Vt,{type:"search",name:"search",className:Ae["search-input"],placeholder:t,value:u,...w()}),X.jsx("ul",{className:Ae["search-list"],...S({"aria-activedescendant":w()["aria-activedescendant"]}),children:vn(I,u).map((p,R)=>{const{ref:D,...v}=k({item:p,index:R}),L=Array.isArray(p.value)?p.value.join("_"):p.value,C=rt(m.value,p.value);return X.jsx("li",{children:X.jsx(kt,{label:p.label,name:n,checked:C,onChange:()=>V(p),...v,"aria-selected":C},`${n}-${p.label}`)},`${L}`)})})]})},Mt=Pe;try{Pe.displayName="AdageMultiselect",Pe.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: Set<string | number | string[]>) => ItemProps[])"}}}}}catch{}const ar={title:"ui-kit/forms/AdageMultiselect",component:Mt},bn=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Patrimoine, mémoire, archéologie"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"}],yn=()=>X.jsx(Et,{initialValues:{educationalDomains:[]},onSubmit:()=>{},children:X.jsx(Mt,{options:bn,placeholder:"Ex: Théâtre",name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0})}),Ce=yn.bind({});var it,ut,ot;Ce.parameters={...Ce.parameters,docs:{...(it=Ce.parameters)==null?void 0:it.docs,source:{originalSource:`() => <Formik initialValues={{
  educationalDomains: []
}} onSubmit={() => {}}>
    <AdageMultiselect options={options} placeholder="Ex: Théâtre" name="educationalDomains" label="Rechercher un domaine artistique" isOpen={true} />
  </Formik>`,...(ot=(ut=Ce.parameters)==null?void 0:ut.docs)==null?void 0:ot.source}}};const lr=["Default"];export{Ce as Default,lr as __namedExportsOrder,ar as default};
//# sourceMappingURL=AdageMultiselect.stories-54e9d4a4.js.map
