import{j as r}from"./jsx-runtime-DzCdG9eJ.js";import{a as j,u as q,F as N}from"./index.esm-KMQKXT2Z.js";import{c as _}from"./index-zDjgWX96.js";import{r as p}from"./iframe-CvuDczWd.js";import{F as V}from"./FieldError-DIFsPcOc.js";import"./preload-helper-PPVm8Dsz.js";import"./stroke-error-DSZD431a.js";import"./SvgIcon-Cu4yCJfX.js";const S=/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,F=e=>!!(e&&S.test(e)),E="_timepicker_g8v6f_1",x={timepicker:E,"has-error":"_has-error_g8v6f_47"},P=e=>{if(!e||!Object.keys(e).length)return[];const{interval:t=15,min:m="00:00",max:a="23:59"}=e,[i,d]=m.split(":").map(Number),[n,u]=a.split(":").map(Number),s=[];for(let l=i;l<=n;l++)for(let o=0;o<60;o+=t)if(!(l===i&&o<d)){if(l===n&&o>u)break;s.push(`${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`)}return s},y=p.forwardRef(({className:e,suggestedTimeList:t={interval:15},hasError:m,...a},i)=>{const d=p.useId(),n=P(t),u=n.length>0;return a.value?.length===4&&(a.value=`0${a.value}`),r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"time",...u?{list:d}:{},autoComplete:"off",...a,value:i||F(a.value)?a.value:"",className:_(e,x.timepicker,{[x["has-error"]]:m}),ref:i}),u&&r.jsx("datalist",{id:d,"data-testid":"timepicker-datalist",children:n.map(s=>r.jsx("option",{value:s,children:s},s))})]})});y.displayName="BaseTimePicker";try{y.displayName="BaseTimePicker",y.__docgenInfo={description:"",displayName:"BaseTimePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:{value:"{ interval: 15 }"},description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}}}}}catch{}const I="_label_o11t0_1",C="_error_o11t0_6",c={label:I,error:C,"visually-hidden":"_visually-hidden_o11t0_10"},f=p.forwardRef(({name:e,className:t,disabled:m,label:a,required:i,asterisk:d=!0,error:n,value:u,onChange:s,onBlur:l,suggestedTimeList:o,isLabelHidden:k=!1},T)=>{const v=p.useId(),b=p.useId();return r.jsxs("div",{className:_(c["time-picker"],t),children:[r.jsxs("div",{className:c["time-picker-field"],children:[r.jsxs("label",{htmlFor:v,className:_(c.label,{[c["visually-hidden"]]:k}),children:[a,i&&d?" *":""]}),r.jsx(y,{hasError:!!n,disabled:m,"aria-required":i,value:u,ref:T,onChange:s,onBlur:l,name:e,id:v,"aria-describedby":b,suggestedTimeList:o})]}),r.jsx("div",{role:"alert",id:b,children:n&&r.jsx(V,{name:e,className:c.error,children:n})})]})});f.displayName="TimePicker";try{f.displayName="TimePicker",f.__docgenInfo={description:"",displayName:"TimePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},asterisk:{defaultValue:{value:"true"},description:"Whether or not to display the asterisk in the label when the field is required",name:"asterisk",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Name of the input. Used for identifying it in an uncontrolled form, and for referencing the error",name:"name",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:null,description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}}}}}catch{}const L=({children:e})=>{const t=q({defaultValues:{group:"option1"}});return r.jsx(N,{...t,children:r.jsx("form",{children:e})})},D={title:"@/ui-kit/forms/TimePicker",component:f},g={args:{label:"Select an option",value:"22:11",onChange:()=>{}}},h={args:{label:"Select a time"},decorators:[e=>r.jsx(L,{children:r.jsx(e,{})})],render:e=>{const{register:t}=j();return r.jsx(f,{...e,...t("time")})}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select an option',
    value: '22:11',
    onChange: () => {
      //    Control changes
    }
  }
}`,...g.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select a time'
  },
  decorators: [Story => <Wrapper>
        <Story />
      </Wrapper>],
  render: (args: any) => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    const {
      register
    } = useFormContext<{
      time: string;
    }>();
    return <TimePicker {...args} {...register('time')} />;
  }
}`,...h.parameters?.docs?.source}}};const U=["Default","WithinForm"];export{g as Default,h as WithinForm,U as __namedExportsOrder,D as default};
