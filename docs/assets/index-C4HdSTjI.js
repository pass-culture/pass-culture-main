import{r as s,a as R}from"./index-ClcD9ViR.js";import{j as v}from"./jsx-runtime-BYYWji4R.js";import{r as A}from"./index-J01lmiDr.js";function z(e,t,{checkForDefaultPrevented:o=!0}={}){return function(r){if(e==null||e(r),o===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function x(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function P(...e){return t=>{let o=!1;const n=e.map(r=>{const i=x(r,t);return!o&&typeof i=="function"&&(o=!0),i});if(o)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():x(e[r],null)}}}}function w(...e){return s.useCallback(P(...e),e)}function G(e,t){const o=s.createContext(t),n=i=>{const{children:u,...c}=i,l=s.useMemo(()=>c,Object.values(c));return v.jsx(o.Provider,{value:l,children:u})};n.displayName=e+"Provider";function r(i){const u=s.useContext(o);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,r]}function J(e,t=[]){let o=[];function n(i,u){const c=s.createContext(u),l=o.length;o=[...o,u];const a=f=>{var g;const{scope:d,children:p,...N}=f,h=((g=d==null?void 0:d[e])==null?void 0:g[l])||c,C=s.useMemo(()=>N,Object.values(N));return v.jsx(h.Provider,{value:C,children:p})};a.displayName=i+"Provider";function m(f,d){var h;const p=((h=d==null?void 0:d[e])==null?void 0:h[l])||c,N=s.useContext(p);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[a,m]}const r=()=>{const i=o.map(u=>s.createContext(u));return function(c){const l=(c==null?void 0:c[e])||i;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return r.scopeName=e,[n,O(r,...t)]}function O(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const u=n.reduce((c,{useScope:l,scopeName:a})=>{const f=l(i)[`__scope${a}`];return{...c,...f}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return o.scopeName=t.scopeName,o}var y=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},M=R[" useId ".trim().toString()]||(()=>{}),b=0;function K(e){const[t,o]=s.useState(M());return y(()=>{o(n=>n??String(b++))},[e]),e||(t?`radix-${t}`:"")}function E(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...o)=>{var n;return(n=t.current)==null?void 0:n.call(t,...o)},[])}function Q({prop:e,defaultProp:t,onChange:o=()=>{}}){const[n,r]=I({defaultProp:t,onChange:o}),i=e!==void 0,u=i?e:n,c=E(o),l=s.useCallback(a=>{if(i){const f=typeof a=="function"?a(e):a;f!==e&&c(f)}else r(a)},[i,e,r,c]);return[u,l]}function I({defaultProp:e,onChange:t}){const o=s.useState(e),[n]=o,r=s.useRef(n),i=E(t);return s.useEffect(()=>{r.current!==n&&(i(n),r.current=n)},[n,r,i]),o}function T(e){const t=_(e),o=s.forwardRef((n,r)=>{const{children:i,...u}=n,c=s.Children.toArray(i),l=c.find(U);if(l){const a=l.props.children,m=c.map(f=>f===l?s.Children.count(a)>1?s.Children.only(null):s.isValidElement(a)?a.props.children:null:f);return v.jsx(t,{...u,ref:r,children:s.isValidElement(a)?s.cloneElement(a,void 0,m):null})}return v.jsx(t,{...u,ref:r,children:i})});return o.displayName=`${e}.Slot`,o}function _(e){const t=s.forwardRef((o,n)=>{const{children:r,...i}=o;if(s.isValidElement(r)){const u=D(r),c=$(i,r.props);return r.type!==s.Fragment&&(c.ref=n?P(n,u):u),s.cloneElement(r,c)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j=Symbol("radix.slottable");function U(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j}function $(e,t){const o={...t};for(const n in t){const r=e[n],i=t[n];/^on[A-Z]/.test(n)?r&&i?o[n]=(...c)=>{i(...c),r(...c)}:r&&(o[n]=r):n==="style"?o[n]={...r,...i}:n==="className"&&(o[n]=[r,i].filter(Boolean).join(" "))}return{...e,...o}}function D(e){var n,r;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],X=W.reduce((e,t)=>{const o=T(`Primitive.${t}`),n=s.forwardRef((r,i)=>{const{asChild:u,...c}=r,l=u?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y(e,t){e&&A.flushSync(()=>e.dispatchEvent(t))}function L(e,t){return s.useReducer((o,n)=>t[o][n]??o,e)}var F=e=>{const{present:t,children:o}=e,n=V(t),r=typeof o=="function"?o({present:n.isPresent}):s.Children.only(o),i=w(n.ref,k(r));return typeof o=="function"||n.isPresent?s.cloneElement(r,{ref:i}):null};F.displayName="Presence";function V(e){const[t,o]=s.useState(),n=s.useRef({}),r=s.useRef(e),i=s.useRef("none"),u=e?"mounted":"unmounted",[c,l]=L(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const a=S(n.current);i.current=c==="mounted"?a:"none"},[c]),y(()=>{const a=n.current,m=r.current;if(m!==e){const d=i.current,p=S(a);e?l("MOUNT"):p==="none"||(a==null?void 0:a.display)==="none"?l("UNMOUNT"):l(m&&d!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),y(()=>{if(t){let a;const m=t.ownerDocument.defaultView??window,f=p=>{const h=S(n.current).includes(p.animationName);if(p.target===t&&h&&(l("ANIMATION_END"),!r.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",a=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},d=p=>{p.target===t&&(i.current=S(n.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(a),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:s.useCallback(a=>{a&&(n.current=getComputedStyle(a)),o(a)},[])}}function S(e){return(e==null?void 0:e.animationName)||"none"}function k(e){var n,r;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}export{X as P,T as a,K as b,J as c,z as d,Q as e,E as f,F as g,Y as h,y as i,G as j,w as u};
