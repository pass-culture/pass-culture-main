import{j as le}from"./jsx-runtime-DF2Pcvd1.js";import{P as s}from"./index-BH3dreXg.js";import{r as c,R as Re}from"./index-B2-qRKKC.js";import{a as ke}from"./tslib.es6-BUas5LQb.js";import{C as qt}from"./Checkbox-DkZJSOtP.js";import{s as Ft}from"./stroke-search-dgesjRZH.js";import{B as jt}from"./BaseInput-JKfrEs2s.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Chjiymov.js";import"./index-DeARc5FM.js";import"./Tag-BDZYioa0.js";import"./full-thumb-up-Bb4kpRpM.js";import"./SvgIcon-DfLnDDE5.js";function xe(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},C.apply(null,arguments)}var v={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=Symbol.for("react.element"),Xe=Symbol.for("react.portal"),Ke=Symbol.for("react.fragment"),He=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),$e=Symbol.for("react.context"),Wt=Symbol.for("react.server_context"),Le=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),bt;bt=Symbol.for("react.module.reference");function A(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ge:switch(e=e.type,e){case Ke:case Ae:case He:case Be:case qe:return e;default:switch(e=e&&e.$$typeof,e){case Wt:case $e:case Le:case je:case Fe:case Pe:return e;default:return t}}case Xe:return t}}}v.ContextConsumer=$e;v.ContextProvider=Pe;v.Element=Ge;v.ForwardRef=Le;v.Fragment=Ke;v.Lazy=je;v.Memo=Fe;v.Portal=Xe;v.Profiler=Ae;v.StrictMode=He;v.Suspense=Be;v.SuspenseList=qe;v.isAsyncMode=function(){return!1};v.isConcurrentMode=function(){return!1};v.isContextConsumer=function(e){return A(e)===$e};v.isContextProvider=function(e){return A(e)===Pe};v.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ge};v.isForwardRef=function(e){return A(e)===Le};v.isFragment=function(e){return A(e)===Ke};v.isLazy=function(e){return A(e)===je};v.isMemo=function(e){return A(e)===Fe};v.isPortal=function(e){return A(e)===Xe};v.isProfiler=function(e){return A(e)===Ae};v.isStrictMode=function(e){return A(e)===He};v.isSuspense=function(e){return A(e)===Be};v.isSuspenseList=function(e){return A(e)===qe};v.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ke||e===Ae||e===He||e===Be||e===qe||e===_t||typeof e=="object"&&e!==null&&(e.$$typeof===je||e.$$typeof===Fe||e.$$typeof===Pe||e.$$typeof===$e||e.$$typeof===Le||e.$$typeof===bt||e.getModuleId!==void 0)};v.typeOf=A;const dt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ft=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",we=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return ft(r.overflowY,t)||ft(r.overflowX,t)||(i=>{const n=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!n&&(n.clientHeight<i.scrollHeight||n.clientWidth<i.scrollWidth)})(e)}return!1},Ce=(e,t,r,i,n,o,u,a)=>o<e&&u>t||o>e&&u<t?0:o<=e&&a<=r||u>=t&&a>=r?o-e-i:u>t&&a<r||o<e&&a>r?u-t+n:0,Nt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ut=(e,t)=>{var r,i,n,o;if(typeof document>"u")return[];const{inline:u,boundary:a,skipOverflowHiddenElements:l}=t,x=typeof a=="function"?a:W=>W!==a;if(!dt(e))throw new TypeError("Invalid target");const y=document.scrollingElement||document.documentElement,P=[];let w=e;for(;dt(w)&&x(w);){if(w=Nt(w),w===y){P.push(w);break}w!=null&&w===document.body&&we(w)&&!we(document.documentElement)||w!=null&&we(w,l)&&P.push(w)}const m=(i=(r=window.visualViewport)==null?void 0:r.width)!=null?i:innerWidth,M=(o=(n=window.visualViewport)==null?void 0:n.height)!=null?o:innerHeight,{scrollX:D,scrollY:V}=window,{height:F,width:I,top:Y,right:O,bottom:ee,left:b}=e.getBoundingClientRect(),{top:E,right:$,left:L}=(W=>{const p=window.getComputedStyle(W);return{top:parseFloat(p.scrollMarginTop)||0,right:parseFloat(p.scrollMarginRight)||0,bottom:parseFloat(p.scrollMarginBottom)||0,left:parseFloat(p.scrollMarginLeft)||0}})(e);let j=Y-E,k=u==="center"?b+I/2-L+$:u==="end"?O+$:b-L;const ae=[];for(let W=0;W<P.length;W++){const p=P[W],{height:se,width:te,top:pe,right:ce,bottom:ve,left:ne}=p.getBoundingClientRect();if(Y>=0&&b>=0&&ee<=M&&O<=m&&(p===y&&!we(p)||Y>=pe&&ee<=ve&&b>=ne&&O<=ce))return ae;const re=getComputedStyle(p),h=parseInt(re.borderLeftWidth,10),d=parseInt(re.borderTopWidth,10),f=parseInt(re.borderRightWidth,10),g=parseInt(re.borderBottomWidth,10);let S=0,R=0;const T="offsetWidth"in p?p.offsetWidth-p.clientWidth-h-f:0,B="offsetHeight"in p?p.offsetHeight-p.clientHeight-d-g:0,K="offsetWidth"in p?p.offsetWidth===0?0:te/p.offsetWidth:0,H="offsetHeight"in p?p.offsetHeight===0?0:se/p.offsetHeight:0;if(y===p)S=Ce(V,V+M,M,d,g,V+j,V+j+F,F),R=u==="start"?k:u==="center"?k-m/2:u==="end"?k-m:Ce(D,D+m,m,h,f,D+k,D+k+I,I),S=Math.max(0,S+V),R=Math.max(0,R+D);else{S=Ce(pe,ve,se,d,g+B,j,j+F,F),R=u==="start"?k-ne-h:u==="center"?k-(ne+te/2)+T/2:u==="end"?k-ce+f+T:Ce(ne,ce,te,h,f+T,k,k+I,I);const{scrollLeft:q,scrollTop:ie}=p;S=H===0?0:Math.max(0,Math.min(ie+S/H,p.scrollHeight-se/H+B)),R=K===0?0:Math.max(0,Math.min(q+R/K,p.scrollWidth-te/K+T)),j+=ie-S,k+=q-R}ae.push({el:p,top:S,left:R})}return ae};var zt=0;function xt(){}function Gt(e,t){if(e){var r=Ut(e,{boundary:t});r.forEach(function(i){var n=i.el,o=i.top,u=i.left;n.scrollTop=o,n.scrollLeft=u})}}function ht(e,t,r){var i=e===t||t instanceof r.Node&&e.contains&&e.contains(t);return i}function wt(e,t){var r;function i(){r&&clearTimeout(r)}function n(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];i(),r=setTimeout(function(){r=null,e.apply(void 0,u)},t)}return n.cancel=i,n}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return t.some(function(a){return a&&a.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){t.forEach(function(n){typeof n=="function"?n(i):n&&(n.current=i)})}}function Xt(){return String(zt++)}function Ne(e,t){return!e||!t?e:Object.keys(e).reduce(function(r,i){return r[i]=Ct(t,i)?t[i]:e[i],r},{})}function Ct(e,t){return e[t]!==void 0}function Yt(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Me(e,t,r,i,n){var o=r.length;if(o===0)return-1;var u=o-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var a=e+t;a<0?a=u:a>u&&(a=0);var l=Ve(a,t<0,r,i,n);return l===-1?e>=o?-1:e:l}function Ve(e,t,r,i,n){n===void 0&&(n=!1);var o=r.length;if(t){for(var u=e;u>=0;u--)if(!i(r[u],u))return u}else for(var a=e;a<o;a++)if(!i(r[a],a))return a;return n?Ve(t?o-1:0,t,r,i):-1}function gt(e,t,r,i){return i===void 0&&(i=!0),r&&t.some(function(n){return n&&(ht(n,e,r)||i&&ht(n,r.document.activeElement,r))})}var Jt=wt(function(e){Ot(e).textContent=""},500);function Ot(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Qt(e,t){if(!(!e||!t)){var r=Ot(t);r.textContent=e,Jt(t)}}function Zt(e){var t=e==null?void 0:e.getElementById("a11y-status-message");t&&t.remove()}var Mt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function en(e,t,r){var i=e.props,n=e.type,o={};Object.keys(t).forEach(function(u){tn(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(C({type:n},o))}function tn(e,t,r,i){var n=t.props,o=t.type,u="on"+Ye(e)+"Change";n[u]&&i[e]!==void 0&&i[e]!==r[e]&&n[u](C({type:o},i))}function nn(e,t){return t.changes}var mt=wt(function(e,t){Qt(e,t)},200),rn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,un="useId"in Re?function(t){var r=t.id,i=t.labelId,n=t.menuId,o=t.getItemId,u=t.toggleButtonId,a=t.inputId,l="downshift-"+Re.useId();r||(r=l);var x=c.useRef({labelId:i||r+"-label",menuId:n||r+"-menu",getItemId:o||function(y){return r+"-item-"+y},toggleButtonId:u||r+"-toggle-button",inputId:a||r+"-input"});return x.current}:function(t){var r=t.id,i=r===void 0?"downshift-"+Xt():r,n=t.labelId,o=t.menuId,u=t.getItemId,a=t.toggleButtonId,l=t.inputId,x=c.useRef({labelId:n||i+"-label",menuId:o||i+"-menu",getItemId:u||function(y){return i+"-item-"+y},toggleButtonId:a||i+"-toggle-button",inputId:l||i+"-input"});return x.current};function on(e,t,r,i){var n,o;if(e===void 0){if(t===void 0)throw new Error(i);n=r[t],o=t}else o=t===void 0?r.indexOf(e):t,n=e;return[n,o]}function Ye(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Dt(e){var t=c.useRef(e);return t.current=e,t}function ln(e,t,r,i){var n=c.useRef(),o=c.useRef(),u=c.useCallback(function(m,M){o.current=M,m=Ne(m,M.props);var D=e(m,M),V=M.props.stateReducer(m,C({},M,{changes:D}));return V},[e]),a=c.useReducer(u,t,r),l=a[0],x=a[1],y=Dt(t),P=c.useCallback(function(m){return x(C({props:y.current},m))},[y]),w=o.current;return c.useEffect(function(){var m=Ne(n.current,w==null?void 0:w.props),M=w&&n.current&&!i(m,l);M&&en(w,m,l),n.current=l},[l,w,i]),[l,P]}var he={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:nn,scrollIntoView:Gt,environment:typeof window>"u"?void 0:window};function X(e,t,r){r===void 0&&(r=Mt);var i=e["default"+Ye(t)];return i!==void 0?i:r[t]}function ge(e,t,r){r===void 0&&(r=Mt);var i=e[t];if(i!==void 0)return i;var n=e["initial"+Ye(t)];return n!==void 0?n:X(e,t,r)}function an(e){var t=ge(e,"selectedItem"),r=ge(e,"isOpen"),i=gn(e),n=ge(e,"inputValue");return{highlightedIndex:i<0&&t&&r?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):i,isOpen:r,selectedItem:t,inputValue:n}}function me(e,t,r){var i=e.items,n=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=e.isItemDisabled,a=e.itemToKey,l=t.selectedItem,x=t.highlightedIndex;return i.length===0?-1:n!==void 0&&x===n&&!u(i[n],n)?n:o!==void 0&&!u(i[o],o)?o:l?i.findIndex(function(y){return a(l)===a(y)}):r<0&&!u(i[i.length-1],i.length-1)?i.length-1:r>0&&!u(i[0],0)?0:-1}function sn(e,t,r){var i=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return xt;var n=r.map(function(y){return y.current});function o(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function u(y){i.current.isMouseDown=!1,gt(y.target,n,e)||t()}function a(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function l(){i.current.isTouchMove=!0}function x(y){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!gt(y.target,n,e,!1)&&t()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",u),e.addEventListener("touchstart",a),e.addEventListener("touchmove",l),e.addEventListener("touchend",x),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",x)}},[r,e,t]),i.current}var cn=function(){return xt};function dn(e,t,r,i){i===void 0&&(i={});var n=i.document,o=Je();c.useEffect(function(){if(!(!e||o||!n)){var u=e(t);mt(u,n)}},r),c.useEffect(function(){return function(){mt.cancel(),Zt(n)}},[n])}function fn(e){var t=e.highlightedIndex,r=e.isOpen,i=e.itemRefs,n=e.getItemNodeFromIndex,o=e.menuElement,u=e.scrollIntoView,a=c.useRef(!0);return rn(function(){t<0||!r||!Object.keys(i.current).length||(a.current===!1?a.current=!0:u(n(t),o))},[t]),a}function pt(e,t,r){var i;r===void 0&&(r=!0);var n=((i=e.items)==null?void 0:i.length)&&t>=0;return C({isOpen:!1,highlightedIndex:-1},n&&C({selectedItem:e.items[t],isOpen:X(e,"isOpen"),highlightedIndex:X(e,"highlightedIndex")},r&&{inputValue:e.itemToString(e.items[t])}))}function hn(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Je(){var e=Re.useRef(!0);return Re.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Ue(e){var t=X(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function gn(e){var t=ge(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Ee={environment:s.shape({addEventListener:s.func.isRequired,removeEventListener:s.func.isRequired,document:s.shape({createElement:s.func.isRequired,getElementById:s.func.isRequired,activeElement:s.any.isRequired,body:s.any.isRequired}).isRequired,Node:s.func.isRequired}),itemToString:s.func,itemToKey:s.func,stateReducer:s.func},Et=C({},Ee,{getA11yStatusMessage:s.func,highlightedIndex:s.number,defaultHighlightedIndex:s.number,initialHighlightedIndex:s.number,isOpen:s.bool,defaultIsOpen:s.bool,initialIsOpen:s.bool,selectedItem:s.any,initialSelectedItem:s.any,defaultSelectedItem:s.any,id:s.string,labelId:s.string,menuId:s.string,getItemId:s.func,toggleButtonId:s.string,onSelectedItemChange:s.func,onHighlightedIndexChange:s.func,onStateChange:s.func,onIsOpenChange:s.func,scrollIntoView:s.func});function mn(e,t,r){var i=t.type,n=t.props,o;switch(i){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:me(n,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:me(n,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:n.isItemDisabled(n.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Ue(n),isOpen:X(n,"isOpen"),selectedItem:X(n,"selectedItem"),inputValue:X(n,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return C({},e,o)}ke(ke({},Et),{items:s.array.isRequired,isItemDisabled:s.func});ke(ke({},he),{isItemDisabled:function(){return!1}});var Qe=0,Ze=1,et=2,tt=3,nt=4,rt=5,it=6,ut=7,ot=8,Te=9,lt=10,St=11,Rt=12,at=13,kt=14,Vt=15,Tt=16,Kt=17,Ht=18,st=19,At=20,Pt=21,ct=22,$t=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:ct,FunctionCloseMenu:Kt,FunctionOpenMenu:Tt,FunctionReset:Pt,FunctionSelectItem:st,FunctionSetHighlightedIndex:Ht,FunctionSetInputValue:At,FunctionToggleMenu:Vt,InputBlur:Te,InputChange:ot,InputClick:lt,InputKeyDownArrowDown:Qe,InputKeyDownArrowUp:Ze,InputKeyDownEnd:nt,InputKeyDownEnter:ut,InputKeyDownEscape:et,InputKeyDownHome:tt,InputKeyDownPageDown:it,InputKeyDownPageUp:rt,ItemClick:at,ItemMouseMove:Rt,MenuMouseLeave:St,ToggleButtonClick:kt});function pn(e){var t=an(e),r=t.selectedItem,i=t.inputValue;return i===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(r)),C({},t,{inputValue:i})}C({},Et,{items:s.array.isRequired,isItemDisabled:s.func,inputValue:s.string,defaultInputValue:s.string,initialInputValue:s.string,inputId:s.string,onInputValueChange:s.func});function vn(e,t,r,i){var n=c.useRef(),o=ln(e,t,r,i),u=o[0],a=o[1],l=Je();return c.useEffect(function(){if(Ct(t,"selectedItem")){if(!l){var x=t.itemToKey(t.selectedItem)!==t.itemToKey(n.current);x&&a({type:ct,inputValue:t.itemToString(t.selectedItem)})}n.current=u.selectedItem===n.current?t.selectedItem:u.selectedItem}},[u.selectedItem,t.selectedItem]),[Ne(u,t),a]}var In=C({},he,{isItemDisabled:function(){return!1}});function yn(e,t){var r,i=t.type,n=t.props,o=t.altKey,u;switch(i){case at:u={isOpen:X(n,"isOpen"),highlightedIndex:Ue(n),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case Qe:e.isOpen?u={highlightedIndex:Me(e.highlightedIndex,1,n.items,n.isItemDisabled,!0)}:u={highlightedIndex:o&&e.selectedItem==null?-1:me(n,e,1),isOpen:n.items.length>=0};break;case Ze:e.isOpen?o?u=pt(n,e.highlightedIndex):u={highlightedIndex:Me(e.highlightedIndex,-1,n.items,n.isItemDisabled,!0)}:u={highlightedIndex:me(n,e,-1),isOpen:n.items.length>=0};break;case ut:u=pt(n,e.highlightedIndex);break;case et:u=C({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case rt:u={highlightedIndex:Me(e.highlightedIndex,-10,n.items,n.isItemDisabled,!0)};break;case it:u={highlightedIndex:Me(e.highlightedIndex,10,n.items,n.isItemDisabled,!0)};break;case tt:u={highlightedIndex:Ve(0,!1,n.items,n.isItemDisabled)};break;case nt:u={highlightedIndex:Ve(n.items.length-1,!0,n.items,n.isItemDisabled)};break;case Te:u=C({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((r=n.items)==null?void 0:r.length)&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case ot:u={isOpen:!0,highlightedIndex:Ue(n),inputValue:t.inputValue};break;case lt:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:me(n,e,0)};break;case st:u={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case ct:u={inputValue:t.inputValue};break;default:return mn(e,t,$t)}return C({},e,u)}var bn=["onMouseLeave","refKey","ref"],xn=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],wn=["onClick","onPress","refKey","ref"],Cn=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Se.stateChangeTypes=$t;function Se(e){e===void 0&&(e={});var t=C({},In,e),r=t.items,i=t.scrollIntoView,n=t.environment,o=t.getA11yStatusMessage,u=vn(yn,t,pn,hn),a=u[0],l=u[1],x=a.isOpen,y=a.highlightedIndex,P=a.selectedItem,w=a.inputValue,m=c.useRef(null),M=c.useRef({}),D=c.useRef(null),V=c.useRef(null),F=Je(),I=un(t),Y=c.useRef(),O=Dt({state:a,props:t}),ee=c.useCallback(function(h){return M.current[I.getItemId(h)]},[I]);dn(o,a,[x,y,P,w],n);var b=fn({menuElement:m.current,highlightedIndex:y,isOpen:x,itemRefs:M,scrollIntoView:i,getItemNodeFromIndex:ee});c.useEffect(function(){var h=ge(t,"isOpen");h&&D.current&&D.current.focus()},[]),c.useEffect(function(){F||(Y.current=r.length)});var E=sn(n,c.useCallback(function(){O.current.state.isOpen&&l({type:Te,selectItem:!1})},[l,O]),c.useMemo(function(){return[m,V,D]},[m.current,V.current,D.current])),$=cn();c.useEffect(function(){x||(M.current={})},[x]),c.useEffect(function(){var h;!x||!(n!=null&&n.document)||!(D!=null&&(h=D.current)!=null&&h.focus)||n.document.activeElement!==D.current&&D.current.focus()},[x,n]);var L=c.useMemo(function(){return{ArrowDown:function(d){d.preventDefault(),l({type:Qe,altKey:d.altKey})},ArrowUp:function(d){d.preventDefault(),l({type:Ze,altKey:d.altKey})},Home:function(d){O.current.state.isOpen&&(d.preventDefault(),l({type:tt}))},End:function(d){O.current.state.isOpen&&(d.preventDefault(),l({type:nt}))},Escape:function(d){var f=O.current.state;(f.isOpen||f.inputValue||f.selectedItem||f.highlightedIndex>-1)&&(d.preventDefault(),l({type:et}))},Enter:function(d){var f=O.current.state;!f.isOpen||d.which===229||(d.preventDefault(),l({type:ut}))},PageUp:function(d){O.current.state.isOpen&&(d.preventDefault(),l({type:rt}))},PageDown:function(d){O.current.state.isOpen&&(d.preventDefault(),l({type:it}))}}},[l,O]),j=c.useCallback(function(h){return C({id:I.labelId,htmlFor:I.inputId},h)},[I]),k=c.useCallback(function(h,d){var f,g=h===void 0?{}:h,S=g.onMouseLeave,R=g.refKey,T=R===void 0?"ref":R,B=g.ref,K=xe(g,bn),H=d===void 0?{}:d;return H.suppressRefError,C((f={},f[T]=Oe(B,function(q){m.current=q}),f.id=I.menuId,f.role="listbox",f["aria-labelledby"]=K&&K["aria-label"]?void 0:""+I.labelId,f.onMouseLeave=U(S,function(){l({type:St})}),f),K)},[l,$,I]),ae=c.useCallback(function(h){var d,f,g=h===void 0?{}:h,S=g.item,R=g.index,T=g.refKey,B=T===void 0?"ref":T,K=g.ref,H=g.onMouseMove,q=g.onMouseDown,ie=g.onClick;g.onPress;var ue=g.disabled,We=xe(g,xn);ue!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var _=O.current,Ie=_.props,ye=_.state,be=on(S,R,Ie.items,"Pass either item or index to getItemProps!"),_e=be[0],N=be[1],oe=Ie.isItemDisabled(_e,N),z="onClick",J=ie,G=function(){E.isTouchEnd||N===ye.highlightedIndex||(b.current=!1,l({type:Rt,index:N,disabled:oe}))},Q=function(){l({type:at,index:N})},Lt=function(Bt){return Bt.preventDefault()};return C((d={},d[B]=Oe(K,function(de){de&&(M.current[I.getItemId(N)]=de)}),d["aria-disabled"]=oe,d["aria-selected"]=N===ye.highlightedIndex,d.id=I.getItemId(N),d.role="option",d),!oe&&(f={},f[z]=U(J,Q),f),{onMouseMove:U(H,G),onMouseDown:U(q,Lt)},We)},[l,I,O,E,b]),W=c.useCallback(function(h){var d,f=h===void 0?{}:h,g=f.onClick;f.onPress;var S=f.refKey,R=S===void 0?"ref":S,T=f.ref,B=xe(f,wn),K=O.current.state,H=function(){l({type:kt})};return C((d={},d[R]=Oe(T,function(q){V.current=q}),d["aria-controls"]=I.menuId,d["aria-expanded"]=K.isOpen,d.id=I.toggleButtonId,d.tabIndex=-1,d),!B.disabled&&C({},{onClick:U(g,H)}),B)},[l,O,I]),p=c.useCallback(function(h,d){var f,g=h===void 0?{}:h,S=g.onKeyDown,R=g.onChange,T=g.onInput,B=g.onBlur;g.onChangeText;var K=g.onClick,H=g.refKey,q=H===void 0?"ref":H,ie=g.ref,ue=xe(g,Cn),We=d===void 0?{}:d;We.suppressRefError;var _=O.current.state,Ie=function(G){var Q=Yt(G);Q&&L[Q]&&L[Q](G)},ye=function(G){l({type:ot,inputValue:G.target.value})},be=function(G){if(n!=null&&n.document&&_.isOpen&&!E.isMouseDown){var Q=G.relatedTarget===null&&n.document.activeElement!==n.document.body;l({type:Te,selectItem:!Q})}},_e=function(){l({type:lt})},N="onChange",oe={};if(!ue.disabled){var z;oe=(z={},z[N]=U(R,T,ye),z.onKeyDown=U(S,Ie),z.onBlur=U(B,be),z.onClick=U(K,_e),z)}return C((f={},f[q]=Oe(ie,function(J){D.current=J}),f["aria-activedescendant"]=_.isOpen&&_.highlightedIndex>-1?I.getItemId(_.highlightedIndex):"",f["aria-autocomplete"]="list",f["aria-controls"]=I.menuId,f["aria-expanded"]=_.isOpen,f["aria-labelledby"]=ue&&ue["aria-label"]?void 0:I.labelId,f.autoComplete="off",f.id=I.inputId,f.role="combobox",f.value=_.inputValue,f),oe,ue)},[l,I,n,L,O,E,$]),se=c.useCallback(function(){l({type:Vt})},[l]),te=c.useCallback(function(){l({type:Kt})},[l]),pe=c.useCallback(function(){l({type:Tt})},[l]),ce=c.useCallback(function(h){l({type:Ht,highlightedIndex:h})},[l]),ve=c.useCallback(function(h){l({type:st,selectedItem:h})},[l]),ne=c.useCallback(function(h){l({type:At,inputValue:h})},[l]),re=c.useCallback(function(){l({type:Pt})},[l]);return{getItemProps:ae,getLabelProps:j,getMenuProps:k,getInputProps:p,getToggleButtonProps:W,toggleMenu:se,openMenu:pe,closeMenu:te,setHighlightedIndex:ce,setInputValue:ne,selectItem:ve,reset:re,highlightedIndex:y,isOpen:x,selectedItem:P,inputValue:w}}Ee.stateReducer,Ee.itemToKey,Ee.environment,s.array,s.array,s.array,s.func,s.number,s.number,s.number,s.func,s.func,s.string,s.string;he.itemToKey,he.stateReducer,he.environment;const On="_container_1x2ny_1",fe={container:On,"search-list":"_search-list_1x2ny_7","visually-hidden":"_visually-hidden_1x2ny_31","checkbox-label":"_checkbox-label_1x2ny_43"},Mn=(e,t)=>{const r=new RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,""),"i");return e.filter(i=>i.label.match(r))},Dn=(e,t)=>e.sort((r,i)=>Z(t,i.value)&&!Z(t,r.value)?1:!Z(t,i.value)&&Z(t,r.value)?-1:r.label.localeCompare(i.label)),Z=(e,t)=>{if(Array.isArray(t)){const r=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(n=>r.has(n)))}return e.includes(t)},ze=({options:e,name:t,label:r,isOpen:i,selectedOptions:n,onSelectedOptionsChanged:o,sortOptions:u,filterMaxLength:a=255})=>{const[l,x]=c.useState(""),[y,P]=c.useState([]),w=c.useId(),[m,M]=c.useState([]);c.useEffect(()=>{n&&M(n)},[n]);const{getLabelProps:D,getMenuProps:V,getInputProps:F,getItemProps:I,setInputValue:Y}=Se({items:y,defaultHighlightedIndex:0,selectedItem:null,stateReducer(b,E){const{changes:$,type:L}=E;return L===Se.stateChangeTypes.InputKeyDownEnter||L===Se.stateChangeTypes.ItemClick?{...$,isOpen:!0}:$},onInputValueChange:({inputValue:b})=>{x(b||"")},itemToString:()=>l}),O=b=>Z(m,b.value)?m.length>0&&Array.isArray(m[0])?m.filter(E=>!b.value.some($=>E.includes($))):m.filter(E=>!Z([b.value],E)):[...m,b.value],ee=b=>{const E=O(b);o(E),M(E)};return c.useEffect(()=>{x(""),Y(""),P((u??Dn)(e,m))},[i]),le.jsxs("div",{className:fe.container,children:[le.jsx("label",{htmlFor:"search",className:fe["visually-hidden"],...D(),children:r}),le.jsx(jt,{type:"search",name:"search",className:fe["search-input"],maxLength:a,value:l,"aria-describedby":w,leftIcon:Ft,...F()}),le.jsx("ul",{className:fe["search-list"],...V({"aria-activedescendant":F()["aria-activedescendant"]}),children:Mn(y,l).map((b,E)=>{const{ref:$,...L}=I({item:b,index:E}),j=Array.isArray(b.value)?b.value.join("_"):b.value,k=Z(m,b.value);return le.jsx("li",{children:le.jsx(qt,{label:b.label,checked:k,onChange:()=>ee(b),...L,className:fe["checkbox-label"],sizing:"fill","aria-selected":k},`${t}-${b.label}`)},`${j}`)})})]})};try{ze.displayName="AdageMultiselect",ze.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},selectedOptions:{defaultValue:null,description:"",name:"selectedOptions",required:!1,type:{name:"(string | number | string[])[]"}},onSelectedOptionsChanged:{defaultValue:null,description:"",name:"onSelectedOptionsChanged",required:!0,type:{name:"(selectedItems: (string | number | string[])[]) => void"}},filterMaxLength:{defaultValue:{value:"255"},description:"",name:"filterMaxLength",required:!1,type:{name:"number"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: (string | number | string[])[]) => ItemProps[])"}}}}}catch{}const Fn={title:"@/ui-kit/forms/AdageMultiselect",component:ze},En=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Mémoire"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"},{value:18,label:"Patrimoine"}],De={args:{options:En,name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0,selectedOptions:[],onSelectedOptionsChanged:e=>e}};var vt,It,yt;De.parameters={...De.parameters,docs:{...(vt=De.parameters)==null?void 0:vt.docs,source:{originalSource:`{
  args: {
    options,
    name: 'educationalDomains',
    label: 'Rechercher un domaine artistique',
    isOpen: true,
    selectedOptions: [],
    onSelectedOptionsChanged: selectedOptions => {
      return selectedOptions;
    }
  }
}`,...(yt=(It=De.parameters)==null?void 0:It.docs)==null?void 0:yt.source}}};const jn=["Default"];export{De as Default,jn as __namedExportsOrder,Fn as default};
