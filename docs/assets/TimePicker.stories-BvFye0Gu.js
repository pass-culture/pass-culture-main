import{j as r}from"./jsx-runtime-ChkFsKp3.js";import{a as T,u as j,F as q}from"./index.esm-Xe5T_t6Z.js";import{c as x}from"./index-Bmqd2Sco.js";import{r as c}from"./iframe-BC51RaLf.js";import{F as V}from"./FieldFooter-DV-e3c7r.js";import{F}from"./FieldHeader-TM9MvPAs.js";import"./preload-helper-PPVm8Dsz.js";import"./full-error-BFAmjN4t.js";import"./index.module-ryHBbsW3.js";import"./SvgIcon-ChARFoVG.js";const S=/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,N=e=>!!(e&&S.test(e)),I="_timepicker_1r4mi_1",_={timepicker:I,"has-error":"_has-error_1r4mi_47"},P=e=>{if(!e||!Object.keys(e).length)return[];const{interval:t=15,min:m="00:00",max:a="23:59"}=e,[n,d]=m.split(":").map(Number),[i,u]=a.split(":").map(Number),s=[];for(let l=n;l<=i;l++)for(let o=0;o<60;o+=t)if(!(l===n&&o<d)){if(l===i&&o>u)break;s.push(`${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`)}return s},h=c.forwardRef(({className:e,suggestedTimeList:t={interval:15},hasError:m,...a},n)=>{const d=c.useId(),i=P(t),u=i.length>0;return a.value?.length===4&&(a.value=`0${a.value}`),r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"time",...u?{list:d}:{},autoComplete:"off",...a,value:n||N(a.value)?a.value:"",className:x(e,_.timepicker,{[_["has-error"]]:m}),ref:n}),u&&r.jsx("datalist",{id:d,"data-testid":"timepicker-datalist",children:i.map(s=>r.jsx("option",{value:s,children:s},s))})]})});h.displayName="BaseTimePicker";try{h.displayName="BaseTimePicker",h.__docgenInfo={description:"",displayName:"BaseTimePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:{value:"{ interval: 15 }"},description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}}}}}catch{}const E={"visually-hidden":"_visually-hidden_5hhjr_1"},p=c.forwardRef(({name:e,className:t,disabled:m,label:a,required:n=!1,asterisk:d=!0,error:i,value:u,onChange:s,onBlur:l,suggestedTimeList:o,isLabelHidden:k},b)=>{const y=c.useId(),v=c.useId();return r.jsxs("div",{className:t,children:[r.jsx("div",{className:x({[E["visually-hidden"]]:k}),children:r.jsx(F,{fieldId:y,label:a,required:n,asterisk:d})}),r.jsx(h,{hasError:!!i,disabled:m,"aria-required":n,value:u,ref:b,onChange:s,onBlur:l,name:e,id:y,"aria-describedby":v,suggestedTimeList:o}),r.jsx(V,{error:i,errorId:v})]})});p.displayName="TimePicker";try{p.displayName="TimePicker",p.__docgenInfo={description:"",displayName:"TimePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},asterisk:{defaultValue:{value:"true"},description:"Whether or not to display the asterisk in the label when the field is required",name:"asterisk",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Name of the input. Used for identifying it in an uncontrolled form, and for referencing the error",name:"name",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:null,description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},isLabelHidden:{defaultValue:null,description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}}}}}catch{}const C=({children:e})=>{const t=j({defaultValues:{group:"option1"}});return r.jsx(q,{...t,children:r.jsx("form",{children:e})})},U={title:"@/ui-kit/forms/TimePicker",component:p},f={args:{label:"Select an option",value:"22:11",onChange:()=>{}}},g={args:{label:"Select a time"},decorators:[e=>r.jsx(C,{children:r.jsx(e,{})})],render:e=>{const{register:t}=T();return r.jsx(p,{...e,...t("time")})}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select an option',
    value: '22:11',
    onChange: () => {
      //    Control changes
    }
  }
}`,...f.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select a time'
  },
  decorators: [Story => <Wrapper>
        <Story />
      </Wrapper>],
  render: (args: any) => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    const {
      register
    } = useFormContext<{
      time: string;
    }>();
    return <TimePicker {...args} {...register('time')} />;
  }
}`,...g.parameters?.docs?.source}}};const z=["Default","WithinForm"];export{f as Default,g as WithinForm,z as __namedExportsOrder,U as default};
