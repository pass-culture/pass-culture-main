import{j as x}from"./jsx-runtime-CfatFE5O.js";import{r as u}from"./index-ClcD9ViR.js";function M(e,r,c){var f=this,i=u.useRef(null),l=u.useRef(0),n=u.useRef(null),o=u.useRef([]),s=u.useRef(),d=u.useRef(),C=u.useRef(e),m=u.useRef(!0);C.current=e;var g=typeof window<"u",h=!r&&r!==0&&g;if(typeof e!="function")throw new TypeError("Expected a function");r=+r||0;var b=!!(c=c||{}).leading,q=!("trailing"in c)||!!c.trailing,p="maxWait"in c,j="debounceOnServer"in c&&!!c.debounceOnServer,R=p?Math.max(+c.maxWait||0,r):null;u.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var k=u.useMemo(function(){var w=function(t){var a=o.current,_=s.current;return o.current=s.current=null,l.current=t,d.current=C.current.apply(_,a)},y=function(t,a){h&&cancelAnimationFrame(n.current),n.current=h?requestAnimationFrame(t):setTimeout(t,a)},A=function(t){if(!m.current)return!1;var a=t-i.current;return!i.current||a>=r||a<0||p&&t-l.current>=R},E=function(t){return n.current=null,q&&o.current?w(t):(o.current=s.current=null,d.current)},F=function t(){var a=Date.now();if(A(a))return E(a);if(m.current){var _=r-(a-i.current),D=p?Math.min(_,R-(a-l.current)):_;y(t,D)}},v=function(){if(g||j){var t=Date.now(),a=A(t);if(o.current=[].slice.call(arguments),s.current=f,i.current=t,a){if(!n.current&&m.current)return l.current=i.current,y(F,r),b?w(i.current):d.current;if(p)return y(F,r),w(i.current)}return n.current||y(F,r),d.current}};return v.cancel=function(){n.current&&(h?cancelAnimationFrame(n.current):clearTimeout(n.current)),l.current=0,o.current=i.current=s.current=n.current=null},v.isPending=function(){return!!n.current},v.flush=function(){return n.current?E(Date.now()):d.current},v},[b,p,r,R,q,h,g,j]);return k}function S(e,r){return e===r}function T(e,r,c){var f=S,i=u.useRef(e),l=u.useState({})[1],n=M(u.useCallback(function(s){i.current=s,l({})},[l]),r,c),o=u.useRef(e);return f(o.current,e)||(n(e),o.current=e),[i.current,n]}const L={"field-layout-character-count":"_field-layout-character-count_3swqk_1","visually-hidden":"_visually-hidden_3swqk_9"};function N({count:e,maxLength:r,name:c}){const[f]=T(e,1e3);return x.jsxs(x.Fragment,{children:[x.jsxs("span",{role:"status",className:L["visually-hidden"],id:`field-characters-count-${c}`,children:[f," caract√®res sur ",r]}),x.jsxs("span",{className:L["field-layout-character-count"],"data-testid":`counter-${c}`,"aria-hidden":!0,children:[e,"/",r]})]})}try{N.displayName="FieldLayoutCharacterCount",N.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}export{N as F};
