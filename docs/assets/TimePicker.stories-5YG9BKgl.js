import{j as r}from"./jsx-runtime-DF2Pcvd1.js";import{u as S,a as F,F as B}from"./index.esm-eFQlgsfE.js";import{c as b}from"./index-DeARc5FM.js";import{r as p}from"./index-B2-qRKKC.js";import{B as E}from"./BaseInput-C6hUc365.js";import{F as P}from"./FieldError-B3RhE53I.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./SvgIcon-DfLnDDE5.js";import"./stroke-error-DSZD431a.js";const C=/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,L=e=>!!(e&&C.test(e)),H="_timepicker_1b1f3_1",w={timepicker:H},O=e=>{if(!e||!Object.keys(e).length)return[];const{interval:t=15,min:a="00:00",max:d="23:59"}=e,[i,u]=a.split(":").map(Number),[n,m]=d.split(":").map(Number),l=[];for(let s=i;s<=n;s++)for(let o=0;o<60;o+=t)if(!(s===i&&o<u)){if(s===n&&o>m)break;l.push(`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`)}return l},y=p.forwardRef(({className:e,suggestedTimeList:t={interval:15},...a},d)=>{var m;const i=p.useId(),u=O(t),n=u.length>0;return((m=a.value)==null?void 0:m.length)===4&&(a.value=`0${a.value}`),r.jsxs(r.Fragment,{children:[r.jsx(E,{type:"time",...n?{list:i}:{},autoComplete:"off",...a,value:d||L(a.value)?a.value:"",className:b(e,w.timepicker),ref:d}),n&&r.jsx("datalist",{id:i,"data-testid":"timepicker-datalist",children:u.map(l=>r.jsx("option",{value:l,children:l},l))})]})});y.displayName="BaseTimePicker";try{y.displayName="BaseTimePicker",y.__docgenInfo={description:"",displayName:"BaseTimePicker",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}},leftIcon:{defaultValue:null,description:"",name:"leftIcon",required:!1,type:{name:"string"}},rightButton:{defaultValue:null,description:"",name:"rightButton",required:!1,type:{name:"(() => Element)"}},rightIcon:{defaultValue:null,description:"",name:"rightIcon",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:{value:"{ interval: 15 }"},description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}}}}}catch{}const W="_label_rjwrd_1",R="_error_rjwrd_6",c={label:W,error:R,"visually-hidden":"_visually-hidden_rjwrd_10"},f=p.forwardRef(({name:e,className:t,disabled:a,label:d,required:i,asterisk:u=!0,error:n,value:m,onChange:l,onBlur:s,suggestedTimeList:o,isLabelHidden:T=!1},I)=>{const _=p.useId(),v=p.useId();return r.jsxs("div",{className:b(c["time-picker"],t),children:[r.jsxs("div",{className:c["time-picker-field"],children:[r.jsxs("label",{htmlFor:_,className:b(c.label,{[c["visually-hidden"]]:T}),children:[d,i&&u?" *":""]}),r.jsx(y,{hasError:!!n,disabled:a,"aria-required":i,value:m,ref:I,onChange:l,onBlur:s,name:e,id:_,"aria-describedby":v,suggestedTimeList:o})]}),r.jsx("div",{role:"alert",id:v,children:n&&r.jsx(P,{name:e,className:c.error,children:n})})]})});f.displayName="TimePicker";try{f.displayName="TimePicker",f.__docgenInfo={description:"",displayName:"TimePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},asterisk:{defaultValue:{value:"true"},description:"Whether or not to display the asterisk in the label when the field is required",name:"asterisk",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Name of the input. Used for identifying it in an uncontrolled form, and for referencing the error",name:"name",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},suggestedTimeList:{defaultValue:null,description:"",name:"suggestedTimeList",required:!1,type:{name:"SuggestedTimeList"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}}}}}catch{}const $=({children:e})=>{const t=F({defaultValues:{group:"option1"}});return r.jsx(B,{...t,children:r.jsx("form",{children:e})})},X={title:"ui-kit/formsV2/TimePicker",component:f},g={args:{label:"Select an option",value:"22:11",onChange:()=>{}}},h={args:{label:"Select a time"},decorators:[e=>r.jsx($,{children:r.jsx(e,{})})],render:e=>{const{register:t}=S();return r.jsx(f,{...e,...t("time")})}};var x,k,V;g.parameters={...g.parameters,docs:{...(x=g.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    label: 'Select an option',
    value: '22:11',
    onChange: () => {
      //    Control changes
    }
  }
}`,...(V=(k=g.parameters)==null?void 0:k.docs)==null?void 0:V.source}}};var q,j,N;h.parameters={...h.parameters,docs:{...(q=h.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    label: 'Select a time'
  },
  decorators: [Story => <Wrapper>
        <Story />
      </Wrapper>],
  render: (args: any) => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    const {
      register
    } = useFormContext<{
      time: string;
    }>();
    return <TimePicker {...args} {...register('time')} />;
  }
}`,...(N=(j=h.parameters)==null?void 0:j.docs)==null?void 0:N.source}}};const Y=["Default","WithinForm"];export{g as Default,h as WithinForm,Y as __namedExportsOrder,X as default};
