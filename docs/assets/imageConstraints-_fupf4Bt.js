import{j as r}from"./jsx-runtime-CfatFE5O.js";import{F as c}from"./FieldError-Bb6I73np.js";const l={"constraint-check":"_constraint-check_18ul1_1","constraint-check-failing-constraint":"_constraint-check-failing-constraint_18ul1_11"},o=({constraints:i,failingConstraints:a,id:t})=>{const e=()=>i.map(n=>r.jsx("li",{children:a.includes(n.id)?r.jsx(c,{iconAlt:"Erreur",name:n.id,children:n.description}):n.description},n.id));return r.jsx("ul",{id:t,className:l["constraint-check"],role:"alert","aria-relevant":"additions",children:e()})};try{o.displayName="ConstraintCheck",o.__docgenInfo={description:"",displayName:"ConstraintCheck",props:{constraints:{defaultValue:null,description:"",name:"constraints",required:!0,type:{name:"Constraint[]"}},failingConstraints:{defaultValue:null,description:"",name:"failingConstraints",required:!0,type:{name:"string[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}}}catch{}const s=async i=>(window.createImageBitmap||(window.createImageBitmap=a=>new Promise(t=>{const e=document.createElement("img");e.addEventListener("load",function(){t(this)}),e.src=URL.createObjectURL(a)})),await createImageBitmap(i).catch(()=>null)),u={formats:i=>({id:"formats",description:"Formats supportés : JPG, PNG",asyncValidator:async t=>i.includes(t.type)&&await s(t)!==null}),size:i=>({id:"size",description:"Poids maximal du fichier : 10 Mo",asyncValidator:t=>Promise.resolve(t.size<=i)}),width:i=>{const a=async t=>{const e=await s(t);return e!==null&&e.width>=i};return{id:"width",description:`Largeur minimale de l’image : ${i} px`,asyncValidator:a}},height:i=>{const a=async t=>{if(!i)return!1;const e=await s(t);return e!==null&&e.height>=i};return{id:"height",description:`Hauteur minimale de l’image : ${i} px`,asyncValidator:a}}};export{o as C,s as g,u as i};
