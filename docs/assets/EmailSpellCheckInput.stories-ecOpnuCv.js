import{j as d}from"./jsx-runtime-CfatFE5O.js";import{a as z,u as G,F as H}from"./formik.esm-DyanDbCL.js";import{r as W}from"./index-ClcD9ViR.js";import{f as Y}from"./full-next-B_76kGmE.js";import{B as J}from"./Button-BnXFRSBV.js";import{B as K,I as Q}from"./types-DjX_gQD6.js";import{c as u,g as X}from"./_commonjsHelpers-Cpj98o6Y.js";import{T as Z}from"./TextInput-CYQTUo6d.js";import"./index-DeARc5FM.js";import"./stroke-pass-CALgybTM.js";import"./SvgIcon-B6esR8Vf.js";import"./Tooltip-CPMX2zM9.js";import"./useTooltipProps-C5TDwaI9.js";import"./Button.module-CiMaKVCX.js";import"./BaseInput-ybhpdPsY.js";import"./FieldLayout-BE6s_akl.js";import"./full-clear-Q4kCtSRL.js";import"./full-close-5Oxr7nnd.js";import"./full-help-blUMxBcv.js";import"./FieldError-Bb6I73np.js";import"./stroke-error-DSZD431a.js";var C={},y={},b={},A={};Object.defineProperty(A,"__esModule",{value:!0});function ee(e,a){if(!e)throw new Error(a)}A.default=ee;var te=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});const _=te(A);function ae(e){_.default(Array.isArray(e.domains),"domains must be an array"),_.default(Array.isArray(e.topLevelDomains),"topLevelDomains must be an array"),_.default(Array.isArray(e.secondLevelDomains),"secondLevelDomains must be an array"),_.default(typeof e.distanceFunction=="function","distanceFunction must be a function")}b.default=ae;var T={},P={};Object.defineProperty(P,"__esModule",{value:!0});function ne(e){return encodeURI(e).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}P.default=ne;var O={};Object.defineProperty(O,"__esModule",{value:!0});function le(e){const{domain:a,domains:t,distanceFunction:r,threshold:i}=e;let l,s=1/0,n=null;if(!(!a||!t)){for(let o=0;o<t.length;o++){if(a===t[o])return a;l=r(a,t[o]),l<s&&(s=l,n=t[o])}if(s<=i&&n!==null)return n}}O.default=le;var F={},E={};Object.defineProperty(E,"__esModule",{value:!0});const ie=/\s/;function oe(e){return e.trim?e.trim():se(re(e))}function re(e){return e.trimLeft?e.trimLeft():e.replace(/^\s\s*/,"")}function se(e){if(e.trimRight)return e.trimRight();let a=e.length;for(;ie.test(e.charAt(--a)););return e.slice(0,a+1)}E.default=oe;var ue=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F,"__esModule",{value:!0});const de=ue(E),ce=2;function me(e){const t=de.default(e).split("@");if(t.length<ce)return!1;for(let n=0;n<t.length;n++)if(t[n]==="")return!1;let r="",i="";const l=t.pop(),s=l.split(".");if(s.length===0)return!1;if(s.length==1)i=s[0];else{r=s[0];for(let n=1;n<s.length;n++)i+=s[n]+".";i=i.substring(0,i.length-1)}return{topLevelDomain:i,secondLevelDomain:r,domain:l,address:t.join("@")}}F.default=me;var I=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(T,"__esModule",{value:!0});const fe=I(P),L=I(O),pe=I(F);function he(e){const a=fe.default(e.email.toLowerCase()),t=pe.default(a);if(!t)return;const{domains:r,domainThreshold:i,distanceFunction:l,secondLevelDomains:s,topLevelDomains:n}=e;if(s&&n&&s.indexOf(t.secondLevelDomain)!==-1&&n.indexOf(t.topLevelDomain)!==-1)return;let o=L.default({domain:t.domain,domains:r,distanceFunction:l,threshold:i});if(o)return o==t.domain?void 0:{address:t.address,domain:o,full:t.address+"@"+o};const f=L.default({domain:t.secondLevelDomain,domains:s,distanceFunction:l,threshold:e.secondLevelThreshold}),h=L.default({domain:t.topLevelDomain,domains:n,distanceFunction:l,threshold:e.topLevelThreshold});if(t.domain){o=t.domain;let m=!1;if(f&&f!=t.secondLevelDomain&&(o=o.replace(t.secondLevelDomain,f),m=!0),h&&h!=t.topLevelDomain&&t.secondLevelDomain!==""&&(o=o.replace(new RegExp(t.topLevelDomain+"$"),h),m=!0),m)return{address:t.address,domain:o,full:t.address+"@"+o}}}T.default=he;var M={},c={},N={};Object.defineProperty(N,"__esModule",{value:!0});function _e(e,a){if(e==null||e.length===0)return a==null||a.length===0?0:a.length;if(a==null||a.length===0)return e.length;let t=0,r=0,i=0,l=0;const s=5;for(;t+r<e.length&&t+i<a.length;){if(e.charAt(t+r)==a.charAt(t+i))l++;else{r=0,i=0;for(let n=0;n<s;n++){if(t+n<e.length&&e.charAt(t+n)==a.charAt(t)){r=n;break}if(t+n<a.length&&e.charAt(t)==a.charAt(t+n)){i=n;break}}}t++}return(e.length+a.length)/2-l}N.default=_e;var ge=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});c.POPULAR_TLDS=c.POPULAR_DOMAINS=c.DEFAULT_CONFIG=void 0;const ve=ge(N),R=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];c.POPULAR_DOMAINS=R;const x=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];c.POPULAR_TLDS=x;const Le={domainThreshold:2,domains:R,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:x,distanceFunction:ve.default};c.DEFAULT_CONFIG=Le;Object.defineProperty(M,"__esModule",{value:!0});const p=c;function De(e){return{email:e.email,domains:e.domains||p.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||p.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||p.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||p.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||p.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||p.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||p.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}M.default=De;var S=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y,"__esModule",{value:!0});const ye=S(b),be=S(T),Ae=S(M);function Te(e){const a=Ae.default(e);ye.default(a||{});const t=be.default(a);return!t&&e.empty&&e.empty(),t&&e.suggested&&e.suggested(t),t}y.default=Te;(function(e){var a=u&&u.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.POPULAR_TLDS=e.POPULAR_DOMAINS=e.run=void 0;const t=a(y);e.run=t.default;const r=c;Object.defineProperty(e,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return r.POPULAR_DOMAINS}}),Object.defineProperty(e,"POPULAR_TLDS",{enumerable:!0,get:function(){return r.POPULAR_TLDS}});const i={run:t.default,POPULAR_DOMAINS:r.POPULAR_DOMAINS,POPULAR_TLDS:r.POPULAR_TLDS};e.default=i})(C);const Pe=X(C),Oe=["gmail.com","orange.fr","wanadoo.fr","yahoo.fr","hotmail.fr","free.fr","fnac.com","hotmail.com","outlook.fr","cultura.fr"],Fe={domainThreshold:4,domains:Oe,secondLevelDomains:[],topLevelDomains:[]},Ee=(e,a)=>{var t;if(!a)return(t=Pe.run({...Fe,email:e}))==null?void 0:t.full},U={"email-validation-error":"_email-validation-error_n28t9_1","email-validation-tip":"_email-validation-tip_n28t9_9"},D=({name:e,description:a,label:t,className:r,overrideInitialTip:i=null,maxLength:l=255,showMandatoryAsterisk:s})=>{const{setFieldValue:n,setFieldTouched:o}=z(),[f,h]=G(e),[m,v]=W.useState(i),q=async()=>{if(f.value.length>0){const k=Ee(f.value.toString(),!!h.error);k&&v(k)}await o(f.name,!0)},$=()=>{v(null)},B=async()=>{await n(e,m,!0),v(null)};return d.jsx(d.Fragment,{children:d.jsx(Z,{label:t,name:e,description:a,onBlur:q,onFocus:$,hideFooter:m!==null,autoComplete:"email",className:r,maxLength:l,showMandatoryAsterisk:s,ErrorDetails:m?d.jsxs("div",{className:U["email-validation-error"],children:[d.jsxs("div",{className:U["email-validation-tip"],children:["Voulez-vous plut√¥t dire ",m," ?"]}),d.jsx(J,{variant:K.TERNARY,icon:Y,iconPosition:Q.LEFT,onClick:B,autoFocus:!0,children:"Appliquer la modification"})]}):d.jsx(d.Fragment,{})})})};try{D.displayName="EmailSpellCheckInput",D.__docgenInfo={description:"",displayName:"EmailSpellCheckInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | (Element & string)"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"255"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:null,description:`A flag to hide the label.
To be used with caution, as it can affect accessibility.
Do not use it if the label is mandatory, placeholder is not
a substitute for a label.`,name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:null,description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:null,description:`A flag to indicate that the field is optional.
It will display an asterisk next to the label.`,name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:null,description:`Can be false only when it's the only field in a form and it's mandatory,
or when all fields are mandatory and the form indicates that all fields are mandatory`,name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:`A custom class for the footer,
where errors and character count are displayed.`,name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:null,description:`A flag to hide the footer.
To be used with caution, as it can affect accessibility.`,name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},overrideInitialTip:{defaultValue:{value:"null"},description:"",name:"overrideInitialTip",required:!1,type:{name:"string | null"}}}}}catch{}const Ke={title:"ui-kit/forms/EmailSpellCheckInput",component:D,decorators:[e=>d.jsx(H,{initialValues:{email:""},onSubmit:()=>{},children:d.jsx(e,{})})]},g={args:{name:"email",label:"Adresse email",description:"Format: email@exemple.com",overrideInitialTip:"marie.dupont@gmail.com"}};var V,j,w;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Adresse email',
    description: 'Format: email@exemple.com',
    overrideInitialTip: 'marie.dupont@gmail.com'
  }
}`,...(w=(j=g.parameters)==null?void 0:j.docs)==null?void 0:w.source}}};const Qe=["Default"];export{g as Default,Qe as __namedExportsOrder,Ke as default};
