import{r as t}from"./index-ClcD9ViR.js";function W(c,r,a){var x=this,i=t.useRef(null),o=t.useRef(0),n=t.useRef(null),f=t.useRef([]),l=t.useRef(),s=t.useRef(),E=t.useRef(c),m=t.useRef(!0);E.current=c;var g=typeof window<"u",p=!r&&r!==0&&g;if(typeof c!="function")throw new TypeError("Expected a function");r=+r||0;var F=!!(a=a||{}).leading,b=!("trailing"in a)||!!a.trailing,v="maxWait"in a,D="debounceOnServer"in a&&!!a.debounceOnServer,h=v?Math.max(+a.maxWait||0,r):null;t.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var T=t.useMemo(function(){var y=function(e){var u=f.current,w=l.current;return f.current=l.current=null,o.current=e,s.current=E.current.apply(w,u)},R=function(e,u){p&&cancelAnimationFrame(n.current),n.current=p?requestAnimationFrame(e):setTimeout(e,u)},M=function(e){if(!m.current)return!1;var u=e-i.current;return!i.current||u>=r||u<0||v&&e-o.current>=h},S=function(e){return n.current=null,b&&f.current?y(e):(f.current=l.current=null,s.current)},A=function e(){var u=Date.now();if(M(u))return S(u);if(m.current){var w=r-(u-i.current),O=v?Math.min(w,h-(u-o.current)):w;R(e,O)}},d=function(){if(g||D){var e=Date.now(),u=M(e);if(f.current=[].slice.call(arguments),l.current=x,i.current=e,u){if(!n.current&&m.current)return o.current=i.current,R(A,r),F?y(i.current):s.current;if(v)return R(A,r),y(i.current)}return n.current||R(A,r),s.current}};return d.cancel=function(){n.current&&(p?cancelAnimationFrame(n.current):clearTimeout(n.current)),o.current=0,f.current=i.current=l.current=n.current=null},d.isPending=function(){return!!n.current},d.flush=function(){return n.current?S(Date.now()):s.current},d},[F,v,r,h,b,p,g,D]);return T}function k(c,r){return c===r}function C(c,r,a){var x=k,i=t.useRef(c),o=t.useState({})[1],n=W(t.useCallback(function(l){i.current=l,o({})},[o]),r,a),f=t.useRef(c);return x(f.current,c)||(n(c),f.current=c),[i.current,n]}export{C as a,W as c};
