import{j as s}from"./jsx-runtime-C_uOM0Gm.js";import{c as t}from"./index-TscbDd2H.js";import{f as x}from"./full-clear-Q4kCtSRL.js";import{f as S}from"./full-close-5Oxr7nnd.js";import{f as k}from"./full-validate-CbMNulkZ.js";import{r as a}from"./iframe-CTnXOULQ.js";import{u as C}from"./useMediaQuery-DeNVqfPX.js";import{S as h}from"./SvgIcon-CJiY4LCz.js";const w="_container_1y4h0_1",I="_wrapper_1y4h0_6",R="_content_1y4h0_21",j="_show_1y4h0_66",E="_hide_1y4h0_69",O="_success_1y4h0_72",L="_error_1y4h0_81",V="_mobile_1y4h0_91",e={container:w,wrapper:I,"wrapper-border-radius-desktop":"_wrapper-border-radius-desktop_1y4h0_1",content:R,"content-icon":"_content-icon_1y4h0_27","content-text":"_content-text_1y4h0_33","close-button-container":"_close-button-container_1y4h0_40","close-button":"_close-button_1y4h0_40","progress-bar-container":"_progress-bar-container_1y4h0_53","progress-bar":"_progress-bar_1y4h0_53","progress-fill":"_progress-fill_1y4h0_1",show:j,"slide-in-bottom":"_slide-in-bottom_1y4h0_1",hide:E,"slide-out-bottom":"_slide-out-bottom_1y4h0_1",success:O,"content-icon-svg":"_content-icon-svg_1y4h0_75",error:L,mobile:V,"slide-in-top":"_slide-in-top_1y4h0_1","slide-out-top":"_slide-out-top_1y4h0_1","visually-hidden":"_visually-hidden_1y4h0_118"},A=5e3,M=1e4,q=120;var U=(r=>(r.SUCCESS="success",r.ERROR="error",r))(U||{});const p=300,B={success:{icon:k,ariaLabel:"Message de succÃ¨s",role:"status",ariaLive:"polite"},error:{icon:x,ariaLabel:"Message d'erreur",role:"alert",ariaLive:"assertive"}},l=({variant:r="success",description:u,onClose:n,autoClose:d=!0,testId:f,forceMobile:b=!1})=>{const[y,v]=a.useState(!1),_=a.useRef(!1),m=a.useRef(n),g=C("(max-width: 38.125rem)"),N=b||g;a.useEffect(()=>{m.current=n},[n]);const i=u.length<=q?A:M,c=a.useCallback(()=>{_.current||(_.current=!0,v(!0),setTimeout(()=>{m.current?.()},p))},[]),o=B[r];return a.useEffect(()=>{if(!d)return;const T=setTimeout(()=>{c()},i);return()=>clearTimeout(T)},[d,i,c]),s.jsxs("div",{className:t(e.container,e[r],y?e.hide:e.show,N?e.mobile:""),style:{"--snackbar-duration":`${i}ms`,"--snackbar-animation-duration":`${p}ms`},role:o.role,"aria-live":o.ariaLive,"aria-atomic":"true","data-testid":f,children:[s.jsxs("div",{className:t(e.wrapper),children:[s.jsxs("div",{className:t(e.content),children:[s.jsx("div",{className:t(e["content-icon"]),children:s.jsx(h,{src:o.icon,alt:"",width:"24",className:e["content-icon-svg"]})}),s.jsxs("p",{className:t(e["content-text"]),children:[s.jsxs("span",{className:e["visually-hidden"],children:[o.ariaLabel," :"," "]}),u]})]}),s.jsx("div",{className:t(e["close-button-container"]),children:s.jsx("button",{className:t(e["close-button"]),type:"button",onClick:c,"aria-label":"Fermer le message",children:s.jsx(h,{src:S,alt:"",width:"24",className:e["close-button-svg"]})})})]}),s.jsx("div",{className:t(e["progress-bar-container"]),children:s.jsx("div",{className:t(e["progress-bar"])})})]})};l.displayName="SnackBar";try{l.displayName="SnackBar",l.__docgenInfo={description:"",displayName:"SnackBar",props:{variant:{defaultValue:{value:"SnackBarVariant.SUCCESS"},description:"The variant of the snack bar",name:"variant",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}},description:{defaultValue:null,description:"The description of the snack bar",name:"description",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"The callback function to be called when the snack bar is closed",name:"onClose",required:!1,type:{name:"(() => void)"}},testId:{defaultValue:null,description:"The test id of the snack bar",name:"testId",required:!1,type:{name:"string"}},autoClose:{defaultValue:{value:"true"},description:"Whether the snack bar should automatically close or not",name:"autoClose",required:!1,type:{name:"boolean"}},forceMobile:{defaultValue:{value:"false"},description:"Force the mobile view mode.",name:"forceMobile",required:!1,type:{name:"boolean"}}}}}catch{}export{U as S,l as a};
