import{r as n}from"./iframe-CTnXOULQ.js";function j(i,e,a,f){var p=this,c=n.useRef(null),l=n.useRef(0),s=n.useRef(0),u=n.useRef(null),v=n.useRef([]),R=n.useRef(),h=n.useRef(),T=n.useRef(i),g=n.useRef(!0),m=n.useRef(),L=n.useRef();T.current=i;var S=typeof window<"u",E=!e&&e!==0&&S;if(typeof i!="function")throw new TypeError("Expected a function");e=+e||0;var A=!!(a=a||{}).leading,F=!("trailing"in a)||!!a.trailing,w=!!a.flushOnExit&&F,b="maxWait"in a,W="debounceOnServer"in a&&!!a.debounceOnServer,O=b?Math.max(+a.maxWait||0,e):null,k=n.useMemo(function(){var o=function(r){var t=v.current,d=R.current;return v.current=R.current=null,l.current=r,s.current=s.current||r,h.current=T.current.apply(d,t)},x=function(r,t){E&&cancelAnimationFrame(u.current),u.current=E?requestAnimationFrame(r):setTimeout(r,t)},q=function(r){if(!g.current)return!1;var t=r-c.current;return!c.current||t>=e||t<0||b&&r-l.current>=O},C=function(r){return u.current=null,F&&v.current?o(r):(v.current=R.current=null,h.current)},M=function r(){var t=Date.now();if(A&&s.current===l.current&&P(),q(t))return C(t);if(g.current){var d=e-(t-c.current),D=b?Math.min(d,O-(t-l.current)):d;x(r,D)}},P=function(){f&&f({})},y=function(){if(S||W){var r,t=Date.now(),d=q(t);if(v.current=[].slice.call(arguments),R.current=p,c.current=t,w&&!m.current&&(m.current=function(){var D;((D=global.document)==null?void 0:D.visibilityState)==="hidden"&&L.current.flush()},(r=global.document)==null||r.addEventListener==null||r.addEventListener("visibilitychange",m.current)),d){if(!u.current&&g.current)return l.current=c.current,x(M,e),A?o(c.current):h.current;if(b)return x(M,e),o(c.current)}return u.current||x(M,e),h.current}};return y.cancel=function(){var r=u.current;r&&(E?cancelAnimationFrame(u.current):clearTimeout(u.current)),l.current=0,v.current=c.current=R.current=u.current=null,r&&f&&f({})},y.isPending=function(){return!!u.current},y.flush=function(){return u.current?C(Date.now()):h.current},y},[A,b,e,O,F,w,E,S,W,f]);return L.current=k,n.useEffect(function(){return g.current=!0,function(){var o;w&&L.current.flush(),m.current&&((o=global.document)==null||o.removeEventListener==null||o.removeEventListener("visibilitychange",m.current),m.current=null),g.current=!1}},[w]),k}function z(i,e){return i===e}function G(i,e,a){var f=z,p=n.useRef(i),c=n.useState({})[1],l=j(n.useCallback(function(u){p.current=u,c({})},[c]),e,a,c),s=n.useRef(i);return f(s.current,i)||(l(i),s.current=i),[p.current,l]}export{j as c,G as l};
