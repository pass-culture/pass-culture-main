import{j as e}from"./jsx-runtime-vNq4Oc-g.js";import{c as G}from"./index-XNbs-YUW.js";import{r as s}from"./index-4g5l5LRQ.js";import{f as Be,a as Oe,s as qe}from"./full-download-fPe7ZvD3.js";import{D as Me}from"./Divider-RocaqWVQ.js";import{S as xe}from"./SubmitButton-gS6QbGFt.js";import{B as U}from"./ButtonLink-3YIwl7lt.js";import{B as N}from"./Button-EUBUDhEz.js";import{T as Le}from"./Thumb-1zNnxZ26.js";import"./stroke-offer-kjKFmafA.js";import"./Banner-IWldAFdx.js";import"./InfoBox-tMujiTbj.js";import{D as Ee}from"./DialogBox-wS_ac-at.js";import{a as je,I as q}from"./ImagePreviewsWrapper-4ftr9jer.js";import{u as Ce}from"./useNotification-YWT9gs6Y.js";import{f as Ae}from"./full-trash-A0u8oE8D.js";import{S as Ve}from"./SvgIcon-QVOPtTle.js";import{C as ke}from"./ConfirmDialog-C42j9ybp.js";import{s as Te}from"./stroke-trash-pW9H4mMs.js";import{f as De}from"./full-edit--NrgCQQr.js";import{u as We,F as $e,a as He}from"./formik.esm-ymFmkpzG.js";import{I as ze}from"./ImageEditor-fn_2d2ge.js";import{g as Ye,i as P,C as Ge}from"./imageConstraints-UJmkBCDU.js";import{B as Xe}from"./BaseFileInput-piM2l8Ee.js";import{c as Je,a as Ke}from"./index.esm-qeQ325HJ.js";import{P as Qe}from"./PreferredOrientation-J_RrYDSB.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-kapi_vjX.js";import"./index-CQtvWCGL.js";import"./Button.module-ZSasnFkE.js";import"./stroke-pass-84wyy11D.js";import"./Tooltip-kKBX527K.js";import"./useTooltipProps-5VZ0BXiJ.js";import"./full-next-6FYpialQ.js";import"./BaseRadio-FPTZu85Z.js";import"./FieldError-Tc_LJzie.js";import"./stroke-error-U5wg3Vd5.js";import"./FieldSuccess-GGwnsLIr.js";import"./stroke-valid-qcZpl8lN.js";import"./full-clear-0L2gsxg_.js";import"./index-VFMbf6KQ.js";import"./SelectInput-6KaGHNHr.js";import"./stroke-down-4xbrRvHV.js";import"./BaseCheckbox-ktuHWrzJ.js";import"./date-Kqo95BZo.js";import"./typeof-Q9eVcF_1.js";import"./BaseInput-AweWbigz.js";import"./shadow-tips-help-vs0tLBP5.js";import"./shadow-tips-warning-og_aO0Ug.js";import"./stroke-close-KQNU-49n.js";import"./LinkNodes-m1sxgbK0.js";import"./full-link-GGegv9yK.js";import"./tslib.es6-OTA_Hx-d.js";import"./reducer-f9lq0oNF.js";import"./Dialog-Pwv6jVbG.js";import"./Slider-yW25muXT.js";const Ze=""+new URL("offer-home-shell-0XuNO5pr.png",import.meta.url).href,ea=""+new URL("offer-shell-NTSb2-4f.png",import.meta.url).href,se={"image-preview-shell":"_image-preview-shell_1xnl4_1","image-preview-home-preview":"_image-preview-home-preview_1xnl4_6"},H={"image-preview-shell":"_image-preview-shell_glg9w_1","image-preview-blur-offer-preview":"_image-preview-blur-offer-preview_glg9w_7","image-preview-offer-preview":"_image-preview-offer-preview_glg9w_16"},C=({imageUrl:a})=>e.jsxs(je,{children:[e.jsxs(q,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:se["image-preview-shell"],src:Ze}),e.jsx("img",{"data-testid":"app-preview-offer-img-home",alt:"",className:se["image-preview-home-preview"],src:a})]}),e.jsxs(q,{title:"Détails de l’offre",children:[e.jsx("img",{alt:"",className:H["image-preview-blur-offer-preview"],src:a}),e.jsx("img",{alt:"",className:H["image-preview-shell"],src:ea}),e.jsx("img",{"data-testid":"app-preview-offer-img",alt:"",className:H["image-preview-offer-preview"],src:a})]})]});try{C.displayName="AppPreviewOffer",C.__docgenInfo={description:"",displayName:"AppPreviewOffer",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const aa=""+new URL("venue-home-shell-oOWagqMM.png",import.meta.url).href,ra=""+new URL("venue-shell-Y2dRTB5B.png",import.meta.url).href,me={"image-preview-shell":"_image-preview-shell_3dbf9_1","image-preview-home-preview":"_image-preview-home-preview_3dbf9_6"},z={"image-preview-shell":"_image-preview-shell_gbu12_1","image-preview-blur-venue-preview":"_image-preview-blur-venue-preview_gbu12_7","image-preview-venue-preview":"_image-preview-venue-preview_gbu12_16"},M=({imageUrl:a})=>{const r=Ce(),t=s.useCallback(()=>{r.error("Une erreur est survenue. Merci de réessayer plus tard")},[r]);return e.jsxs(je,{children:[e.jsxs(q,{title:"Page d’accueil",children:[e.jsx("img",{alt:"",className:me["image-preview-shell"],src:aa}),e.jsx("img",{"data-testid":"app-preview-venue-img-home",alt:"",className:me["image-preview-home-preview"],onError:t,src:a})]}),e.jsxs(q,{title:"Page Lieu",children:[e.jsx("img",{alt:"",className:z["image-preview-blur-venue-preview"],src:a}),e.jsx("img",{alt:"",className:z["image-preview-shell"],src:ra}),e.jsx("img",{"data-testid":"app-preview-venue-img",alt:"",className:z["image-preview-venue-preview"],src:a})]})]})};try{M.displayName="AppPreviewVenue",M.__docgenInfo={description:"",displayName:"AppPreviewVenue",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}var i=(a=>(a.OFFER="offer",a.OFFER_COLLECTIVE="offer_collective",a.VENUE="venue",a))(i||{});const ta="_container_uuguy_2",ia="_header_uuguy_8",oa="_subtitle_uuguy_17",na="_actions_uuguy_23",la="_button_uuguy_28",Y={container:ta,header:ia,subtitle:oa,actions:na,button:la},X=({mode:a,hideModal:r,imageUrl:t})=>{const n={[i.VENUE]:M,[i.OFFER]:C,[i.OFFER_COLLECTIVE]:C}[a];return e.jsx(Ee,{hasCloseButton:!0,labelledBy:"Ajouter une image",onDismiss:r,children:e.jsxs("div",{className:Y.container,children:[e.jsx("header",{children:e.jsx("h1",{className:Y.header,children:"Ajouter une image"})}),e.jsx("div",{className:Y.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(n,{imageUrl:t})]})})};try{X.displayName="ModalAppPreview",X.__docgenInfo={description:"",displayName:"ModalAppPreview",props:{hideModal:{defaultValue:null,description:"",name:"hideModal",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const J=({imageUrl:a,mode:r})=>{const[t,n]=s.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(N,{onClick:()=>n(!0),variant:U.TERNARY,icon:Be,children:"Prévisualiser"}),t&&a&&e.jsx(X,{mode:r,imageUrl:a,hideModal:()=>n(!1)})]})};try{J.displayName="ButtonAppPreview",J.__docgenInfo={description:"",displayName:"ButtonAppPreview",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const sa={"button-image-delete-icon":"_button-image-delete-icon_ooh4c_1"},K=({isLoading:a,onConfirm:r,onDismiss:t})=>e.jsx(ke,{cancelText:"Retour",confirmText:"Supprimer",icon:Te,isLoading:a,onCancel:t,onConfirm:r,title:"Supprimer l’image",children:"Souhaitez-vous vraiment supprimer cette image ?"});try{K.displayName="ModalImageDelete",K.__docgenInfo={description:"",displayName:"ModalImageDelete",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}}}catch{}const Q=({onImageDelete:a})=>{const[r,t]=s.useState(!1),[n,o]=s.useState(!1),l=()=>{o(!0),a()};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{onClick:()=>t(!0),variant:U.TERNARY,children:[e.jsx(Ve,{alt:"",className:sa["button-image-delete-icon"],src:Ae}),"Supprimer"]}),r&&e.jsx(K,{isLoading:n,onConfirm:l,onDismiss:()=>t(!1)})]})};try{Q.displayName="ButtonImageDelete",Q.__docgenInfo={description:"",displayName:"ButtonImageDelete",props:{onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}}}}}catch{}const ma="_label_185fk_23",da="_icon_185fk_36",b={"button-image-add":"_button-image-add_185fk_2","add-image-venue":"_add-image-venue_185fk_15","add-image-offer":"_add-image-offer_185fk_19",label:ma,"image-upload-button-label":"_image-upload-button-label_185fk_29",icon:da},ca=async(a,r="image.jpg")=>{const n=await(await fetch(a)).blob();return new File([n],r,{type:n.type})},L=(a,r)=>a+r/2,pa=a=>1/a,be={[i.OFFER]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.OFFER_COLLECTIVE]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[i.VENUE]:{maxSize:1e7,minWidth:600,types:["image/png","image/jpeg"],minHeight:400}},ua=a=>{const[r,t]=s.useState(0),[n,o]=s.useState(0);return s.useEffect(()=>{Ye(a).then(l=>{l&&(t(l.width),o(l.height))})},[]),{width:r,height:n}},x={"modal-image-crop":"_modal-image-crop_11rti_2","modal-image-crop-form":"_modal-image-crop-form_11rti_13","modal-image-crop-header":"_modal-image-crop-header_11rti_19","modal-image-crop-right":"_modal-image-crop-right_11rti_27","modal-image-crop-credit":"_modal-image-crop-credit_11rti_33","modal-image-crop-footer":"_modal-image-crop-footer_11rti_39"},ga=({originalDimensions:a,orientation:r})=>r==="landscape"?{width:Math.floor(Math.min(a.width,a.height/2*3)),height:Math.floor(Math.min(a.height,a.width/3*2))}:{width:Math.floor(Math.min(a.width,a.height/3*2)),height:Math.floor(Math.min(a.height,a.width/2*3))},Z=({onReplaceImage:a,image:r,credit:t,onSetCredit:n,onEditedImageSave:o,saveInitialPosition:l,initialPosition:p,initialScale:d,mode:m,submitButtonText:c})=>{const{width:u,height:h}=ua(r),v=s.useRef(null),k=Ce(),F=be[m].minWidth,{width:T}=ga({originalDimensions:{width:u,height:h},orientation:m===i.VENUE?"landscape":"portrait"}),I=Math.min(4,(T-10)/F),g={[i.OFFER]:384,[i.OFFER_COLLECTIVE]:384,[i.VENUE]:244}[m],D={[i.OFFER]:{canvasHeight:g,canvasWidth:g*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:I},[i.OFFER_COLLECTIVE]:{canvasHeight:g,canvasWidth:g*2/3,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:I},[i.VENUE]:{canvasHeight:g,canvasWidth:g*3/2,cropBorderColor:"#FFF",cropBorderHeight:40,cropBorderWidth:100,maxScale:I}}[m],V=We({initialValues:{credit:t||"",scale:d||1},onSubmit:w=>{try{if(v.current){const S=v.current.getImage(),y=v.current.getCroppingRect();l({x:L(y.x,y.width),y:L(y.y,y.height)}),o(S.toDataURL(),y)}n(w.credit)}catch{k.error("Une erreur est survenue. Merci de réessayer plus tard")}}});return e.jsx("section",{className:x["modal-image-crop"],children:e.jsx($e,{value:V,children:e.jsxs(He,{onSubmit:V.handleSubmit,children:[e.jsxs("div",{className:x["modal-image-crop-form"],children:[e.jsx("header",{children:e.jsx("h1",{className:x["modal-image-crop-header"],children:"Ajouter une image"})}),e.jsx("p",{className:x["modal-image-crop-right"],children:"En utilisant ce contenu, je certifie que je suis propriétaire ou que je dispose des autorisations nécessaires pour l’utilisation de celui-ci."}),e.jsx(ze,{...D,image:r,initialPosition:p,ref:v}),e.jsx(Le,{countCharacters:!0,className:x["modal-image-crop-credit"],label:"Crédit de l’image",maxLength:255,name:"credit",placeholder:"Photographe...",required:!1,type:"text",isOptional:!0})]}),e.jsx(Me,{}),e.jsxs("footer",{className:x["modal-image-crop-footer"],children:[e.jsx(N,{icon:Oe,onClick:a,variant:U.TERNARY,children:"Remplacer l’image"}),e.jsx(xe,{children:c})]})]})})})};try{Z.displayName="ModalImageCrop",Z.__docgenInfo={description:"",displayName:"ModalImageCrop",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"File"}},credit:{defaultValue:null,description:"",name:"credit",required:!0,type:{name:"string"}},onSetCredit:{defaultValue:null,description:"",name:"onSetCredit",required:!0,type:{name:"(credit: string) => void"}},onReplaceImage:{defaultValue:null,description:"",name:"onReplaceImage",required:!0,type:{name:"() => void"}},initialPosition:{defaultValue:null,description:"",name:"initialPosition",required:!1,type:{name:"Position"}},initialScale:{defaultValue:null,description:"",name:"initialScale",required:!1,type:{name:"number"}},saveInitialPosition:{defaultValue:null,description:"",name:"saveInitialPosition",required:!0,type:{name:"(position: Position) => void"}},onEditedImageSave:{defaultValue:null,description:"",name:"onEditedImageSave",required:!0,type:{name:"(dataUrl: string, croppedRect: CroppedRect) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!0,type:{name:"string"}}}}}catch{}const fa=({constraints:a})=>Je().shape(a.reduce((r,t)=>({...r,[t.id]:Ke().test({message:t.description,test:(n,o)=>t.asyncValidator(o.parent.image)})}),{})),ee=({onSubmit:a,mode:r})=>{const[t,n]=s.useState([]),o=be[r],l=[P.formats(o.types),P.size(o.maxSize),P.width(o.minWidth),P.height(o.minHeight)],p=fa({constraints:l}),d=m=>{const c=m.currentTarget.files&&m.currentTarget.files[0]||null;c&&p.validate({image:c},{abortEarly:!1}).then(()=>a({image:c})).catch(u=>n(u.inner.map(h=>h.path||"unknown")))};return e.jsxs("form",{onSubmit:m=>m.preventDefault(),children:[e.jsx(Xe,{label:"Importer une image depuis l’ordinateur",fileTypes:["image/png","image/jpeg"],isValid:t.length===0,onChange:d}),e.jsx(Ge,{constraints:l,failingConstraints:t})]})};try{ee.displayName="ImageUploadBrowserForm",ee.__docgenInfo={description:"",displayName:"ImageUploadBrowserForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const _a="_header_gcnvk_13",de={"modal-upload-browser":"_modal-upload-browser_gcnvk_2",header:_a,"horizontal-rule":"_horizontal-rule_gcnvk_19"},ae=({onImageClientUpload:a,mode:r})=>{const t={[i.OFFER]:"portrait",[i.OFFER_COLLECTIVE]:"portrait",[i.VENUE]:"landscape"}[r];return e.jsxs("section",{className:de["modal-upload-browser"],children:[e.jsx("header",{children:e.jsx("h1",{className:de.header,children:"Ajouter une image"})}),e.jsx(Qe,{orientation:t}),e.jsx(ee,{onSubmit:a,mode:r})]})};try{ae.displayName="ModalImageUploadBrowser",ae.__docgenInfo={description:"",displayName:"ModalImageUploadBrowser",props:{onImageClientUpload:{defaultValue:null,description:"",name:"onImageClientUpload",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const ha="_container_4bsmh_2",va="_header_4bsmh_8",Ia="_subtitle_4bsmh_17",ya="_actions_4bsmh_23",wa="_button_4bsmh_29",E={container:ha,header:va,subtitle:Ia,actions:ya,button:wa},re=({imageUrl:a,isUploading:r,onGoBack:t,onUploadImage:n,mode:o})=>{const l={[i.VENUE]:M,[i.OFFER]:C,[i.OFFER_COLLECTIVE]:C}[o];return e.jsxs("div",{className:E.container,children:[e.jsx("header",{children:e.jsx("h1",{className:E.header,children:"Ajouter une image"})}),e.jsx("div",{className:E.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),e.jsx(l,{imageUrl:a}),e.jsxs("div",{className:E.actions,children:[e.jsx(N,{className:E.button,onClick:t,title:"Retour",type:"button",variant:U.SECONDARY,children:"Retour"}),e.jsx(xe,{className:E.button,disabled:!1,isLoading:!!r,onClick:n})]})]})};try{re.displayName="ModalImageUploadConfirm",re.__docgenInfo={description:"",displayName:"ModalImageUploadConfirm",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},isUploading:{defaultValue:null,description:"",name:"isUploading",required:!0,type:{name:"boolean"}},onGoBack:{defaultValue:null,description:"",name:"onGoBack",required:!0,type:{name:"() => void"}},onUploadImage:{defaultValue:null,description:"",name:"onUploadImage",required:!0,type:{name:"() => void"}}}}}catch{}const te=({mode:a,onDismiss:r,onImageUpload:t,initialValues:n={}})=>{const[o,l]=s.useState(!1),{imageUrl:p,originalImageUrl:d,credit:m,cropParams:c}=n,[u,h]=s.useState();s.useEffect(()=>{async function f($){h(await ca($))}const _=d||p;_&&f(_),l(!0)},[]);const[v,k]=s.useState(m||""),[F,T]=s.useState(),[I,g]=s.useState(""),[D,oe]=s.useState(!1),{xCropPercent:W,yCropPercent:V,heightCropPercent:w,widthCropPercent:S}=c||{},[y,Ne]=s.useState({x:W&&S?L(W,S):.5,y:V&&w?L(V,w):.5}),Fe=()=>{g("")},Se=f=>{h(f.image||void 0)},Pe=()=>{h(void 0)},ne=(f,_,$)=>{f===void 0||_===void 0||(t({imageFile:_,imageCroppedDataUrl:$,cropParams:f,credit:v}),r(),oe(!1))},le=a!==i.OFFER_COLLECTIVE,Re=(f,_)=>{T(_),g(f),le||ne(_,u,f)};return o?e.jsx(Ee,{hasCloseButton:!0,labelledBy:"Ajouter une image",onDismiss:r,children:u?!F||!I?e.jsx(Z,{credit:v,image:u,initialPosition:y,initialScale:w?pa(w):1,onEditedImageSave:Re,onReplaceImage:Pe,onSetCredit:k,saveInitialPosition:Ne,mode:a,submitButtonText:le?"Suivant":"Enregistrer"}):e.jsx(re,{isUploading:D,onGoBack:Fe,onUploadImage:()=>ne(F,u,I),imageUrl:I,mode:a}):e.jsx(ae,{onImageClientUpload:Se,mode:a})}):null};try{te.displayName="ModalImageEdit",te.__docgenInfo={description:"",displayName:"ModalImageEdit",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}}}}}catch{}const A=({mode:a,initialValues:r={},onImageUpload:t,onClickButtonImage:n,children:o})=>{const[l,p]=s.useState(!1),{imageUrl:d,originalImageUrl:m}=r,c=()=>{n&&n(),p(!0)};return e.jsxs(e.Fragment,{children:[d||m?e.jsx(N,{onClick:c,variant:U.TERNARY,alt:"Modifier l’image",icon:De,children:o??"Modifier"}):e.jsxs("button",{className:G(b["button-image-add"],{[b["add-image-venue"]]:a===i.VENUE,[b["add-image-offer"]]:a===i.OFFER||a===i.OFFER_COLLECTIVE}),onClick:c,type:"button",children:[e.jsx(Ve,{src:qe,alt:"",className:b.icon}),e.jsx("span",{className:b.label,children:"Ajouter une image"})]}),l&&e.jsx(te,{mode:a,onDismiss:()=>p(!1),onImageUpload:t,initialValues:r})]})};try{A.displayName="ButtonImageEdit",A.__docgenInfo={description:"",displayName:"ButtonImageEdit",props:{onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImage:{defaultValue:null,description:"",name:"onClickButtonImage",required:!1,type:{name:"(() => void)"}}}}}catch{}const j={"explanatory-text":"_explanatory-text_102ob_1","image-uploader-image-container":"_image-uploader-image-container_102ob_5","image-uploader-actions-container":"_image-uploader-actions-container_102ob_9","actions-wrapper":"_actions-wrapper_102ob_16","image-preview":"_image-preview_102ob_24","preview-venue":"_preview-venue_102ob_30","preview-offer":"_preview-offer_102ob_34"},ie=({className:a,onImageUpload:r,onImageDelete:t,initialValues:n={},mode:o,onClickButtonImageAdd:l,hideActionButtons:p=!1})=>{const{imageUrl:d,originalImageUrl:m,credit:c,cropParams:u}=n;return e.jsx("div",{className:G(j["image-uploader-image-container"],a),children:d&&m?e.jsxs(e.Fragment,{children:[e.jsx("img",{alt:"Prévisualisation de l’image",className:G(j["image-preview"],{[j["preview-venue"]]:o===i.VENUE,[j["preview-offer"]]:o===i.OFFER||o===i.OFFER_COLLECTIVE}),src:d}),!p&&e.jsx("div",{className:j["image-uploader-actions-container"],children:e.jsxs("div",{className:j["actions-wrapper"],children:[e.jsx(A,{mode:o,initialValues:{originalImageUrl:m,imageUrl:d,credit:c,cropParams:u},onImageUpload:r,onClickButtonImage:l}),o!==i.OFFER_COLLECTIVE&&e.jsx(J,{imageUrl:d,mode:o}),e.jsx(Q,{onImageDelete:t})]})})]}):e.jsx(A,{mode:o,onImageUpload:r,onClickButtonImage:l})})},xa=ie;try{ie.displayName="ImageUploader",ie.__docgenInfo={description:"",displayName:"ImageUploader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImageAdd:{defaultValue:null,description:"",name:"onClickButtonImageAdd",required:!1,type:{name:"(() => void)"}},hideActionButtons:{defaultValue:{value:"false"},description:"",name:"hideActionButtons",required:!1,type:{name:"boolean"}}}}}catch{}const ce=""+new URL("sample-image-landscape-eBpjwR3E.jpg",import.meta.url).href,pe=""+new URL("sample-image-portrait-DqK7CIsS.jpg",import.meta.url).href,Cr={title:"components/ImageUploader",component:xa},Ue={initialValues:{originalImageUrl:pe,imageUrl:pe,credit:"John Do",cropParams:{xCropPercent:0,yCropPercent:0,heightCropPercent:1,widthCropPercent:1}},mode:i.OFFER,onImageDelete:()=>{alert("onDelete have been called.")},onImageUpload:()=>{alert("onImageUpload have been called.")}},R={args:{...Ue}},B={args:{...Ue,initialValues:{imageUrl:ce,originalImageUrl:ce},mode:i.VENUE}},O={args:{mode:i.OFFER}};var ue,ge,fe;R.parameters={...R.parameters,docs:{...(ue=R.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  args: {
    ...props
  }
}`,...(fe=(ge=R.parameters)==null?void 0:ge.docs)==null?void 0:fe.source}}};var _e,he,ve;B.parameters={...B.parameters,docs:{...(_e=B.parameters)==null?void 0:_e.docs,source:{originalSource:`{
  args: {
    ...props,
    initialValues: {
      imageUrl: sampleImageLandscape,
      originalImageUrl: sampleImageLandscape
    },
    mode: UploaderModeEnum.VENUE
  }
}`,...(ve=(he=B.parameters)==null?void 0:he.docs)==null?void 0:ve.source}}};var Ie,ye,we;O.parameters={...O.parameters,docs:{...(Ie=O.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    mode: UploaderModeEnum.OFFER
  }
}`,...(we=(ye=O.parameters)==null?void 0:ye.docs)==null?void 0:we.source}}};const Vr=["WithImageOffer","WithImageVenue","WithoutImage"];export{R as WithImageOffer,B as WithImageVenue,O as WithoutImage,Vr as __namedExportsOrder,Cr as default};
