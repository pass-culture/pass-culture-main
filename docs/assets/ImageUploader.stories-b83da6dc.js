var Wt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var p=(t,e,r)=>(Wt(t,e,"read from private field"),r?r.call(t):e.get(t)),w=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},v=(t,e,r,o)=>(Wt(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import{j as c}from"./jsx-runtime-ffb262ed.js";import{r as S}from"./index-76fb7be0.js";import{u as Mr}from"./notificationReducer-5f6175f5.js";import"./index-48a71f03.js";import"./hoist-non-react-statics.cjs-3f8ebaa8.js";import"./react-is.production.min-a192e302.js";import{U as Pt,A as Tr}from"./config-cb91ff0d.js";import"./VenuePhysicalLocation-313db5a9.js";import{c as Ot}from"./index-a587463d.js";import{s as Wr}from"./stroke-pass-cf331655.js";import{S as Ft}from"./SvgIcon-c0bf369c.js";import{f as zr,s as Kr,a as Jr}from"./full-download-9e7ee4e9.js";import{D as Yr}from"./Divider-7c035ea9.js";import{S as Rr}from"./SubmitButton-6174c831.js";import{B as Oe,a as Fe}from"./Button-eca29e00.js";import{T as Qr}from"./Thumb-e957c9e8.js";import"./stroke-offer-ff89e161.js";import"./Banner-de0c0ffa.js";import"./InfoBox-8a1c95bc.js";import{D as Sr}from"./DialogBox-efdea34c.js";import{a as wr,I as ke}from"./ImagePreviewsWrapper-bac412f5.js";import{u as Pr}from"./useNotification-5264cfad.js";import{f as Xr}from"./full-trash-98c73dd7.js";import{C as Zr}from"./ConfirmDialog-946384c1.js";import{s as eo}from"./stroke-trash-04d1aada.js";import{f as to}from"./full-edit-fa9e4e17.js";import{u as ro,F as oo,a as no}from"./formik.esm-49513253.js";import{I as so}from"./ImageEditor-c86ebfc5.js";import{g as io,i as Ie,C as ao}from"./imageConstraints-376940ab.js";import"./BaseCheckbox-0e6f2221.js";import{B as uo}from"./BaseFileInput-5ea36249.js";import"./FieldError-10cbd29d.js";import"./FieldSuccess-31bdacb0.js";import{c as lo,a as co}from"./index.esm-bca3505f.js";import{P as po}from"./PreferredOrientation-9bfa0563.js";import"./_commonjsHelpers-de833af9.js";import"./index-f665786b.js";import"./full-right-83efe067.js";import"./Button.module-ec1646c9.js";import"./Tooltip-7f0a196a.js";import"./useTooltipProps-b20503ef.js";import"./full-next-ebff3494.js";import"./BaseRadio-06d1d75a.js";import"./full-clear-9268779e.js";import"./index-9d475cdf.js";import"./SelectInput-cdc4214a.js";import"./stroke-down-3d79f44b.js";import"./typeof-7fd5df1e.js";import"./BaseInput-433b1c48.js";import"./stroke-close-3a7bfe9e.js";import"./shadow-tips-help-841f916a.js";import"./shadow-tips-warning-66fb0429.js";import"./LinkNodes-efb5e12f.js";import"./full-link-9eb5e1cb.js";import"./tslib.es6-0a050bf6.js";import"./stroke-error-ed5fe82d.js";import"./Dialog-d9b4aefb.js";import"./Slider-a595c847.js";import"./stroke-valid-9c345a33.js";let fo=class{constructor(e){this.config=e}},st=class extends Error{constructor(e,r,o){super(o),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=e}},ho=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}};var D,V,j,Y,oe,Se,pe,pr;let mo=(pr=class{constructor(e){w(this,D,void 0);w(this,V,void 0);w(this,j,void 0);w(this,Y,void 0);w(this,oe,void 0);w(this,Se,void 0);w(this,pe,void 0);v(this,D,!1),v(this,V,!1),v(this,j,!1),v(this,Y,[]),v(this,oe,new Promise((r,o)=>{v(this,Se,r),v(this,pe,o);const s=a=>{var l;p(this,D)||p(this,V)||p(this,j)||(v(this,D,!0),(l=p(this,Se))==null||l.call(this,a))},n=a=>{var l;p(this,D)||p(this,V)||p(this,j)||(v(this,V,!0),(l=p(this,pe))==null||l.call(this,a))},i=a=>{p(this,D)||p(this,V)||p(this,j)||p(this,Y).push(a)};return Object.defineProperty(i,"isResolved",{get:()=>p(this,D)}),Object.defineProperty(i,"isRejected",{get:()=>p(this,V)}),Object.defineProperty(i,"isCancelled",{get:()=>p(this,j)}),e(s,n,i)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return p(this,oe).then(e,r)}catch(e){return p(this,oe).catch(e)}finally(e){return p(this,oe).finally(e)}cancel(){var e;if(!(p(this,D)||p(this,V)||p(this,j))){if(v(this,j,!0),p(this,Y).length)try{for(const r of p(this,Y))r()}catch(r){console.warn("Cancellation threw an error",r);return}p(this,Y).length=0,(e=p(this,pe))==null||e.call(this,new ho("Request aborted"))}}get isCancelled(){return p(this,j)}},D=new WeakMap,V=new WeakMap,j=new WeakMap,Y=new WeakMap,oe=new WeakMap,Se=new WeakMap,pe=new WeakMap,pr);const Ct=t=>t!=null,Ce=t=>typeof t=="string",Me=t=>Ce(t)&&t!=="",Ut=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),Or=t=>t instanceof FormData,yo=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},bo=t=>{const e=[],r=(s,n)=>{e.push(`${encodeURIComponent(s)}=${encodeURIComponent(String(n))}`)},o=(s,n)=>{Ct(n)&&(Array.isArray(n)?n.forEach(i=>{o(s,i)}):typeof n=="object"?Object.entries(n).forEach(([i,a])=>{o(`${s}[${i}]`,a)}):r(s,n))};return Object.entries(t).forEach(([s,n])=>{o(s,n)}),e.length>0?`?${e.join("&")}`:""},go=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,o=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(n,i)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(i)?r(String(e.path[i])):n}),s=`${t.BASE}${o}`;return e.query?`${s}${bo(e.query)}`:s},vo=t=>{if(t.formData){const e=new FormData,r=(o,s)=>{Ce(s)||Ut(s)?e.append(o,s):e.append(o,JSON.stringify(s))};return Object.entries(t.formData).filter(([o,s])=>Ct(s)).forEach(([o,s])=>{Array.isArray(s)?s.forEach(n=>r(o,n)):r(o,s)}),e}},Ae=async(t,e)=>typeof e=="function"?e(t):e,Eo=async(t,e)=>{const r=await Ae(e,t.TOKEN),o=await Ae(e,t.USERNAME),s=await Ae(e,t.PASSWORD),n=await Ae(e,t.HEADERS),i=Object.entries({Accept:"application/json",...n,...e.headers}).filter(([a,l])=>Ct(l)).reduce((a,[l,u])=>({...a,[l]:String(u)}),{});if(Me(r)&&(i.Authorization=`Bearer ${r}`),Me(o)&&Me(s)){const a=yo(`${o}:${s}`);i.Authorization=`Basic ${a}`}return e.body&&(e.mediaType?i["Content-Type"]=e.mediaType:Ut(e.body)?i["Content-Type"]=e.body.type||"application/octet-stream":Ce(e.body)?i["Content-Type"]="text/plain":Or(e.body)||(i["Content-Type"]="application/json")),new Headers(i)},qo=t=>{var e;if(t.body)return(e=t.mediaType)!=null&&e.includes("/json")?JSON.stringify(t.body):Ce(t.body)||Ut(t.body)||Or(t.body)?t.body:JSON.stringify(t.body)},_o=async(t,e,r,o,s,n,i)=>{const a=new AbortController,l={headers:n,body:o??s,method:e.method,signal:a.signal};return t.WITH_CREDENTIALS&&(l.credentials=t.CREDENTIALS),i(()=>a.abort()),fetch(r,l)},To=(t,e)=>{if(e){const r=t.headers.get(e);if(Ce(r))return r}},Ro=async t=>{if(t.status!==204)try{const e=t.headers.get("Content-Type");if(e)return e.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(e){console.error(e)}},So=(t,e)=>{const o={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(e.status===503){window.location.assign(Pt);return}if(o)throw new st(t,e,o);if(!e.ok)throw new st(t,e,"Generic Error")},wo=(t,e)=>new mo(async(r,o,s)=>{try{const n=go(t,e),i=vo(e),a=qo(e),l=await Eo(t,e);if(!s.isCancelled){const u=await _o(t,e,n,a,i,l,s),d=await Ro(u),h=To(u,e.responseHeader),f={url:n,ok:u.ok,status:u.status,statusText:u.statusText,body:h??d};So(e,f),r(f.body)}}catch(n){n instanceof st&&n.status===401&&!n.url.includes("/users/current")&&!n.url.includes("/users/signin")&&(window.location.href="/connexion"),n instanceof Error&&(n.message==="Failed to fetch"||n.message.includes("NetworkError"))?console.error(n):o(n)}});let Po=class extends fo{constructor(e){super(e)}request(e){return wo(this.config,e)}},Oo=class{constructor(e){this.httpRequest=e}authenticate(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/authenticate",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getAcademies(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/academies",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getEducationalEligibleOffersByUai(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/all-offers",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}bookCollectiveOffer(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/bookings",body:e,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveFavorites(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/favorites",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getEducationalInstitutionWithBudget(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/institution",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteFavoriteForCollectiveOffer(e){return this.httpRequest.request({method:"DELETE",url:"/adage-iframe/collective/offer/{offer_id}/favorites",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveOfferTemplate(e){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/offers-template/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}createCollectiveRequest(e,r){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/offers-template/{offer_id}/request",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}getCollectiveOffer(e){return this.httpRequest.request({method:"GET",url:"/adage-iframe/collective/offers/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}postCollectiveOfferFavorites(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/offers/{offer_id}/favorites",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteFavoriteForCollectiveOfferTemplate(e){return this.httpRequest.request({method:"DELETE",url:"/adage-iframe/collective/template/{offer_template_id}/favorites",path:{offer_template_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postCollectiveTemplateFavorites(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/collective/templates/{offer_id}/favorites",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listFeatures(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/features",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logBookingModalButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/booking-modal-button",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logCatalogView(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/catalog-view",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logConsultPlaylistElement(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/consult-playlist-element",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logContactModalButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/contact-modal-button",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logFavOfferButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/fav-offer/",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logHasSeenWholePlaylist(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/has-seen-whole-playlist/",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logHeaderLinkClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/header-link-click/",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logOfferDetailsButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/offer-detail",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logOfferTemplateDetailsButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/offer-template-detail",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logHasSeenAllPlaylist(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/playlist",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logRequestFormPopinDismiss(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/request-popin-dismiss",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logOpenSatisfactionSurvey(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/sat-survey",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logSearchButtonClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/search-button",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logTrackingAutocompleteSuggestionClick(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/tracking-autocompletion",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logTrackingFilter(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/tracking-filter",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}logTrackingMap(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/logs/tracking-map",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}getEducationalOffersCategories(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/offers/categories",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getEducationalOffersFormats(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/offers/formats",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getClassroomPlaylist(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/playlists/classroom",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getLocalOfferersPlaylist(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/playlists/local-offerers",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}newTemplateOffersPlaylist(){return this.httpRequest.request({method:"GET",url:"/adage-iframe/playlists/new_template_offers",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}saveRedactorPreferences(e){return this.httpRequest.request({method:"POST",url:"/adage-iframe/redactor/preferences",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueBySiret(e,r=!1){return this.httpRequest.request({method:"GET",url:"/adage-iframe/venues/siret/{siret}",path:{siret:e},query:{getRelative:r},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueById(e,r=!1){return this.httpRequest.request({method:"GET",url:"/adage-iframe/venues/{venue_id}",path:{venue_id:e},query:{getRelative:r},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}};class Fo{constructor(e,r=Po){this.request=new r({BASE:(e==null?void 0:e.BASE)??"http://localhost:5001",VERSION:(e==null?void 0:e.VERSION)??"0.1.0",WITH_CREDENTIALS:(e==null?void 0:e.WITH_CREDENTIALS)??!1,CREDENTIALS:(e==null?void 0:e.CREDENTIALS)??"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.default=new Oo(this.request)}}let Co=class{constructor(e){this.config=e}},it=class extends Error{constructor(e,r,o){super(o),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=e}},Uo=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}};var B,$,I,Q,ne,we,fe,fr;let jo=(fr=class{constructor(e){w(this,B,void 0);w(this,$,void 0);w(this,I,void 0);w(this,Q,void 0);w(this,ne,void 0);w(this,we,void 0);w(this,fe,void 0);v(this,B,!1),v(this,$,!1),v(this,I,!1),v(this,Q,[]),v(this,ne,new Promise((r,o)=>{v(this,we,r),v(this,fe,o);const s=a=>{var l;p(this,B)||p(this,$)||p(this,I)||(v(this,B,!0),(l=p(this,we))==null||l.call(this,a))},n=a=>{var l;p(this,B)||p(this,$)||p(this,I)||(v(this,$,!0),(l=p(this,fe))==null||l.call(this,a))},i=a=>{p(this,B)||p(this,$)||p(this,I)||p(this,Q).push(a)};return Object.defineProperty(i,"isResolved",{get:()=>p(this,B)}),Object.defineProperty(i,"isRejected",{get:()=>p(this,$)}),Object.defineProperty(i,"isCancelled",{get:()=>p(this,I)}),e(s,n,i)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return p(this,ne).then(e,r)}catch(e){return p(this,ne).catch(e)}finally(e){return p(this,ne).finally(e)}cancel(){var e;if(!(p(this,B)||p(this,$)||p(this,I))){if(v(this,I,!0),p(this,Q).length)try{for(const r of p(this,Q))r()}catch(r){console.warn("Cancellation threw an error",r);return}p(this,Q).length=0,(e=p(this,fe))==null||e.call(this,new Uo("Request aborted"))}}get isCancelled(){return p(this,I)}},B=new WeakMap,$=new WeakMap,I=new WeakMap,Q=new WeakMap,ne=new WeakMap,we=new WeakMap,fe=new WeakMap,fr);const jt=t=>t!=null,Ue=t=>typeof t=="string",We=t=>Ue(t)&&t!=="",It=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),Fr=t=>t instanceof FormData,Io=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},Ao=t=>{const e=[],r=(s,n)=>{e.push(`${encodeURIComponent(s)}=${encodeURIComponent(String(n))}`)},o=(s,n)=>{jt(n)&&(Array.isArray(n)?n.forEach(i=>{o(s,i)}):typeof n=="object"?Object.entries(n).forEach(([i,a])=>{o(`${s}[${i}]`,a)}):r(s,n))};return Object.entries(t).forEach(([s,n])=>{o(s,n)}),e.length>0?`?${e.join("&")}`:""},No=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,o=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(n,i)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(i)?r(String(e.path[i])):n}),s=`${t.BASE}${o}`;return e.query?`${s}${Ao(e.query)}`:s},xo=t=>{if(t.formData){const e=new FormData,r=(o,s)=>{Ue(s)||It(s)?e.append(o,s):e.append(o,JSON.stringify(s))};return Object.entries(t.formData).filter(([o,s])=>jt(s)).forEach(([o,s])=>{Array.isArray(s)?s.forEach(n=>r(o,n)):r(o,s)}),e}},Ne=async(t,e)=>typeof e=="function"?e(t):e,ko=async(t,e)=>{const r=await Ne(e,t.TOKEN),o=await Ne(e,t.USERNAME),s=await Ne(e,t.PASSWORD),n=await Ne(e,t.HEADERS),i=Object.entries({Accept:"application/json",...n,...e.headers}).filter(([a,l])=>jt(l)).reduce((a,[l,u])=>({...a,[l]:String(u)}),{});if(We(r)&&(i.Authorization=`Bearer ${r}`),We(o)&&We(s)){const a=Io(`${o}:${s}`);i.Authorization=`Basic ${a}`}return e.body&&(e.mediaType?i["Content-Type"]=e.mediaType:It(e.body)?i["Content-Type"]=e.body.type||"application/octet-stream":Ue(e.body)?i["Content-Type"]="text/plain":Fr(e.body)||(i["Content-Type"]="application/json")),new Headers(i)},Do=t=>{var e;if(t.body)return(e=t.mediaType)!=null&&e.includes("/json")?JSON.stringify(t.body):Ue(t.body)||It(t.body)||Fr(t.body)?t.body:JSON.stringify(t.body)},Vo=async(t,e,r,o,s,n,i)=>{const a=new AbortController,l={headers:n,body:o??s,method:e.method,signal:a.signal};return t.WITH_CREDENTIALS&&(l.credentials=t.CREDENTIALS),i(()=>a.abort()),fetch(r,l)},Bo=(t,e)=>{if(e){const r=t.headers.get(e);if(Ue(r))return r}},$o=async t=>{if(t.status!==204)try{const e=t.headers.get("Content-Type");if(e)return e.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(e){console.error(e)}},Ho=(t,e)=>{const o={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(e.status===503){window.location.assign(Pt);return}if(o)throw new it(t,e,o);if(!e.ok)throw new it(t,e,"Generic Error")},Lo=(t,e)=>new jo(async(r,o,s)=>{try{const n=No(t,e),i=xo(e),a=Do(e),l=await ko(t,e);if(!s.isCancelled){const u=await Vo(t,e,n,a,i,l,s),d=await $o(u),h=Bo(u,e.responseHeader),f={url:n,ok:u.ok,status:u.status,statusText:u.statusText,body:h??d};Ho(e,f),r(f.body)}}catch(n){n instanceof it&&n.status===401&&!n.url.includes("/users/current")&&!n.url.includes("/users/signin")&&(window.location.href="/connexion"),n instanceof Error&&(n.message==="Failed to fetch"||n.message.includes("NetworkError"))?console.error(n):o(n)}});let Go=class extends Co{constructor(e){super(e)}request(e){return Lo(this.config,e)}};class Mo{constructor(e){this.httpRequest=e}getBookingsPro(e=1,r,o,s,n,i,a,l,u,d="forbid"){return this.httpRequest.request({method:"GET",url:"/bookings/pro",query:{page:e,venueId:r,offerId:o,eventDate:s,bookingStatusFilter:n,bookingPeriodBeginningDate:i,bookingPeriodEndingDate:a,offerType:l,exportType:u,extra:d},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getUserHasBookings(){return this.httpRequest.request({method:"GET",url:"/bookings/pro/userHasBookings",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveBookingsPro(e=1,r,o,s,n,i,a="forbid"){return this.httpRequest.request({method:"GET",url:"/collective/bookings/pro",query:{page:e,venueId:r,eventDate:o,bookingStatusFilter:s,bookingPeriodBeginningDate:n,bookingPeriodEndingDate:i,extra:a},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getUserHasCollectiveBookings(){return this.httpRequest.request({method:"GET",url:"/collective/bookings/pro/userHasBookings",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveBookingById(e){return this.httpRequest.request({method:"GET",url:"/collective/bookings/{booking_id}",path:{booking_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listEducationalDomains(){return this.httpRequest.request({method:"GET",url:"/collective/educational-domains",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveOffers(e,r,o,s,n,i,a,l,u,d){return this.httpRequest.request({method:"GET",url:"/collective/offers",query:{nameOrIsbn:e,offererId:r,status:o,venueId:s,categoryId:n,creationMode:i,periodBeginningDate:a,periodEndingDate:l,collectiveOfferType:u,format:d},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}createCollectiveOffer(e){return this.httpRequest.request({method:"POST",url:"/collective/offers",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}createCollectiveOfferTemplate(e){return this.httpRequest.request({method:"POST",url:"/collective/offers-template",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchCollectiveOffersTemplateActiveStatus(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers-template/active-status",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveOfferRequest(e){return this.httpRequest.request({method:"GET",url:"/collective/offers-template/request/{request_id}",path:{request_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveOfferTemplate(e){return this.httpRequest.request({method:"GET",url:"/collective/offers-template/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}editCollectiveOfferTemplate(e,r){return this.httpRequest.request({method:"PATCH",url:"/collective/offers-template/{offer_id}",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}createCollectiveOfferTemplateFromCollectiveOffer(e,r){return this.httpRequest.request({method:"POST",url:"/collective/offers-template/{offer_id}/",path:{offer_id:e},body:r,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}deleteOfferTemplateImage(e){return this.httpRequest.request({method:"DELETE",url:"/collective/offers-template/{offer_id}/image",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}attachOfferTemplateImage(e,r){return this.httpRequest.request({method:"POST",url:"/collective/offers-template/{offer_id}/image",path:{offer_id:e},formData:r,mediaType:"multipart/form-data",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchCollectiveOfferTemplatePublication(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers-template/{offer_id}/publish",path:{offer_id:e},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}patchCollectiveOffersActiveStatus(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/active-status",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchAllCollectiveOffersActiveStatus(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/all-active-status",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getAutocompleteEducationalRedactorsForUai(e,r){return this.httpRequest.request({method:"GET",url:"/collective/offers/redactors",query:{uai:e,candidate:r},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCollectiveOffer(e){return this.httpRequest.request({method:"GET",url:"/collective/offers/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}editCollectiveOffer(e,r){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/{offer_id}",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}cancelCollectiveOfferBooking(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/{offer_id}/cancel_booking",path:{offer_id:e},errors:{400:"Bad Request",403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}duplicateCollectiveOffer(e){return this.httpRequest.request({method:"POST",url:"/collective/offers/{offer_id}/duplicate",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchCollectiveOffersEducationalInstitution(e,r){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/{offer_id}/educational_institution",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}deleteOfferImage(e){return this.httpRequest.request({method:"DELETE",url:"/collective/offers/{offer_id}/image",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}attachOfferImage(e,r){return this.httpRequest.request({method:"POST",url:"/collective/offers/{offer_id}/image",path:{offer_id:e},formData:r,mediaType:"multipart/form-data",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchCollectiveOfferPublication(e){return this.httpRequest.request({method:"PATCH",url:"/collective/offers/{offer_id}/publish",path:{offer_id:e},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}createCollectiveStock(e){return this.httpRequest.request({method:"POST",url:"/collective/stocks",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}editCollectiveStock(e,r){return this.httpRequest.request({method:"PATCH",url:"/collective/stocks/{collective_stock_id}",path:{collective_stock_id:e},body:r,mediaType:"application/json",errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}getEducationalPartner(e){return this.httpRequest.request({method:"GET",url:"/cultural-partner/{siret}",path:{siret:e},errors:{401:"Unauthorized",403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}getEducationalPartners(){return this.httpRequest.request({method:"GET",url:"/cultural-partners",errors:{401:"Unauthorized",403:"Forbidden",422:"Unprocessable Entity"}})}getEducationalInstitutions(e=1e3,r=1){return this.httpRequest.request({method:"GET",url:"/educational_institutions",query:{perPageLimit:e,page:r},errors:{401:"Unauthorized",403:"Forbidden",422:"Unprocessable Entity"}})}listFeatures(){return this.httpRequest.request({method:"GET",url:"/features",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getInvoices(e,r,o){return this.httpRequest.request({method:"GET",url:"/finance/invoices",query:{periodBeginningDate:e,periodEndingDate:r,reimbursementPointId:o},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getReimbursementPoints(){return this.httpRequest.request({method:"GET",url:"/finance/reimbursement-points",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getNationalPrograms(){return this.httpRequest.request({method:"GET",url:"/national-programs",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}createOfferer(e){return this.httpRequest.request({method:"POST",url:"/offerers",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteApiKey(e){return this.httpRequest.request({method:"DELETE",url:"/offerers/api_keys/{api_key_prefix}",path:{api_key_prefix:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listEducationalOfferers(e){return this.httpRequest.request({method:"GET",url:"/offerers/educational",query:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listOfferersNames(e,r,o){return this.httpRequest.request({method:"GET",url:"/offerers/names",query:{validated:e,validated_for_user:r,offerer_id:o},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}saveNewOnboardingData(e){return this.httpRequest.request({method:"POST",url:"/offerers/new",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOfferer(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}generateApiKeyRoute(e){return this.httpRequest.request({method:"POST",url:"/offerers/{offerer_id}/api_keys",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffererBankAccountsAndAttachedVenues(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/bank-accounts",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}linkVenueToBankAccount(e,r,o){return this.httpRequest.request({method:"PATCH",url:"/offerers/{offerer_id}/bank-accounts/{bank_account_id}",path:{offerer_id:e,bank_account_id:r},body:o,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffererStatsDashboardUrl(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/dashboard",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}canOffererCreateEducationalOffer(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/eac-eligibility",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}inviteMember(e,r){return this.httpRequest.request({method:"POST",url:"/offerers/{offerer_id}/invite",path:{offerer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffererMembers(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/members",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getAvailableReimbursementPoints(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/reimbursement-points",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffererStats(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/stats",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffererV2Stats(e){return this.httpRequest.request({method:"GET",url:"/offerers/{offerer_id}/v2/stats",path:{offerer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listOffers(e,r,o,s,n,i,a,l,u){return this.httpRequest.request({method:"GET",url:"/offers",query:{nameOrIsbn:e,offererId:r,status:o,venueId:s,categoryId:n,creationMode:i,periodBeginningDate:a,periodEndingDate:l,collectiveOfferType:u},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postOffer(e){return this.httpRequest.request({method:"POST",url:"/offers",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchOffersActiveStatus(e){return this.httpRequest.request({method:"PATCH",url:"/offers/active-status",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchAllOffersActiveStatus(e){return this.httpRequest.request({method:"PATCH",url:"/offers/all-active-status",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getCategories(){return this.httpRequest.request({method:"GET",url:"/offers/categories",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteDraftOffers(e){return this.httpRequest.request({method:"POST",url:"/offers/delete-draft",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchPublishOffer(e){return this.httpRequest.request({method:"PATCH",url:"/offers/publish",body:e,mediaType:"application/json",errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}createThumbnail(e){return this.httpRequest.request({method:"POST",url:"/offers/thumbnails/",formData:e,mediaType:"multipart/form-data",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteThumbnail(e){return this.httpRequest.request({method:"DELETE",url:"/offers/thumbnails/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getOffer(e){return this.httpRequest.request({method:"GET",url:"/offers/{offer_id}",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchOffer(e,r){return this.httpRequest.request({method:"PATCH",url:"/offers/{offer_id}",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postPriceCategories(e,r){return this.httpRequest.request({method:"POST",url:"/offers/{offer_id}/price_categories",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deletePriceCategory(e,r){return this.httpRequest.request({method:"DELETE",url:"/offers/{offer_id}/price_categories/{price_category_id}",path:{offer_id:e,price_category_id:r},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getStocksStats(e){return this.httpRequest.request({method:"GET",url:"/offers/{offer_id}/stocks-stats",path:{offer_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getStocks(e,r,o,s,n,i=!1,a=1,l=20){return this.httpRequest.request({method:"GET",url:"/offers/{offer_id}/stocks/",path:{offer_id:e},query:{date:r,time:o,price_category_id:s,order_by:n,order_by_desc:i,page:a,stocks_limit_per_page:l},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteAllFilteredStocks(e,r){return this.httpRequest.request({method:"POST",url:"/offers/{offer_id}/stocks/all-delete",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteStocks(e,r){return this.httpRequest.request({method:"POST",url:"/offers/{offer_id}/stocks/delete",path:{offer_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getReimbursementsCsv(e,r,o){return this.httpRequest.request({method:"GET",url:"/reimbursements/csv",query:{venueId:e,reimbursementPeriodBeginningDate:r,reimbursementPeriodEndingDate:o},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getSirenInfo(e){return this.httpRequest.request({method:"GET",url:"/sirene/siren/{siren}",path:{siren:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getSiretInfo(e){return this.httpRequest.request({method:"GET",url:"/sirene/siret/{siret}",path:{siret:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}upsertStocks(e){return this.httpRequest.request({method:"POST",url:"/stocks/bulk",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteStock(e){return this.httpRequest.request({method:"DELETE",url:"/stocks/{stock_id}",path:{stock_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}cookiesConsent(e){return this.httpRequest.request({method:"POST",url:"/users/cookies",body:e,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}getProfile(){return this.httpRequest.request({method:"GET",url:"/users/current",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postUserEmail(e){return this.httpRequest.request({method:"POST",url:"/users/email",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getUserEmailPendingValidation(){return this.httpRequest.request({method:"GET",url:"/users/email_pending_validation",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchUserIdentity(e){return this.httpRequest.request({method:"PATCH",url:"/users/identity",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postNewPassword(e){return this.httpRequest.request({method:"POST",url:"/users/new-password",body:e,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}postChangePassword(e){return this.httpRequest.request({method:"POST",url:"/users/password",body:e,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}patchUserPhone(e){return this.httpRequest.request({method:"PATCH",url:"/users/phone",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postProFlags(e){return this.httpRequest.request({method:"POST",url:"/users/pro_flags",body:e,mediaType:"application/json",errors:{400:"Bad Request",403:"Forbidden",422:"Unprocessable Entity"}})}resetPassword(e){return this.httpRequest.request({method:"POST",url:"/users/reset-password",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchProUserRgsSeen(){return this.httpRequest.request({method:"PATCH",url:"/users/rgs-seen",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}signin(e){return this.httpRequest.request({method:"POST",url:"/users/signin",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}signout(){return this.httpRequest.request({method:"GET",url:"/users/signout",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}checkActivationTokenExists(e){return this.httpRequest.request({method:"GET",url:"/users/token/{token}",path:{token:e},errors:{403:"Forbidden",404:"Not Found",422:"Unprocessable Entity"}})}patchUserTutoSeen(){return this.httpRequest.request({method:"PATCH",url:"/users/tuto-seen",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}patchValidateEmail(e){return this.httpRequest.request({method:"PATCH",url:"/users/validate_email",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}signupProV2(e){return this.httpRequest.request({method:"POST",url:"/v2/users/signup/pro",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}validateUser(e){return this.httpRequest.request({method:"PATCH",url:"/validate/user/{token}",path:{token:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}fetchVenueLabels(){return this.httpRequest.request({method:"GET",url:"/venue-labels",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueTypes(){return this.httpRequest.request({method:"GET",url:"/venue-types",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}listVenueProviders(e){return this.httpRequest.request({method:"GET",url:"/venueProviders",query:{venueId:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}createVenueProvider(e){return this.httpRequest.request({method:"POST",url:"/venueProviders",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}updateVenueProvider(e){return this.httpRequest.request({method:"PUT",url:"/venueProviders",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteVenueProvider(e){return this.httpRequest.request({method:"DELETE",url:"/venueProviders/{venue_provider_id}",path:{venue_provider_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenues(e,r,o){return this.httpRequest.request({method:"GET",url:"/venues",query:{validated:e,activeOfferersOnly:r,offererId:o},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}postCreateVenue(e){return this.httpRequest.request({method:"POST",url:"/venues",body:e,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenuesEducationalStatuses(){return this.httpRequest.request({method:"GET",url:"/venues-educational-statuses",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenuesOfOffererFromSiret(e){return this.httpRequest.request({method:"GET",url:"/venues/siret/{siret}",path:{siret:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenue(e){return this.httpRequest.request({method:"GET",url:"/venues/{venue_id}",path:{venue_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}editVenue(e,r){return this.httpRequest.request({method:"PATCH",url:"/venues/{venue_id}",path:{venue_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}deleteVenueBanner(e){return this.httpRequest.request({method:"DELETE",url:"/venues/{venue_id}/banner",path:{venue_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueCollectiveData(e){return this.httpRequest.request({method:"GET",url:"/venues/{venue_id}/collective-data",path:{venue_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}editVenueCollectiveData(e,r){return this.httpRequest.request({method:"PATCH",url:"/venues/{venue_id}/collective-data",path:{venue_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueStatsDashboardUrl(e){return this.httpRequest.request({method:"GET",url:"/venues/{venue_id}/dashboard",path:{venue_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}linkVenueToPricingPoint(e,r){return this.httpRequest.request({method:"POST",url:"/venues/{venue_id}/pricing-point",path:{venue_id:e},body:r,mediaType:"application/json",errors:{403:"Forbidden",422:"Unprocessable Entity"}})}getVenueStats(e){return this.httpRequest.request({method:"GET",url:"/venues/{venue_id}/stats",path:{venue_id:e},errors:{403:"Forbidden",422:"Unprocessable Entity"}})}}class Wo{constructor(e,r=Go){this.request=new r({BASE:(e==null?void 0:e.BASE)??"http://localhost:5001",VERSION:(e==null?void 0:e.VERSION)??"1",WITH_CREDENTIALS:(e==null?void 0:e.WITH_CREDENTIALS)??!1,CREDENTIALS:(e==null?void 0:e.CREDENTIALS)??"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.default=new Mo(this.request)}}class zo{constructor(e){this.config=e}}class at extends Error{constructor(e,r,o){super(o),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=e}}class Ko extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}var H,L,A,X,se,Pe,he;class Jo{constructor(e){w(this,H,void 0);w(this,L,void 0);w(this,A,void 0);w(this,X,void 0);w(this,se,void 0);w(this,Pe,void 0);w(this,he,void 0);v(this,H,!1),v(this,L,!1),v(this,A,!1),v(this,X,[]),v(this,se,new Promise((r,o)=>{v(this,Pe,r),v(this,he,o);const s=a=>{var l;p(this,H)||p(this,L)||p(this,A)||(v(this,H,!0),(l=p(this,Pe))==null||l.call(this,a))},n=a=>{var l;p(this,H)||p(this,L)||p(this,A)||(v(this,L,!0),(l=p(this,he))==null||l.call(this,a))},i=a=>{p(this,H)||p(this,L)||p(this,A)||p(this,X).push(a)};return Object.defineProperty(i,"isResolved",{get:()=>p(this,H)}),Object.defineProperty(i,"isRejected",{get:()=>p(this,L)}),Object.defineProperty(i,"isCancelled",{get:()=>p(this,A)}),e(s,n,i)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(e,r){return p(this,se).then(e,r)}catch(e){return p(this,se).catch(e)}finally(e){return p(this,se).finally(e)}cancel(){var e;if(!(p(this,H)||p(this,L)||p(this,A))){if(v(this,A,!0),p(this,X).length)try{for(const r of p(this,X))r()}catch(r){console.warn("Cancellation threw an error",r);return}p(this,X).length=0,(e=p(this,he))==null||e.call(this,new Ko("Request aborted"))}}get isCancelled(){return p(this,A)}}H=new WeakMap,L=new WeakMap,A=new WeakMap,X=new WeakMap,se=new WeakMap,Pe=new WeakMap,he=new WeakMap;const At=t=>t!=null,je=t=>typeof t=="string",ze=t=>je(t)&&t!=="",Nt=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),Cr=t=>t instanceof FormData,Yo=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},Qo=t=>{const e=[],r=(s,n)=>{e.push(`${encodeURIComponent(s)}=${encodeURIComponent(String(n))}`)},o=(s,n)=>{At(n)&&(Array.isArray(n)?n.forEach(i=>{o(s,i)}):typeof n=="object"?Object.entries(n).forEach(([i,a])=>{o(`${s}[${i}]`,a)}):r(s,n))};return Object.entries(t).forEach(([s,n])=>{o(s,n)}),e.length>0?`?${e.join("&")}`:""},Xo=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,o=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(n,i)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(i)?r(String(e.path[i])):n}),s=`${t.BASE}${o}`;return e.query?`${s}${Qo(e.query)}`:s},Zo=t=>{if(t.formData){const e=new FormData,r=(o,s)=>{je(s)||Nt(s)?e.append(o,s):e.append(o,JSON.stringify(s))};return Object.entries(t.formData).filter(([o,s])=>At(s)).forEach(([o,s])=>{Array.isArray(s)?s.forEach(n=>r(o,n)):r(o,s)}),e}},xe=async(t,e)=>typeof e=="function"?e(t):e,en=async(t,e)=>{const r=await xe(e,t.TOKEN),o=await xe(e,t.USERNAME),s=await xe(e,t.PASSWORD),n=await xe(e,t.HEADERS),i=Object.entries({Accept:"application/json",...n,...e.headers}).filter(([a,l])=>At(l)).reduce((a,[l,u])=>({...a,[l]:String(u)}),{});if(ze(r)&&(i.Authorization=`Bearer ${r}`),ze(o)&&ze(s)){const a=Yo(`${o}:${s}`);i.Authorization=`Basic ${a}`}return e.body&&(e.mediaType?i["Content-Type"]=e.mediaType:Nt(e.body)?i["Content-Type"]=e.body.type||"application/octet-stream":je(e.body)?i["Content-Type"]="text/plain":Cr(e.body)||(i["Content-Type"]="application/json")),new Headers(i)},tn=t=>{var e;if(t.body)return(e=t.mediaType)!=null&&e.includes("/json")?JSON.stringify(t.body):je(t.body)||Nt(t.body)||Cr(t.body)?t.body:JSON.stringify(t.body)},rn=async(t,e,r,o,s,n,i)=>{const a=new AbortController,l={headers:n,body:o??s,method:e.method,signal:a.signal};return t.WITH_CREDENTIALS&&(l.credentials=t.CREDENTIALS),i(()=>a.abort()),fetch(r,l)},on=(t,e)=>{if(e){const r=t.headers.get(e);if(je(r))return r}},nn=async t=>{if(t.status!==204)try{const e=t.headers.get("Content-Type");if(e)return e.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(e){console.error(e)}},sn=(t,e)=>{const o={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(e.status===503){window.location.assign(Pt);return}if(o)throw new at(t,e,o);if(!e.ok)throw new at(t,e,"Generic Error")},an=(t,e)=>new Jo(async(r,o,s)=>{try{const n=Xo(t,e),i=Zo(e),a=tn(e),l=await en(t,e);if(!s.isCancelled){const u=await rn(t,e,n,a,i,l,s),d=await nn(u),h=on(u,e.responseHeader),f={url:n,ok:u.ok,status:u.status,statusText:u.statusText,body:h??d};sn(e,f),r(f.body)}}catch(n){n instanceof at&&n.status===401&&!n.url.includes("/users/current")&&!n.url.includes("/users/signin")&&(window.location.href="/connexion"),n instanceof Error&&(n.message==="Failed to fetch"||n.message.includes("NetworkError"))?console.error(n):o(n)}});class un extends zo{constructor(e){super(e)}request(e){return an(this.config,e)}}class ln{constructor(e){this.httpRequest=e}cancelCollectiveBooking(e){return this.httpRequest.request({method:"PATCH",url:"/v2/collective/bookings/{booking_id}",path:{booking_id:e},errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}listCategories(){return this.httpRequest.request({method:"GET",url:"/v2/collective/categories",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}listEducationalDomains(){return this.httpRequest.request({method:"GET",url:"/v2/collective/educational-domains",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}listEducationalInstitutions(e,r,o,s,n,i,a=20){return this.httpRequest.request({method:"GET",url:"/v2/collective/educational-institutions/",query:{id:e,name:r,institutionType:o,city:s,postalCode:n,uai:i,limit:a},errors:{400:"Requête malformée",401:"Authentification nécessaire",422:"Unprocessable Entity"}})}getNationalPrograms(){return this.httpRequest.request({method:"GET",url:"/v2/collective/national-programs/",errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir ces informations",422:"Unprocessable Entity"}})}getOffererVenues(e){return this.httpRequest.request({method:"GET",url:"/v2/collective/offerer_venues",query:{siren:e},errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}getCollectiveOffersPublic(e,r,o,s){return this.httpRequest.request({method:"GET",url:"/v2/collective/offers/",query:{status:e,venueId:r,periodBeginningDate:o,periodEndingDate:s},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette offre collective",404:"L'offre collective n'existe pas",422:"Unprocessable Entity"}})}postCollectiveOfferPublic(e){return this.httpRequest.request({method:"POST",url:"/v2/collective/offers/",body:e,mediaType:"application/json",errors:{400:"Requête malformée",401:"Authentification nécessaire",403:"Non éligible pour les offres collectives",404:"L'une des resources pour la création de l'offre n'a pas été trouvée",422:"Unprocessable Entity"}})}getOffersFormats(){return this.httpRequest.request({method:"GET",url:"/v2/collective/offers/formats",errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette offre collective",404:"L'offre collective n'existe pas",422:"Unprocessable Entity"}})}getCollectiveOfferPublic(e){return this.httpRequest.request({method:"GET",url:"/v2/collective/offers/{offer_id}",path:{offer_id:e},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette offre collective",404:"L'offre collective n'existe pas",422:"Unprocessable Entity"}})}patchCollectiveOfferPublic(e,r){return this.httpRequest.request({method:"PATCH",url:"/v2/collective/offers/{offer_id}",path:{offer_id:e},body:r,mediaType:"application/json",errors:{400:"Requête malformée",401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour éditer cette offre collective",404:"L'une des resources pour la création de l'offre n'a pas été trouvée",422:"Cetains champs ne peuvent pas être édités selon l'état de l'offre"}})}listStudentsLevels(){return this.httpRequest.request({method:"GET",url:"/v2/collective/student-levels",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}listSubcategories(){return this.httpRequest.request({method:"GET",url:"/v2/collective/subcategories",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}listVenues(){return this.httpRequest.request({method:"GET",url:"/v2/collective/venues",errors:{401:"Authentification nécessaire",422:"Unprocessable Entity"}})}}class cn{constructor(e){this.httpRequest=e}patchCancelBookingByToken(e){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/cancel/token/{token}",path:{token:e},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour annuler cette contremarque ou la réservation a déjà été validée",404:"La contremarque n'existe pas",410:"La contremarque a déjà été annulée",422:"Unprocessable Entity"}})}patchBookingKeepByToken(e){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/keep/token/{token}",path:{token:e},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:"La requête est refusée car la contremarque n'a pas encore été validée, a été annulée, ou son remboursement a été initié",422:"Unprocessable Entity"}})}getBookingByTokenV2(e){return this.httpRequest.request({method:"GET",url:"/v2/bookings/token/{token}",path:{token:e},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:`Cette contremarque a été validée.
        En l’invalidant vous indiquez qu’elle n’a pas été utilisée et vous ne serez pas remboursé.`,422:"Unprocessable Entity"}})}patchBookingUseByToken(e){return this.httpRequest.request({method:"PATCH",url:"/v2/bookings/use/token/{token}",path:{token:e},errors:{401:"Authentification nécessaire",403:"Vous n'avez pas les droits nécessaires pour voir cette contremarque",404:"La contremarque n'existe pas",410:`Cette contremarque a été validée.
        En l’invalidant vous indiquez qu’elle n’a pas été utilisée et vous ne serez pas remboursé.`,422:"Unprocessable Entity"}})}}class dn{constructor(e,r=un){this.request=new r({BASE:(e==null?void 0:e.BASE)??"http://localhost:5001",VERSION:(e==null?void 0:e.VERSION)??"2",WITH_CREDENTIALS:(e==null?void 0:e.WITH_CREDENTIALS)??!1,CREDENTIALS:(e==null?void 0:e.CREDENTIALS)??"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.apiOffresCollectives=new ln(this.request),this.dPrCiEApiContremarque=new cn(this.request)}}const pn=new URLSearchParams(window.location.search),fn=pn.get("token"),Ur={BASE:Tr,VERSION:"1",WITH_CREDENTIALS:!0,CREDENTIALS:"include"},hn={BASE:Tr,VERSION:"1",WITH_CREDENTIALS:!1,CREDENTIALS:"omit",TOKEN:fn??""},zt=new Wo(Ur).default;new dn(Ur).dPrCiEApiContremarque;new Fo(hn).default;function N(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ee(t){return!!t&&!!t[R]}function W(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var o=Object.getPrototypeOf(r);if(o===null)return!0;var s=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Tn}(t)||Array.isArray(t)||!!t[er]||!!(!((e=t.constructor)===null||e===void 0)&&e[er])||xt(t)||kt(t))}function ae(t,e,r){r===void 0&&(r=!1),ye(t)===0?(r?Object.keys:de)(t).forEach(function(o){r&&typeof o=="symbol"||e(o,t[o],t)}):t.forEach(function(o,s){return e(s,o,t)})}function ye(t){var e=t[R];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xt(t)?2:kt(t)?3:0}function ce(t,e){return ye(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mn(t,e){return ye(t)===2?t.get(e):t[e]}function jr(t,e,r){var o=ye(t);o===2?t.set(e,r):o===3?t.add(r):t[e]=r}function Ir(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xt(t){return qn&&t instanceof Map}function kt(t){return _n&&t instanceof Set}function re(t){return t.o||t.t}function Dt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Nr(t);delete e[R];for(var r=de(e),o=0;o<r.length;o++){var s=r[o],n=e[s];n.writable===!1&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(e[s]={configurable:!0,writable:!0,enumerable:n.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function Vt(t,e){return e===void 0&&(e=!1),Bt(t)||ee(t)||!W(t)||(ye(t)>1&&(t.set=t.add=t.clear=t.delete=yn),Object.freeze(t),e&&ae(t,function(r,o){return Vt(o,!0)},!0)),t}function yn(){N(2)}function Bt(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function G(t){var e=dt[t];return e||N(18,t),e}function bn(t,e){dt[t]||(dt[t]=e)}function ut(){return _e}function Ke(t,e){e&&(G("Patches"),t.u=[],t.s=[],t.v=e)}function De(t){lt(t),t.p.forEach(gn),t.p=null}function lt(t){t===_e&&(_e=t.l)}function Kt(t){return _e={p:[],l:_e,h:t,m:!0,_:0}}function gn(t){var e=t[R];e.i===0||e.i===1?e.j():e.g=!0}function Je(t,e){e._=e.p.length;var r=e.p[0],o=t!==void 0&&t!==r;return e.h.O||G("ES5").S(e,t,o),o?(r[R].P&&(De(e),N(4)),W(t)&&(t=Ve(e,t),e.l||Be(e,t)),e.u&&G("Patches").M(r[R].t,t,e.u,e.s)):t=Ve(e,r,[]),De(e),e.u&&e.v(e.u,e.s),t!==Ar?t:void 0}function Ve(t,e,r){if(Bt(e))return e;var o=e[R];if(!o)return ae(e,function(a,l){return Jt(t,o,e,a,l,r)},!0),e;if(o.A!==t)return e;if(!o.P)return Be(t,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var s=o.i===4||o.i===5?o.o=Dt(o.k):o.o,n=s,i=!1;o.i===3&&(n=new Set(s),s.clear(),i=!0),ae(n,function(a,l){return Jt(t,o,s,a,l,r,i)}),Be(t,s,!1),r&&t.u&&G("Patches").N(o,r,t.u,t.s)}return o.o}function Jt(t,e,r,o,s,n,i){if(ee(s)){var a=Ve(t,s,n&&e&&e.i!==3&&!ce(e.R,o)?n.concat(o):void 0);if(jr(r,o,a),!ee(a))return;t.m=!1}else i&&r.add(s);if(W(s)&&!Bt(s)){if(!t.h.D&&t._<1)return;Ve(t,s),e&&e.A.l||Be(t,s)}}function Be(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&Vt(e,r)}function Ye(t,e){var r=t[R];return(r?re(r):t)[e]}function Yt(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var o=Object.getOwnPropertyDescriptor(r,e);if(o)return o;r=Object.getPrototypeOf(r)}}function J(t){t.P||(t.P=!0,t.l&&J(t.l))}function Qe(t){t.o||(t.o=Dt(t.t))}function ct(t,e,r){var o=xt(e)?G("MapSet").F(e,r):kt(e)?G("MapSet").T(e,r):t.O?function(s,n){var i=Array.isArray(s),a={i:i?1:0,A:n?n.A:ut(),P:!1,I:!1,R:{},l:n,t:s,k:null,o:null,j:null,C:!1},l=a,u=Te;i&&(l=[a],u=ge);var d=Proxy.revocable(l,u),h=d.revoke,f=d.proxy;return a.k=f,a.j=h,f}(e,r):G("ES5").J(e,r);return(r?r.A:ut()).p.push(o),o}function vn(t){return ee(t)||N(22,t),function e(r){if(!W(r))return r;var o,s=r[R],n=ye(r);if(s){if(!s.P&&(s.i<4||!G("ES5").K(s)))return s.t;s.I=!0,o=Qt(r,n),s.I=!1}else o=Qt(r,n);return ae(o,function(i,a){s&&mn(s.t,i)===a||jr(o,i,e(a))}),n===3?new Set(o):o}(t)}function Qt(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Dt(t)}function En(){function t(n,i){var a=s[n];return a?a.enumerable=i:s[n]=a={configurable:!0,enumerable:i,get:function(){var l=this[R];return Te.get(l,n)},set:function(l){var u=this[R];Te.set(u,n,l)}},a}function e(n){for(var i=n.length-1;i>=0;i--){var a=n[i][R];if(!a.P)switch(a.i){case 5:o(a)&&J(a);break;case 4:r(a)&&J(a)}}}function r(n){for(var i=n.t,a=n.k,l=de(a),u=l.length-1;u>=0;u--){var d=l[u];if(d!==R){var h=i[d];if(h===void 0&&!ce(i,d))return!0;var f=a[d],m=f&&f[R];if(m?m.t!==h:!Ir(f,h))return!0}}var y=!!i[R];return l.length!==de(i).length+(y?0:1)}function o(n){var i=n.k;if(i.length!==n.t.length)return!0;var a=Object.getOwnPropertyDescriptor(i,i.length-1);if(a&&!a.get)return!0;for(var l=0;l<i.length;l++)if(!i.hasOwnProperty(l))return!0;return!1}var s={};bn("ES5",{J:function(n,i){var a=Array.isArray(n),l=function(d,h){if(d){for(var f=Array(h.length),m=0;m<h.length;m++)Object.defineProperty(f,""+m,t(m,!0));return f}var y=Nr(h);delete y[R];for(var b=de(y),q=0;q<b.length;q++){var g=b[q];y[g]=t(g,d||!!y[g].enumerable)}return Object.create(Object.getPrototypeOf(h),y)}(a,n),u={i:a?5:4,A:i?i.A:ut(),P:!1,I:!1,R:{},l:i,t:n,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,R,{value:u,writable:!0}),l},S:function(n,i,a){a?ee(i)&&i[R].A===n&&e(n.p):(n.u&&function l(u){if(u&&typeof u=="object"){var d=u[R];if(d){var h=d.t,f=d.k,m=d.R,y=d.i;if(y===4)ae(f,function(T){T!==R&&(h[T]!==void 0||ce(h,T)?m[T]||l(f[T]):(m[T]=!0,J(d)))}),ae(h,function(T){f[T]!==void 0||ce(f,T)||(m[T]=!1,J(d))});else if(y===5){if(o(d)&&(J(d),m.length=!0),f.length<h.length)for(var b=f.length;b<h.length;b++)m[b]=!1;else for(var q=h.length;q<f.length;q++)m[q]=!0;for(var g=Math.min(f.length,h.length),_=0;_<g;_++)f.hasOwnProperty(_)||(m[_]=!0),m[_]===void 0&&l(f[_])}}}}(n.p[0]),e(n.p))},K:function(n){return n.i===4?r(n):o(n)}})}var Xt,_e,$t=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",qn=typeof Map<"u",_n=typeof Set<"u",Zt=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ar=$t?Symbol.for("immer-nothing"):((Xt={})["immer-nothing"]=!0,Xt),er=$t?Symbol.for("immer-draftable"):"__$immer_draftable",R=$t?Symbol.for("immer-state"):"__$immer_state",Tn=""+Object.prototype.constructor,de=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Nr=Object.getOwnPropertyDescriptors||function(t){var e={};return de(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},dt={},Te={get:function(t,e){if(e===R)return t;var r=re(t);if(!ce(r,e))return function(s,n,i){var a,l=Yt(n,i);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(s.k):void 0}(t,r,e);var o=r[e];return t.I||!W(o)?o:o===Ye(t.t,e)?(Qe(t),t.o[e]=ct(t.A.h,o,t)):o},has:function(t,e){return e in re(t)},ownKeys:function(t){return Reflect.ownKeys(re(t))},set:function(t,e,r){var o=Yt(re(t),e);if(o!=null&&o.set)return o.set.call(t.k,r),!0;if(!t.P){var s=Ye(re(t),e),n=s==null?void 0:s[R];if(n&&n.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(Ir(r,s)&&(r!==void 0||ce(t.t,e)))return!0;Qe(t),J(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return Ye(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Qe(t),J(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=re(t),o=Reflect.getOwnPropertyDescriptor(r,e);return o&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:o.enumerable,value:r[e]}},defineProperty:function(){N(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){N(12)}},ge={};ae(Te,function(t,e){ge[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ge.deleteProperty=function(t,e){return ge.set.call(this,t,e,void 0)},ge.set=function(t,e,r){return Te.set.call(this,t[0],e,r,t[0])};var Rn=function(){function t(r){var o=this;this.O=Zt,this.D=!0,this.produce=function(s,n,i){if(typeof s=="function"&&typeof n!="function"){var a=n;n=s;var l=o;return function(b){var q=this;b===void 0&&(b=a);for(var g=arguments.length,_=Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];return l.produce(b,function(O){var P;return(P=n).call.apply(P,[q,O].concat(_))})}}var u;if(typeof n!="function"&&N(6),i!==void 0&&typeof i!="function"&&N(7),W(s)){var d=Kt(o),h=ct(o,s,void 0),f=!0;try{u=n(h),f=!1}finally{f?De(d):lt(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(b){return Ke(d,i),Je(b,d)},function(b){throw De(d),b}):(Ke(d,i),Je(u,d))}if(!s||typeof s!="object"){if((u=n(s))===void 0&&(u=s),u===Ar&&(u=void 0),o.D&&Vt(u,!0),i){var m=[],y=[];G("Patches").M(s,u,m,y),i(m,y)}return u}N(21,s)},this.produceWithPatches=function(s,n){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return o.produceWithPatches(u,function(m){return s.apply(void 0,[m].concat(h))})};var i,a,l=o.produce(s,n,function(u,d){i=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,i,a]}):[l,i,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){W(r)||N(8),ee(r)&&(r=vn(r));var o=Kt(this),s=ct(this,r,void 0);return s[R].C=!0,lt(o),s},e.finishDraft=function(r,o){var s=r&&r[R],n=s.A;return Ke(n,o),Je(void 0,n)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!Zt&&N(20),this.O=r},e.applyPatches=function(r,o){var s;for(s=o.length-1;s>=0;s--){var n=o[s];if(n.path.length===0&&n.op==="replace"){r=n.value;break}}s>-1&&(o=o.slice(s+1));var i=G("Patches").$;return ee(r)?i(r,o):this.produce(r,function(a){return i(a,o)})},t}(),C=new Rn,xr=C.produce;C.produceWithPatches.bind(C);C.setAutoFreeze.bind(C);C.setUseProxies.bind(C);C.applyPatches.bind(C);C.createDraft.bind(C);C.finishDraft.bind(C);var kr=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(o[n]=s[n])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sn=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,s,n,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return l([u,d])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,s&&(n=u[0]&2?s.return:u[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,u[1])).done)return n;switch(s=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){r.label=u[1];break}if(u[0]===6&&r.label<n[1]){r.label=n[1],n=u;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(u);break}n[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Re=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,o=e.length,s=t.length;r<o;r++,s++)t[s]=e[r];return t},wn=Object.defineProperty,Pn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,tr=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,rr=function(t,e,r){return e in t?wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},ie=function(t,e){for(var r in e||(e={}))Fn.call(e,r)&&rr(t,r,e[r]);if(tr)for(var o=0,s=tr(e);o<s.length;o++){var r=s[o];Cn.call(e,r)&&rr(t,r,e[r])}return t},Xe=function(t,e){return Pn(t,On(e))},Un=function(t,e,r){return new Promise(function(o,s){var n=function(l){try{a(r.next(l))}catch(u){s(u)}},i=function(l){try{a(r.throw(l))}catch(u){s(u)}},a=function(l){return l.done?o(l.value):Promise.resolve(l.value).then(n,i)};a((r=r.apply(t,e)).next())})};function Z(t,e){function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(e){var n=e.apply(void 0,o);if(!n)throw new Error("prepareAction did not return an object");return ie(ie({type:t,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:t,payload:o[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(o){return o.type===t},r}(function(t){kr(e,t);function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=t.apply(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Re([void 0],r[0].concat(this)))):new(e.bind.apply(e,Re([void 0],r.concat(this))))},e})(Array);(function(t){kr(e,t);function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=t.apply(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Re([void 0],r[0].concat(this)))):new(e.bind.apply(e,Re([void 0],r.concat(this))))},e})(Array);function pt(t){return W(t)?xr(t,function(){}):t}function Dr(t){var e={},r=[],o,s={addCase:function(n,i){var a=typeof n=="string"?n:n.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=i,s},addMatcher:function(n,i){return r.push({matcher:n,reducer:i}),s},addDefaultCase:function(n){return o=n,s}};return t(s),[e,r,o]}function jn(t){return typeof t=="function"}function In(t,e,r,o){r===void 0&&(r=[]);var s=typeof e=="function"?Dr(e):[e,r,o],n=s[0],i=s[1],a=s[2],l;if(jn(t))l=function(){return pt(t())};else{var u=pt(t);l=function(){return u}}function d(h,f){h===void 0&&(h=l());var m=Re([n[f.type]],i.filter(function(y){var b=y.matcher;return b(f)}).map(function(y){var b=y.reducer;return b}));return m.filter(function(y){return!!y}).length===0&&(m=[a]),m.reduce(function(y,b){if(b)if(ee(y)){var q=y,g=b(q,f);return g===void 0?y:g}else{if(W(y))return xr(y,function(_){return b(_,f)});var g=b(y,f);if(g===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return y},h)}return d.getInitialState=l,d}function An(t,e){return t+"/"+e}function Vr(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:pt(t.initialState),o=t.reducers||{},s=Object.keys(o),n={},i={},a={};s.forEach(function(d){var h=o[d],f=An(e,d),m,y;"reducer"in h?(m=h.reducer,y=h.prepare):m=h,n[d]=m,i[f]=m,a[d]=y?Z(f,y):Z(f)});function l(){var d=typeof t.extraReducers=="function"?Dr(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,m=d[1],y=m===void 0?[]:m,b=d[2],q=b===void 0?void 0:b,g=ie(ie({},f),i);return In(r,function(_){for(var T in g)_.addCase(T,g[T]);for(var O=0,P=y;O<P.length;O++){var U=P[O];_.addMatcher(U.matcher,U.reducer)}q&&_.addDefaultCase(q)})}var u;return{name:e,reducer:function(d,h){return u||(u=l()),u(d,h)},actions:a,caseReducers:n,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Nn="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xn=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=Nn[Math.random()*64|0];return e},kn=["name","message","stack","code"],Ze=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),or=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Dn=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,o=kn;r<o.length;r++){var s=o[r];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,r,o){var s=Z(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:Xe(ie({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),n=Z(e+"/pending",function(u,d,h){return{payload:void 0,meta:Xe(ie({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),i=Z(e+"/rejected",function(u,d,h,f,m){return{payload:f,error:(o&&o.serializeError||Dn)(u||"Rejected"),meta:Xe(ie({},m||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(d,h,f){var m=o!=null&&o.idGenerator?o.idGenerator(u):xn(),y=new a,b;function q(_){b=_,y.abort()}var g=function(){return Un(this,null,function(){var _,T,O,P,U,x,k;return Sn(this,function(z){switch(z.label){case 0:return z.trys.push([0,4,,5]),P=(_=o==null?void 0:o.condition)==null?void 0:_.call(o,u,{getState:h,extra:f}),Bn(P)?[4,P]:[3,2];case 1:P=z.sent(),z.label=2;case 2:if(P===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return U=new Promise(function(F,te){return y.signal.addEventListener("abort",function(){return te({name:"AbortError",message:b||"Aborted"})})}),d(n(m,u,(T=o==null?void 0:o.getPendingMeta)==null?void 0:T.call(o,{requestId:m,arg:u},{getState:h,extra:f}))),[4,Promise.race([U,Promise.resolve(r(u,{dispatch:d,getState:h,extra:f,requestId:m,signal:y.signal,abort:q,rejectWithValue:function(F,te){return new Ze(F,te)},fulfillWithValue:function(F,te){return new or(F,te)}})).then(function(F){if(F instanceof Ze)throw F;return F instanceof or?s(F.payload,m,u,F.meta):s(F,m,u)})])];case 3:return O=z.sent(),[3,5];case 4:return x=z.sent(),O=x instanceof Ze?i(null,m,u,x.payload,x.meta):i(x,m,u),[3,5];case 5:return k=o&&!o.dispatchConditionRejection&&i.match(O)&&O.meta.condition,k||d(O),[2,O]}})})}();return Object.assign(g,{abort:q,requestId:m,arg:u,unwrap:function(){return g.then(Vn)}})}}return Object.assign(l,{pending:n,rejected:i,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function Vn(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Bn(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ht="listenerMiddleware";Z(Ht+"/add");Z(Ht+"/removeAll");Z(Ht+"/remove");var nr;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);En();const $n={list:[]},Hn=Vr({name:"features",initialState:$n,reducers:{updateFeatures:(t,e)=>{t.list=e.payload}}}),{updateFeatures:sr}=Hn.actions,Ln={currentUser:null},Gn=Vr({name:"user",initialState:Ln,reducers:{updateUser:(t,e)=>{t.currentUser=e.payload}}}),{updateUser:ir}=Gn.actions,ft=({message:t="Chargement en cours",className:e})=>{const[r,o]=S.useState(3),[s,n]=S.useState(null);return S.useEffect(()=>{s&&window.clearInterval(s);const i=window.setInterval(()=>{o(a=>a%3+1)},500);return n(i),()=>{window.clearInterval(i)}},[]),c.jsxs("div",{className:Ot("loading-spinner",e),"data-testid":"spinner",children:[c.jsx(Ft,{src:Wr,alt:"",className:"loading-spinner-icon"}),c.jsx("div",{className:"content","data-dots":Array(r).fill(".").join(""),children:t})]})};try{ft.displayName="Spinner",ft.__docgenInfo={description:"",displayName:"Spinner",props:{message:{defaultValue:{value:"Chargement en cours"},description:"",name:"message",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ht=({children:t,isAdageIframe:e=!1})=>{const r=Mr(),[o,s]=S.useState(!1);return S.useEffect(()=>{const n=async()=>{if(!e)try{const l=await zt.getProfile();r(ir(l))}catch{r(ir(null))}},i=async()=>{try{const l=await zt.listFeatures();r(sr(l))}catch{r(sr([]))}};(async()=>{await Promise.all([n(),i()]),s(!0)})()},[e,r]),o?t:c.jsx("main",{id:"content",className:"spinner-container",children:c.jsx(ft,{})})};try{ht.displayName="StoreProvider",ht.__docgenInfo={description:"",displayName:"StoreProvider",props:{isAdageIframe:{defaultValue:{value:"false"},description:"",name:"isAdageIframe",required:!1,type:{name:"boolean"}}}}}catch{}const Mn=""+new URL("offer-home-shell-d20f1443.png",import.meta.url).href,Wn=""+new URL("offer-shell-ba5c7311.png",import.meta.url).href,ar={"image-preview-shell":"_image-preview-shell_1xnl4_1","image-preview-home-preview":"_image-preview-home-preview_1xnl4_6"},et={"image-preview-shell":"_image-preview-shell_glg9w_1","image-preview-blur-offer-preview":"_image-preview-blur-offer-preview_glg9w_7","image-preview-offer-preview":"_image-preview-offer-preview_glg9w_16"},me=({imageUrl:t})=>c.jsxs(wr,{children:[c.jsxs(ke,{title:"Page d’accueil",children:[c.jsx("img",{alt:"",className:ar["image-preview-shell"],src:Mn}),c.jsx("img",{"data-testid":"app-preview-offer-img-home",alt:"",className:ar["image-preview-home-preview"],src:t})]}),c.jsxs(ke,{title:"Détails de l’offre",children:[c.jsx("img",{alt:"",className:et["image-preview-blur-offer-preview"],src:t}),c.jsx("img",{alt:"",className:et["image-preview-shell"],src:Wn}),c.jsx("img",{"data-testid":"app-preview-offer-img",alt:"",className:et["image-preview-offer-preview"],src:t})]})]});try{me.displayName="AppPreviewOffer",me.__docgenInfo={description:"",displayName:"AppPreviewOffer",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const zn=""+new URL("venue-home-shell-9bfd5682.png",import.meta.url).href,Kn=""+new URL("venue-shell-5e096072.png",import.meta.url).href,ur={"image-preview-shell":"_image-preview-shell_3dbf9_1","image-preview-home-preview":"_image-preview-home-preview_3dbf9_6"},tt={"image-preview-shell":"_image-preview-shell_gbu12_1","image-preview-blur-venue-preview":"_image-preview-blur-venue-preview_gbu12_7","image-preview-venue-preview":"_image-preview-venue-preview_gbu12_16"},$e=({imageUrl:t})=>{const e=Pr(),r=S.useCallback(()=>{e.error("Une erreur est survenue. Merci de réessayer plus tard")},[e]);return c.jsxs(wr,{children:[c.jsxs(ke,{title:"Page d’accueil",children:[c.jsx("img",{alt:"",className:ur["image-preview-shell"],src:zn}),c.jsx("img",{"data-testid":"app-preview-venue-img-home",alt:"",className:ur["image-preview-home-preview"],onError:r,src:t})]}),c.jsxs(ke,{title:"Page Lieu",children:[c.jsx("img",{alt:"",className:tt["image-preview-blur-venue-preview"],src:t}),c.jsx("img",{alt:"",className:tt["image-preview-shell"],src:Kn}),c.jsx("img",{"data-testid":"app-preview-venue-img",alt:"",className:tt["image-preview-venue-preview"],src:t})]})]})};try{$e.displayName="AppPreviewVenue",$e.__docgenInfo={description:"",displayName:"AppPreviewVenue",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}var E=(t=>(t.OFFER="offer",t.OFFER_COLLECTIVE="offer_collective",t.VENUE="venue",t))(E||{});const Jn="_container_uuguy_2",Yn="_header_uuguy_8",Qn="_subtitle_uuguy_17",Xn="_actions_uuguy_23",Zn="_button_uuguy_28",rt={container:Jn,header:Yn,subtitle:Qn,actions:Xn,button:Zn},mt=({mode:t,hideModal:e,imageUrl:r})=>{const o={[E.VENUE]:$e,[E.OFFER]:me,[E.OFFER_COLLECTIVE]:me}[t];return c.jsx(Sr,{hasCloseButton:!0,labelledBy:"Ajouter une image",onDismiss:e,children:c.jsxs("div",{className:rt.container,children:[c.jsx("header",{children:c.jsx("h1",{className:rt.header,children:"Ajouter une image"})}),c.jsx("div",{className:rt.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),c.jsx(o,{imageUrl:r})]})})};try{mt.displayName="ModalAppPreview",mt.__docgenInfo={description:"",displayName:"ModalAppPreview",props:{hideModal:{defaultValue:null,description:"",name:"hideModal",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const yt=({imageUrl:t,mode:e})=>{const[r,o]=S.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx(Oe,{onClick:()=>o(!0),variant:Fe.TERNARY,icon:zr,children:"Prévisualiser"}),r&&t&&c.jsx(mt,{mode:e,imageUrl:t,hideModal:()=>o(!1)})]})};try{yt.displayName="ButtonAppPreview",yt.__docgenInfo={description:"",displayName:"ButtonAppPreview",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const es={"button-image-delete-icon":"_button-image-delete-icon_ooh4c_1"},bt=({isLoading:t,onConfirm:e,onDismiss:r})=>c.jsx(Zr,{cancelText:"Retour",confirmText:"Supprimer",icon:eo,isLoading:t,onCancel:r,onConfirm:e,title:"Supprimer l’image",children:"Souhaitez-vous vraiment supprimer cette image ?"});try{bt.displayName="ModalImageDelete",bt.__docgenInfo={description:"",displayName:"ModalImageDelete",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"() => void"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}}}}}catch{}const gt=({onImageDelete:t})=>{const[e,r]=S.useState(!1),[o,s]=S.useState(!1),n=()=>{s(!0),t()};return c.jsxs(c.Fragment,{children:[c.jsxs(Oe,{onClick:()=>r(!0),variant:Fe.TERNARY,children:[c.jsx(Ft,{alt:"",className:es["button-image-delete-icon"],src:Xr}),"Supprimer"]}),e&&c.jsx(bt,{isLoading:o,onConfirm:n,onDismiss:()=>r(!1)})]})};try{gt.displayName="ButtonImageDelete",gt.__docgenInfo={description:"",displayName:"ButtonImageDelete",props:{onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}}}}}catch{}const ts="_icon_bzfcf_32",rs="_label_bzfcf_38",be={"button-image-add":"_button-image-add_bzfcf_2","add-image-venue":"_add-image-venue_bzfcf_14","add-image-offer":"_add-image-offer_bzfcf_18","image-upload-button-label":"_image-upload-button-label_bzfcf_25",icon:ts,label:rs},vt=({onClick:t,mode:e})=>c.jsxs("button",{className:Ot(be["button-image-add"],{[be["add-image-venue"]]:e===E.VENUE,[be["add-image-offer"]]:e===E.OFFER||e===E.OFFER_COLLECTIVE}),onClick:t,type:"button",children:[c.jsx(Ft,{src:Kr,alt:"",className:be.icon}),c.jsxs("span",{className:be.label,children:["Ajouter ",c.jsx("br",{})," une image"]})]});try{vt.displayName="ButtonImageAdd",vt.__docgenInfo={description:"",displayName:"ButtonImageAdd",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const os=async(t,e="image.jpg")=>{const o=await(await fetch(t)).blob();return new File([o],e,{type:o.type})},He=(t,e)=>t+e/2,ns=t=>1/t,Br={[E.OFFER]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[E.OFFER_COLLECTIVE]:{maxSize:1e7,minWidth:400,types:["image/png","image/jpeg"],minHeight:600},[E.VENUE]:{maxSize:1e7,minWidth:600,types:["image/png","image/jpeg"],minHeight:400}},ss=t=>{const[e,r]=S.useState(0),[o,s]=S.useState(0);return S.useEffect(()=>{io(t).then(n=>{n&&(r(n.width),s(n.height))})},[]),{width:e,height:o}},ue={"modal-image-crop":"_modal-image-crop_11rti_2","modal-image-crop-form":"_modal-image-crop-form_11rti_13","modal-image-crop-header":"_modal-image-crop-header_11rti_19","modal-image-crop-right":"_modal-image-crop-right_11rti_27","modal-image-crop-credit":"_modal-image-crop-credit_11rti_33","modal-image-crop-footer":"_modal-image-crop-footer_11rti_39"},is=({originalDimensions:t,orientation:e})=>e==="landscape"?{width:Math.floor(Math.min(t.width,t.height/2*3)),height:Math.floor(Math.min(t.height,t.width/3*2))}:{width:Math.floor(Math.min(t.width,t.height/3*2)),height:Math.floor(Math.min(t.height,t.width/2*3))},Et=({onReplaceImage:t,image:e,credit:r,onSetCredit:o,onEditedImageSave:s,saveInitialPosition:n,initialPosition:i,initialScale:a,mode:l,submitButtonText:u})=>{const{width:d,height:h}=ss(e),f=S.useRef(null),m=Pr(),y=Br[l].minWidth,{width:b}=is({originalDimensions:{width:d,height:h},orientation:l===E.VENUE?"landscape":"portrait"}),q=Math.min(4,(b-10)/y),g={[E.OFFER]:384,[E.OFFER_COLLECTIVE]:384,[E.VENUE]:244}[l],_={[E.OFFER]:{canvasHeight:g,canvasWidth:g*6/9,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:q},[E.OFFER_COLLECTIVE]:{canvasHeight:g,canvasWidth:g*6/9,cropBorderColor:"#FFF",cropBorderHeight:50,cropBorderWidth:105,maxScale:q},[E.VENUE]:{canvasHeight:g,canvasWidth:g*3/2,cropBorderColor:"#FFF",cropBorderHeight:40,cropBorderWidth:100,maxScale:q}}[l],P=ro({initialValues:{credit:r||"",scale:a||1},onSubmit:U=>{try{if(f.current){const x=f.current.getImage(),k=f.current.getCroppingRect();n({x:He(k.x,k.width),y:He(k.y,k.height)}),s(x.toDataURL(),k)}o(U.credit)}catch{m.error("Une erreur est survenue. Merci de réessayer plus tard")}}});return c.jsx("section",{className:ue["modal-image-crop"],children:c.jsx(oo,{value:P,children:c.jsxs(no,{onSubmit:P.handleSubmit,children:[c.jsxs("div",{className:ue["modal-image-crop-form"],children:[c.jsx("header",{children:c.jsx("h1",{className:ue["modal-image-crop-header"],children:"Ajouter une image"})}),c.jsx("p",{className:ue["modal-image-crop-right"],children:"En utilisant ce contenu, je certifie que je suis propriétaire ou que je dispose des autorisations nécessaires pour l’utilisation de celui-ci."}),c.jsx(so,{..._,image:e,initialPosition:i,ref:f}),c.jsx(Qr,{countCharacters:!0,className:ue["modal-image-crop-credit"],label:"Crédit de l’image",maxLength:255,name:"credit",placeholder:"Photographe...",required:!1,type:"text"})]}),c.jsx(Yr,{}),c.jsxs("footer",{className:ue["modal-image-crop-footer"],children:[c.jsx(Oe,{icon:Jr,onClick:t,variant:Fe.TERNARY,children:"Remplacer l’image"}),c.jsx(Rr,{children:u})]})]})})})};try{Et.displayName="ModalImageCrop",Et.__docgenInfo={description:"",displayName:"ModalImageCrop",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"File"}},credit:{defaultValue:null,description:"",name:"credit",required:!0,type:{name:"string"}},onSetCredit:{defaultValue:null,description:"",name:"onSetCredit",required:!0,type:{name:"(credit: string) => void"}},onReplaceImage:{defaultValue:null,description:"",name:"onReplaceImage",required:!0,type:{name:"() => void"}},initialPosition:{defaultValue:null,description:"",name:"initialPosition",required:!1,type:{name:"Position"}},initialScale:{defaultValue:null,description:"",name:"initialScale",required:!1,type:{name:"number"}},saveInitialPosition:{defaultValue:null,description:"",name:"saveInitialPosition",required:!0,type:{name:"(position: Position) => void"}},onEditedImageSave:{defaultValue:null,description:"",name:"onEditedImageSave",required:!0,type:{name:"(dataUrl: string, croppedRect: CroppedRect) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!0,type:{name:"string"}}}}}catch{}const as=({constraints:t})=>lo().shape(t.reduce((e,r)=>({...e,[r.id]:co().test({message:r.description,test:(o,s)=>r.asyncValidator(s.parent.image)})}),{})),qt=({onSubmit:t,mode:e})=>{const[r,o]=S.useState([]),s=Br[e],n=[Ie.formats(s.types),Ie.size(s.maxSize),Ie.width(s.minWidth),Ie.height(s.minHeight)],i=as({constraints:n}),a=l=>{const u=l.currentTarget.files&&l.currentTarget.files[0]||null;u&&i.validate({image:u},{abortEarly:!1}).then(()=>t({image:u})).catch(d=>o(d.inner.map(h=>h.path||"unknown")))};return c.jsxs("form",{onSubmit:l=>l.preventDefault(),children:[c.jsx(uo,{label:"Importer une image depuis l’ordinateur",fileTypes:["image/png","image/jpeg"],isValid:r.length===0,onChange:a}),c.jsx(ao,{constraints:n,failingConstraints:r})]})};try{qt.displayName="ImageUploadBrowserForm",qt.__docgenInfo={description:"",displayName:"ImageUploadBrowserForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const us="_header_gcnvk_13",lr={"modal-upload-browser":"_modal-upload-browser_gcnvk_2",header:us,"horizontal-rule":"_horizontal-rule_gcnvk_19"},_t=({onImageClientUpload:t,mode:e})=>{const r={[E.OFFER]:"portrait",[E.OFFER_COLLECTIVE]:"portrait",[E.VENUE]:"landscape"}[e];return c.jsxs("section",{className:lr["modal-upload-browser"],children:[c.jsx("header",{children:c.jsx("h1",{className:lr.header,children:"Ajouter une image"})}),c.jsx(po,{orientation:r}),c.jsx(qt,{onSubmit:t,mode:e})]})};try{_t.displayName="ModalImageUploadBrowser",_t.__docgenInfo={description:"",displayName:"ModalImageUploadBrowser",props:{onImageClientUpload:{defaultValue:null,description:"",name:"onImageClientUpload",required:!0,type:{name:"(values: ImageUploadBrowserFormValues) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const ls="_container_4bsmh_2",cs="_header_4bsmh_8",ds="_subtitle_4bsmh_17",ps="_actions_4bsmh_23",fs="_button_4bsmh_29",le={container:ls,header:cs,subtitle:ds,actions:ps,button:fs},Tt=({imageUrl:t,isUploading:e,onGoBack:r,onUploadImage:o,mode:s})=>{const n={[E.VENUE]:$e,[E.OFFER]:me,[E.OFFER_COLLECTIVE]:me}[s];return c.jsxs("div",{className:le.container,children:[c.jsx("header",{children:c.jsx("h1",{className:le.header,children:"Ajouter une image"})}),c.jsx("div",{className:le.subtitle,children:"Prévisualisation de votre image dans l’application pass Culture"}),c.jsx(n,{imageUrl:t}),c.jsxs("div",{className:le.actions,children:[c.jsx(Oe,{className:le.button,onClick:r,title:"Retour",type:"button",variant:Fe.SECONDARY,children:"Retour"}),c.jsx(Rr,{className:le.button,disabled:!1,isLoading:!!e,onClick:o})]})]})};try{Tt.displayName="ModalImageUploadConfirm",Tt.__docgenInfo={description:"",displayName:"ModalImageUploadConfirm",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},isUploading:{defaultValue:null,description:"",name:"isUploading",required:!0,type:{name:"boolean"}},onGoBack:{defaultValue:null,description:"",name:"onGoBack",required:!0,type:{name:"() => void"}},onUploadImage:{defaultValue:null,description:"",name:"onUploadImage",required:!0,type:{name:"() => void"}}}}}catch{}const Rt=({mode:t,onDismiss:e,onImageUpload:r,initialValues:o={}})=>{const[s,n]=S.useState(!1),{imageUrl:i,originalImageUrl:a,credit:l,cropParams:u}=o,[d,h]=S.useState();S.useEffect(()=>{async function M(Ge){h(await os(Ge))}const K=a||i;K&&M(K),n(!0)},[]);const[f,m]=S.useState(l||""),[y,b]=S.useState(),[q,g]=S.useState(""),[_,T]=S.useState(!1),{xCropPercent:O,yCropPercent:P,heightCropPercent:U,widthCropPercent:x}=u||{},[k,z]=S.useState({x:O&&x?He(O,x):.5,y:P&&U?He(P,U):.5}),F=()=>{g("")},te=M=>{h(M.image||void 0)},Lr=()=>{h(void 0)},Gt=(M,K,Ge)=>{M===void 0||K===void 0||(r({imageFile:K,imageCroppedDataUrl:Ge,cropParams:M,credit:f}),e(),T(!1))},Mt=t!==E.OFFER_COLLECTIVE,Gr=(M,K)=>{b(K),g(M),Mt||Gt(K,d,M)};return s?c.jsx(Sr,{hasCloseButton:!0,labelledBy:"Ajouter une image",onDismiss:e,children:d?!y||!q?c.jsx(Et,{credit:f,image:d,initialPosition:k,initialScale:U?ns(U):1,onEditedImageSave:Gr,onReplaceImage:Lr,onSetCredit:m,saveInitialPosition:z,mode:t,submitButtonText:Mt?"Suivant":"Enregistrer"}):c.jsx(Tt,{isUploading:_,onGoBack:F,onUploadImage:()=>Gt(y,d,q),imageUrl:q,mode:t}):c.jsx(_t,{onImageClientUpload:te,mode:t})}):null};try{Rt.displayName="ModalImageEdit",Rt.__docgenInfo={description:"",displayName:"ModalImageEdit",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}}}}}catch{}const Le=({mode:t,initialValues:e={},onImageUpload:r,onClickButtonImage:o})=>{const[s,n]=S.useState(!1),{imageUrl:i,originalImageUrl:a}=e,l=()=>{o&&o(),n(!0)};return c.jsxs(c.Fragment,{children:[i||a?c.jsx(Oe,{onClick:l,variant:Fe.TERNARY,alt:"Modifier l’image",icon:to,children:"Modifier"}):c.jsx(vt,{mode:t,onClick:l}),s&&c.jsx(Rt,{mode:t,onDismiss:()=>n(!1),onImageUpload:r,initialValues:e})]})};try{Le.displayName="ButtonImageEdit",Le.__docgenInfo={description:"",displayName:"ButtonImageEdit",props:{onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImage:{defaultValue:null,description:"",name:"onClickButtonImage",required:!1,type:{name:"(() => void)"}}}}}catch{}const ot={"image-preview":"_image-preview_806us_1","preview-venue":"_preview-venue_806us_7","preview-offer":"_preview-offer_806us_11"},St=({imageUrl:t,alt:e,mode:r})=>c.jsx("img",{alt:e,className:Ot(ot["image-preview"],{[ot["preview-venue"]]:r===E.VENUE,[ot["preview-offer"]]:r===E.OFFER||r===E.OFFER_COLLECTIVE}),src:t});try{St.displayName="ImagePreview",St.__docgenInfo={description:"",displayName:"ImagePreview",props:{imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}},alt:{defaultValue:null,description:"",name:"alt",required:!0,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}}}}}catch{}const nt={"explanatory-text":"_explanatory-text_pfqdv_1","image-uploader-image-container":"_image-uploader-image-container_pfqdv_5","image-uploader-actions-container":"_image-uploader-actions-container_pfqdv_9","actions-wrapper":"_actions-wrapper_pfqdv_16"},wt=({onImageUpload:t,onImageDelete:e,initialValues:r={},mode:o,onClickButtonImageAdd:s})=>{const{imageUrl:n,originalImageUrl:i,credit:a,cropParams:l}=r;return c.jsx("div",{className:nt["image-uploader-image-container"],children:n&&i?c.jsxs(c.Fragment,{children:[c.jsx(St,{mode:o,imageUrl:n,alt:"Prévisualisation de l’image"}),c.jsx("div",{className:nt["image-uploader-actions-container"],children:c.jsxs("div",{className:nt["actions-wrapper"],children:[c.jsx(Le,{mode:o,initialValues:{originalImageUrl:i,imageUrl:n,credit:a,cropParams:l},onImageUpload:t,onClickButtonImage:s}),o!==E.OFFER_COLLECTIVE&&c.jsx(yt,{imageUrl:n,mode:o}),c.jsx(gt,{onImageDelete:e})]})})]}):c.jsx(Le,{mode:o,onImageUpload:t,onClickButtonImage:s})})},$r=wt;try{wt.displayName="ImageUploader",wt.__docgenInfo={description:"",displayName:"ImageUploader",props:{onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(values: OnImageUploadArgs) => void"}},onImageDelete:{defaultValue:null,description:"",name:"onImageDelete",required:!0,type:{name:"() => void"}},initialValues:{defaultValue:{value:"{}"},description:"",name:"initialValues",required:!1,type:{name:"UploadImageValues"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"offer"'},{value:'"offer_collective"'},{value:'"venue"'}]}},onClickButtonImageAdd:{defaultValue:null,description:"",name:"onClickButtonImageAdd",required:!1,type:{name:"(() => void)"}}}}}catch{}const cr=""+new URL("sample-image-landscape-b60948dd.jpg",import.meta.url).href,dr=""+new URL("sample-image-portrait-4cb7a498.jpg",import.meta.url).href,Ui={title:"components/ImageUploader",component:$r},Lt=t=>c.jsx(ht,{children:c.jsx($r,{...t})}),Hr={initialValues:{originalImageUrl:dr,imageUrl:dr,credit:"John Do",cropParams:{xCropPercent:0,yCropPercent:0,heightCropPercent:1,widthCropPercent:1}},mode:E.OFFER,onImageDelete:()=>{alert("onDelete have been called.")},onImageUpload:()=>{alert("onImageUpload have been called.")}},ve=Lt.bind({});ve.args={...Hr};const Ee=Lt.bind({});Ee.args={...Hr,initialValues:{imageUrl:cr,originalImageUrl:cr},mode:E.VENUE};const qe=Lt.bind({});qe.args={mode:E.OFFER};var hr,mr,yr;ve.parameters={...ve.parameters,docs:{...(hr=ve.parameters)==null?void 0:hr.docs,source:{originalSource:`props => <StoreProvider>
    <ImageUploader {...props} />
  </StoreProvider>`,...(yr=(mr=ve.parameters)==null?void 0:mr.docs)==null?void 0:yr.source}}};var br,gr,vr;Ee.parameters={...Ee.parameters,docs:{...(br=Ee.parameters)==null?void 0:br.docs,source:{originalSource:`props => <StoreProvider>
    <ImageUploader {...props} />
  </StoreProvider>`,...(vr=(gr=Ee.parameters)==null?void 0:gr.docs)==null?void 0:vr.source}}};var Er,qr,_r;qe.parameters={...qe.parameters,docs:{...(Er=qe.parameters)==null?void 0:Er.docs,source:{originalSource:`props => <StoreProvider>
    <ImageUploader {...props} />
  </StoreProvider>`,...(_r=(qr=qe.parameters)==null?void 0:qr.docs)==null?void 0:_r.source}}};const ji=["WithImageOffer","WithImageVenue","WithoutImage"];export{ve as WithImageOffer,Ee as WithImageVenue,qe as WithoutImage,ji as __namedExportsOrder,Ui as default};
