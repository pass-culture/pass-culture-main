import{j as a}from"./jsx-runtime-Nms4Y4qS.js";import{c as g}from"./index-BpvXyOxN.js";import{r as o}from"./index-BwDkhjyp.js";import{f as $}from"./full-clear-CvNWe6Ae.js";import{f as M}from"./full-close-DkqMqJw6.js";import{B as T}from"./Button-B42DGgFF.js";import{B}from"./types-DjX_gQD6.js";import{F as D}from"./FieldError-DZpH9Ndm.js";const u={"field-layout":"_field-layout_1mmzd_1","field-layout-label":"_field-layout-label_1mmzd_5","field-layout-label-container":"_field-layout-label-container_1mmzd_11","field-layout-label-break":"_field-layout-label-break_1mmzd_14","field-layout-small-label":"_field-layout-small-label_1mmzd_17","field-layout-inline":"_field-layout-inline_1mmzd_23","field-layout-content":"_field-layout-content_1mmzd_31","field-layout-footer":"_field-layout-footer_1mmzd_38","field-layout-error":"_field-layout-error_1mmzd_44","field-layout-input-description":"_field-layout-input-description_1mmzd_50","input-wrapper":"_input-wrapper_1mmzd_57","clear-button":"_clear-button_1mmzd_61","clear-button-container":"_clear-button-container_1mmzd_69","clear-button-clear-container":"_clear-button-clear-container_1mmzd_74","clear-button-close-container":"_clear-button-close-container_1mmzd_79","clear-button-icon":"_clear-button-icon_1mmzd_92"};function H(r,e,l){var p=this,s=o.useRef(null),t=o.useRef(0),n=o.useRef(null),c=o.useRef([]),f=o.useRef(),m=o.useRef(),j=o.useRef(r),b=o.useRef(!0);j.current=r;var q=typeof window<"u",V=!e&&e!==0&&q;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var w=!!(l=l||{}).leading,z=!("trailing"in l)||!!l.trailing,h="maxWait"in l,R="debounceOnServer"in l&&!!l.debounceOnServer,N=h?Math.max(+l.maxWait||0,e):null;o.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var y=o.useMemo(function(){var v=function(i){var d=c.current,C=f.current;return c.current=f.current=null,t.current=i,m.current=j.current.apply(C,d)},_=function(i,d){V&&cancelAnimationFrame(n.current),n.current=V?requestAnimationFrame(i):setTimeout(i,d)},F=function(i){if(!b.current)return!1;var d=i-s.current;return!s.current||d>=e||d<0||h&&i-t.current>=N},E=function(i){return n.current=null,z&&c.current?v(i):(c.current=f.current=null,m.current)},L=function i(){var d=Date.now();if(F(d))return E(d);if(b.current){var C=e-(d-s.current),I=h?Math.min(C,N-(d-t.current)):C;_(i,I)}},x=function(){if(q||R){var i=Date.now(),d=F(i);if(c.current=[].slice.call(arguments),f.current=p,s.current=i,d){if(!n.current&&b.current)return t.current=s.current,_(L,e),w?v(s.current):m.current;if(h)return _(L,e),v(s.current)}return n.current||_(L,e),m.current}};return x.cancel=function(){n.current&&(V?cancelAnimationFrame(n.current):clearTimeout(n.current)),t.current=0,c.current=s.current=f.current=n.current=null},x.isPending=function(){return!!n.current},x.flush=function(){return n.current?E(Date.now()):m.current},x},[w,h,e,N,z,V,q,R]);return y}function O(r,e){return r===e}function S(r,e){return e}function W(r,e,l){var p=O,s=o.useReducer(S,r),t=s[0],n=s[1],c=H(o.useCallback(function(m){return n(m)},[n]),e,l),f=o.useRef(r);return p(f.current,r)||(c(r),f.current=r),p(t,r)&&c.cancel(),[t,c]}const Y={"field-layout-character-count":"_field-layout-character-count_1in29_1"};function A({count:r,maxLength:e,name:l}){const[p]=W(r,1e3);return a.jsxs(a.Fragment,{children:[a.jsxs("span",{role:"status",className:"visually-hidden",id:`field-characters-count-${l}`,children:[p," caractÃ¨res sur ",e]}),a.jsxs("span",{className:Y["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[r,"/",e]})]})}try{A.displayName="FieldLayoutCharacterCount",A.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const k=({children:r,label:e,isLabelHidden:l=!1,hasLabelLineBreak:p=!0,className:s,name:t,showError:n=!1,error:c,count:f=void 0,maxLength:m=void 0,isOptional:j=!1,showMandatoryAsterisk:b=!0,smallLabel:q,hideFooter:V=!1,inline:w=!1,classNameLabel:z,classNameFooter:h,classNameInput:R,description:N,clearButtonProps:y,ErrorDetails:v})=>{const _=n&&!!c,F=f!==void 0&&m!==void 0,E=o.useId(),L=!V||_||F||!!v,x=(y==null?void 0:y.display)||"clear";return a.jsxs("div",{className:g(u["field-layout"],{[u["field-layout-small-label"]]:q,[u["field-layout-inline"]]:w},s),"data-testid":`wrapper-${t}`,children:[a.jsxs("div",{className:g(u["field-layout-label-container"],z,{"visually-hidden":l}),children:[a.jsxs("label",{className:g(u["field-layout-label"],p&&u["field-layout-label-break"]),htmlFor:t,children:[e," ",!j&&b&&"*"]}),N&&a.jsx("span",{id:`description-${t}`,"data-testid":`description-${t}`,className:u["field-layout-input-description"],children:N})]}),a.jsxs("div",{className:u["field-layout-content"],children:[a.jsxs("div",{className:g(u["input-wrapper"],R),children:[r,y&&a.jsx("div",{className:g(u["clear-button-container"],u[`clear-button-${x}-container`]),children:a.jsx(T,{...y,"aria-describedby":E,className:u["clear-button"],hasTooltip:!0,type:"button",icon:x==="clear"?$:M,variant:B.TERNARY,children:y.tooltip||"Supprimer"})})]}),L&&a.jsxs("div",{className:g(h,u["field-layout-footer"]),children:[a.jsx("div",{role:"alert",className:u["field-layout-error"],id:`error-details-${t}`,children:(_||!!v)&&a.jsxs(a.Fragment,{children:[_&&a.jsx(D,{name:t,children:c}),v]})}),F&&a.jsx(A,{count:f,maxLength:m,name:t})]})]})]})};try{k.displayName="FieldLayout",k.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:"",name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{k as F};
