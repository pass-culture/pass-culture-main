import{j as Y}from"./jsx-runtime-ffb262ed.js";import{d as St,b as Ot,c as Et}from"./formik.esm-104d8394.js";import{b as y,_ as Re,c as he}from"./tslib.es6-0a050bf6.js";import{P as l}from"./index-9d475cdf.js";import{r as c,R as Je}from"./index-76fb7be0.js";import"./react-is.production.min-a192e302.js";import{B as kt}from"./BaseCheckbox-10462bad.js";import"./BaseFileInput-aa929aed.js";import"./stroke-show-579dd273.js";import"./Thumb-b68d383f.js";import"./FieldError-10cbd29d.js";import"./FieldSuccess-31bdacb0.js";import{B as Vt}from"./BaseInput-433b1c48.js";import"./_commonjsHelpers-de833af9.js";import"./hoist-non-react-statics.cjs-3f8ebaa8.js";import"./index-a587463d.js";import"./Button.module-a8fe741a.js";import"./full-next-ebff3494.js";import"./Button-64288dd7.js";import"./index-9d82e518.js";import"./full-right-83efe067.js";import"./SvgIcon-c0bf369c.js";import"./stroke-pass-cf331655.js";import"./Tooltip-7f0a196a.js";import"./useTooltipProps-b20503ef.js";import"./BaseRadio-06d1d75a.js";import"./full-clear-9268779e.js";import"./Divider-7c035ea9.js";import"./SubmitButton-66b6b99e.js";import"./typeof-7fd5df1e.js";import"./stroke-close-3a7bfe9e.js";import"./Banner-650e7c30.js";import"./shadow-tips-help-841f916a.js";import"./shadow-tips-warning-66fb0429.js";import"./LinkNodes-2a267152.js";import"./full-link-9eb5e1cb.js";import"./InfoBox-295abe36.js";import"./stroke-error-ed5fe82d.js";import"./stroke-valid-9c345a33.js";const Qe=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Ze=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Ae=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Ze(n.overflowY,t)||Ze(n.overflowX,t)||(i=>{const r=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(e)}return!1},xe=(e,t,n,i,r,a,u,o)=>a<e&&u>t||a>e&&u<t?0:a<=e&&o<=n||u>=t&&o>=n?a-e-i:u>t&&o<n||a<e&&o>n?u-t+r:0,At=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Tt=(e,t)=>{var n,i,r,a;if(typeof document>"u")return[];const{scrollMode:u,block:o,inline:v,boundary:I,skipOverflowHiddenElements:m}=t,s=typeof I=="function"?I:q=>q!==I;if(!Qe(e))throw new TypeError("Invalid target");const x=document.scrollingElement||document.documentElement,R=[];let M=e;for(;Qe(M)&&s(M);){if(M=At(M),M===x){R.push(M);break}M!=null&&M===document.body&&Ae(M)&&!Ae(document.documentElement)||M!=null&&Ae(M,m)&&R.push(M)}const k=(i=(n=window.visualViewport)==null?void 0:n.width)!=null?i:innerWidth,A=(a=(r=window.visualViewport)==null?void 0:r.height)!=null?a:innerHeight,{scrollX:V,scrollY:S}=window,{height:b,width:C,top:p,right:T,bottom:D,left:F}=e.getBoundingClientRect();let O=o==="start"||o==="nearest"?p:o==="end"?D:p+b/2,E=v==="center"?F+C/2:v==="end"?T:F;const Z=[];for(let q=0;q<R.length;q++){const w=R[q],{height:ee,width:te,top:ne,right:ce,bottom:fe,left:re}=w.getBoundingClientRect();if(u==="if-needed"&&p>=0&&F>=0&&D<=A&&T<=k&&p>=ne&&D<=fe&&F>=re&&T<=ce)return Z;const ie=getComputedStyle(w),ue=parseInt(ie.borderLeftWidth,10),ae=parseInt(ie.borderTopWidth,10),oe=parseInt(ie.borderRightWidth,10),le=parseInt(ie.borderBottomWidth,10);let f=0,d=0;const g="offsetWidth"in w?w.offsetWidth-w.clientWidth-ue-oe:0,h="offsetHeight"in w?w.offsetHeight-w.clientHeight-ae-le:0,P="offsetWidth"in w?w.offsetWidth===0?0:te/w.offsetWidth:0,H="offsetHeight"in w?w.offsetHeight===0?0:ee/w.offsetHeight:0;if(x===w)f=o==="start"?O:o==="end"?O-A:o==="nearest"?xe(S,S+A,A,ae,le,S+O,S+O+b,b):O-A/2,d=v==="start"?E:v==="center"?E-k/2:v==="end"?E-k:xe(V,V+k,k,ue,oe,V+E,V+E+C,C),f=Math.max(0,f+S),d=Math.max(0,d+V);else{f=o==="start"?O-ne-ae:o==="end"?O-fe+le+h:o==="nearest"?xe(ne,fe,ee,ae,le+h,O,O+b,b):O-(ne+ee/2)+h/2,d=v==="start"?E-re-ue:v==="center"?E-(re+te/2)+g/2:v==="end"?E-ce+oe+g:xe(re,ce,te,ue,oe+g,E,E+C,C);const{scrollLeft:K,scrollTop:L}=w;f=Math.max(0,Math.min(L+f/H,w.scrollHeight-ee/H+h)),d=Math.max(0,Math.min(K+d/P,w.scrollWidth-te/P+g)),O+=L-f,E+=K-d}Z.push({el:w,top:f,left:d})}return Z};var Pt=0;function Ke(){}function Ht(e,t){if(e){var n=Tt(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(i){var r=i.el,a=i.top,u=i.left;r.scrollTop=a,r.scrollLeft=u})}}function et(e,t,n){var i=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return i}function ot(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];i(),n=setTimeout(function(){n=null,e.apply(void 0,u)},t)}return r.cancel=i,r}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return t.some(function(o){return o&&o.apply(void 0,[i].concat(a)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){t.forEach(function(r){typeof r=="function"?r(i):r&&(r.current=i)})}}function Kt(){return String(Pt++)}function Lt(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Pe(e,t){return Object.keys(e).reduce(function(n,i){return n[i]=lt(t,i)?t[i]:e[i],n},{})}function lt(e,t){return e[t]!==void 0}function Bt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Ce(e,t,n,i,r){r===void 0&&(r=!1);var a=n.length;if(a===0)return-1;var u=a-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var o=e+t;o<0?o=r?u:0:o>u&&(o=r?0:u);var v=Se(o,t<0,n,i,r);return v===-1?e>=a?-1:e:v}function Se(e,t,n,i,r){r===void 0&&(r=!1);var a=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var o=e;o<a;o++)if(!i(n[o],o))return o;return r?Se(t?a-1:0,t,n,i):-1}function tt(e,t,n,i){return i===void 0&&(i=!0),n&&t.some(function(r){return r&&(et(r,e,n)||i&&et(r,n.document.activeElement,n))})}var Ft=ot(function(e){st(e).textContent=""},500);function st(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function qt(e,t){if(!(!e||!t)){var n=st(t);n.textContent=e,Ft(t)}}var $t=["isInitialMount","highlightedIndex","items","environment"],dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Nt(e,t,n){var i=e.props,r=e.type,a={};Object.keys(t).forEach(function(u){Wt(u,e,t,n),n[u]!==t[u]&&(a[u]=n[u])}),i.onStateChange&&Object.keys(a).length&&i.onStateChange(y({type:r},a))}function Wt(e,t,n,i){var r=t.props,a=t.type,u="on"+Le(e)+"Change";r[u]&&i[e]!==void 0&&i[e]!==n[e]&&r[u](y({type:a},i))}function jt(e,t){return t.changes}function Ut(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""}var Gt=ot(function(e,t){qt(e(),t)},200),zt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,Xt="useId"in Je?function(t){var n=t.id,i=t.labelId,r=t.menuId,a=t.getItemId,u=t.toggleButtonId,o=t.inputId,v="downshift-"+Je.useId();n||(n=v);var I=c.useRef({labelId:i||n+"-label",menuId:r||n+"-menu",getItemId:a||function(m){return n+"-item-"+m},toggleButtonId:u||n+"-toggle-button",inputId:o||n+"-input"});return I.current}:function(t){var n=t.id,i=n===void 0?"downshift-"+Kt():n,r=t.labelId,a=t.menuId,u=t.getItemId,o=t.toggleButtonId,v=t.inputId,I=c.useRef({labelId:r||i+"-label",menuId:a||i+"-menu",getItemId:u||function(m){return i+"-item-"+m},toggleButtonId:o||i+"-toggle-button",inputId:v||i+"-input"});return I.current};function Yt(e,t,n,i){var r,a;if(e===void 0){if(t===void 0)throw new Error(i);r=n[t],a=t}else a=t===void 0?n.indexOf(e):t,r=e;return[r,a]}function _t(e){return e?String(e):""}function Le(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ct(e){var t=c.useRef(e);return t.current=e,t}function Jt(e,t,n){var i=c.useRef(),r=c.useRef(),a=c.useCallback(function(x,R){r.current=R,x=Pe(x,R.props);var M=e(x,R),k=R.props.stateReducer(x,y({},R,{changes:M}));return k},[e]),u=c.useReducer(a,t),o=u[0],v=u[1],I=ct(n),m=c.useCallback(function(x){return v(y({props:I.current},x))},[I]),s=r.current;return c.useEffect(function(){s&&i.current&&i.current!==o&&Nt(s,Pe(i.current,s.props),o),i.current=o},[o,n,s]),[o,m]}var me={itemToString:_t,stateReducer:jt,getA11ySelectionMessage:Ut,scrollIntoView:Ht,environment:typeof window>"u"?void 0:window};function B(e,t,n){n===void 0&&(n=dt);var i=e["default"+Le(t)];return i!==void 0?i:n[t]}function pe(e,t,n){n===void 0&&(n=dt);var i=e[t];if(i!==void 0)return i;var r=e["initial"+Le(t)];return r!==void 0?r:B(e,t,n)}function Qt(e){var t=pe(e,"selectedItem"),n=pe(e,"isOpen"),i=pe(e,"highlightedIndex"),r=pe(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.indexOf(t):i,isOpen:n,selectedItem:t,inputValue:r}}function ve(e,t,n){var i=e.items,r=e.initialHighlightedIndex,a=e.defaultHighlightedIndex,u=t.selectedItem,o=t.highlightedIndex;return i.length===0?-1:r!==void 0&&o===r?r:a!==void 0?a:u?i.indexOf(u):n===0?-1:n<0?i.length-1:0}function Zt(e,t,n,i){var r=c.useRef({isMouseDown:!1,isTouchMove:!1});return c.useEffect(function(){if(n){var a=function(){r.current.isMouseDown=!0},u=function(s){r.current.isMouseDown=!1,e&&!tt(s.target,t.map(function(x){return x.current}),n)&&i()},o=function(){r.current.isTouchMove=!1},v=function(){r.current.isTouchMove=!0},I=function(s){e&&!r.current.isTouchMove&&!tt(s.target,t.map(function(x){return x.current}),n,!1)&&i()};return n.addEventListener("mousedown",a),n.addEventListener("mouseup",u),n.addEventListener("touchstart",o),n.addEventListener("touchmove",v),n.addEventListener("touchend",I),function(){n.removeEventListener("mousedown",a),n.removeEventListener("mouseup",u),n.removeEventListener("touchstart",o),n.removeEventListener("touchmove",v),n.removeEventListener("touchend",I)}}},[e,n]),r}var en=function(){return Ke};function nt(e,t,n){var i=n.isInitialMount,r=n.highlightedIndex,a=n.items,u=n.environment,o=he(n,$t);c.useEffect(function(){i||!(u!=null&&u.document)||Gt(function(){return e(y({highlightedIndex:r,highlightedItem:a[r],resultCount:a.length},o))},u.document)},t)}function tn(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,r=e.getItemNodeFromIndex,a=e.menuElement,u=e.scrollIntoView,o=c.useRef(!0);return zt(function(){t<0||!n||!Object.keys(i.current).length||(o.current===!1?o.current=!0:u(r(t),a))},[t]),o}var nn=Ke;function rt(e,t,n){var i;n===void 0&&(n=!0);var r=((i=e.items)==null?void 0:i.length)&&t>=0;return y({isOpen:!1,highlightedIndex:-1},r&&y({selectedItem:e.items[t],isOpen:B(e,"isOpen"),highlightedIndex:B(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}var ft={environment:l.shape({addEventListener:l.func.isRequired,removeEventListener:l.func.isRequired,document:l.shape({createElement:l.func.isRequired,getElementById:l.func.isRequired,activeElement:l.any.isRequired,body:l.any.isRequired}).isRequired,Node:l.func.isRequired}),itemToString:l.func,stateReducer:l.func},gt=y({},ft,{getA11yStatusMessage:l.func,highlightedIndex:l.number,defaultHighlightedIndex:l.number,initialHighlightedIndex:l.number,isOpen:l.bool,defaultIsOpen:l.bool,initialIsOpen:l.bool,selectedItem:l.any,initialSelectedItem:l.any,defaultSelectedItem:l.any,id:l.string,labelId:l.string,menuId:l.string,getItemId:l.func,toggleButtonId:l.string,onSelectedItemChange:l.func,onHighlightedIndexChange:l.func,onStateChange:l.func,onIsOpenChange:l.func,scrollIntoView:l.func});function rn(e,t,n){var i=t.type,r=t.props,a;switch(i){case n.ItemMouseMove:a={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:a={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:a={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ve(r,e,0)};break;case n.FunctionOpenMenu:a={isOpen:!0,highlightedIndex:ve(r,e,0)};break;case n.FunctionCloseMenu:a={isOpen:!1};break;case n.FunctionSetHighlightedIndex:a={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:a={inputValue:t.inputValue};break;case n.FunctionReset:a={highlightedIndex:B(r,"highlightedIndex"),isOpen:B(r,"isOpen"),selectedItem:B(r,"selectedItem"),inputValue:B(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return y({},e,a)}Re(Re({},gt),{items:l.array.isRequired,isItemDisabled:l.func,getA11ySelectionMessage:l.func});function un(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}Re(Re({},me),{getA11yStatusMessage:un,isItemDisabled:function(){return!1}});var Be=0,Fe=1,qe=2,$e=3,Ne=4,We=5,je=6,Ue=7,Ge=8,Oe=9,ze=10,ht=11,pt=12,Xe=13,mt=14,vt=15,It=16,bt=17,yt=18,Ye=19,xt=20,wt=21,_e=22,Ct=Object.freeze({__proto__:null,InputKeyDownArrowDown:Be,InputKeyDownArrowUp:Fe,InputKeyDownEscape:qe,InputKeyDownHome:$e,InputKeyDownEnd:Ne,InputKeyDownPageUp:We,InputKeyDownPageDown:je,InputKeyDownEnter:Ue,InputChange:Ge,InputBlur:Oe,InputClick:ze,MenuMouseLeave:ht,ItemMouseMove:pt,ItemClick:Xe,ToggleButtonClick:mt,FunctionToggleMenu:vt,FunctionOpenMenu:It,FunctionCloseMenu:bt,FunctionSetHighlightedIndex:yt,FunctionSelectItem:Ye,FunctionSetInputValue:xt,FunctionReset:wt,ControlledPropUpdatedSelectedItem:_e});function an(e){var t=Qt(e),n=t.selectedItem,i=t.inputValue;return i===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(n)),y({},t,{inputValue:i})}y({},gt,{items:l.array.isRequired,isItemDisabled:l.func,selectedItemChanged:l.func,getA11ySelectionMessage:l.func,inputValue:l.string,defaultInputValue:l.string,initialInputValue:l.string,inputId:l.string,onInputValueChange:l.func});function on(e,t,n){var i=c.useRef(),r=Jt(e,t,n),a=r[0],u=r[1];return c.useEffect(function(){lt(n,"selectedItem")&&(n.selectedItemChanged(i.current,n.selectedItem)&&u({type:_e,inputValue:n.itemToString(n.selectedItem)}),i.current=a.selectedItem===i.current?n.selectedItem:a.selectedItem)},[a.selectedItem,n.selectedItem]),[Pe(a,n),u]}var ln=Ke,sn=y({},me,{selectedItemChanged:function(t,n){return t!==n},getA11yStatusMessage:Lt,isItemDisabled:function(){return!1}});function dn(e,t){var n,i=t.type,r=t.props,a=t.altKey,u;switch(i){case Xe:u={isOpen:B(r,"isOpen"),highlightedIndex:B(r,"highlightedIndex"),selectedItem:r.items[t.index],inputValue:r.itemToString(r.items[t.index])};break;case Be:e.isOpen?u={highlightedIndex:Ce(e.highlightedIndex,1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:a&&e.selectedItem==null?-1:ve(r,e,1),isOpen:r.items.length>=0};break;case Fe:e.isOpen?a?u=rt(r,e.highlightedIndex):u={highlightedIndex:Ce(e.highlightedIndex,-1,r.items,r.isItemDisabled,!0)}:u={highlightedIndex:ve(r,e,-1),isOpen:r.items.length>=0};break;case Ue:u=rt(r,e.highlightedIndex);break;case qe:u=y({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case We:u={highlightedIndex:Ce(e.highlightedIndex,-10,r.items,r.isItemDisabled,!0)};break;case je:u={highlightedIndex:Ce(e.highlightedIndex,10,r.items,r.isItemDisabled,!0)};break;case $e:u={highlightedIndex:Se(0,!1,r.items,r.isItemDisabled)};break;case Ne:u={highlightedIndex:Se(r.items.length-1,!0,r.items,r.isItemDisabled)};break;case Oe:u=y({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=r.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:r.items[e.highlightedIndex],inputValue:r.itemToString(r.items[e.highlightedIndex])});break;case Ge:u={isOpen:!0,highlightedIndex:B(r,"highlightedIndex"),inputValue:t.inputValue};break;case ze:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ve(r,e,0)};break;case Ye:u={selectedItem:t.selectedItem,inputValue:r.itemToString(t.selectedItem)};break;case _e:u={inputValue:t.inputValue};break;default:return rn(e,t,Ct)}return y({},e,u)}var cn=["onMouseLeave","refKey","ref"],fn=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],gn=["onClick","onPress","refKey","ref"],hn=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];De.stateChangeTypes=Ct;function De(e){e===void 0&&(e={}),ln();var t=y({},sn,e),n=t.items,i=t.scrollIntoView,r=t.environment,a=t.getA11yStatusMessage,u=t.getA11ySelectionMessage,o=t.itemToString,v=an(t),I=on(dn,v,t),m=I[0],s=I[1],x=m.isOpen,R=m.highlightedIndex,M=m.selectedItem,k=m.inputValue,A=c.useRef(null),V=c.useRef({}),S=c.useRef(null),b=c.useRef(null),C=c.useRef(!0),p=Xt(t),T=c.useRef(),D=ct({state:m,props:t}),F=c.useCallback(function(f){return V.current[p.getItemId(f)]},[p]);nt(a,[x,R,k,n],y({isInitialMount:C.current,previousResultCount:T.current,items:n,environment:r,itemToString:o},m)),nt(u,[M],y({isInitialMount:C.current,previousResultCount:T.current,items:n,environment:r,itemToString:o},m));var O=tn({menuElement:A.current,highlightedIndex:R,isOpen:x,itemRefs:V,scrollIntoView:i,getItemNodeFromIndex:F});nn({isInitialMount:C.current,props:t,state:m}),c.useEffect(function(){var f=pe(t,"isOpen");f&&S.current&&S.current.focus()},[]),c.useEffect(function(){C.current||(T.current=n.length)});var E=Zt(x,[S,A,b],r,function(){s({type:Oe,selectItem:!1})}),Z=en();c.useEffect(function(){return C.current=!1,function(){C.current=!0}},[]),c.useEffect(function(){x||(V.current={})},[x]),c.useEffect(function(){var f;!x||!(r!=null&&r.document)||!(S!=null&&(f=S.current)!=null&&f.focus)||r.document.activeElement!==S.current&&S.current.focus()},[x,r]);var q=c.useMemo(function(){return{ArrowDown:function(d){d.preventDefault(),s({type:Be,altKey:d.altKey})},ArrowUp:function(d){d.preventDefault(),s({type:Fe,altKey:d.altKey})},Home:function(d){D.current.state.isOpen&&(d.preventDefault(),s({type:$e}))},End:function(d){D.current.state.isOpen&&(d.preventDefault(),s({type:Ne}))},Escape:function(d){var g=D.current.state;(g.isOpen||g.inputValue||g.selectedItem||g.highlightedIndex>-1)&&(d.preventDefault(),s({type:qe}))},Enter:function(d){var g=D.current.state;!g.isOpen||d.which===229||(d.preventDefault(),s({type:Ue}))},PageUp:function(d){D.current.state.isOpen&&(d.preventDefault(),s({type:We}))},PageDown:function(d){D.current.state.isOpen&&(d.preventDefault(),s({type:je}))}}},[s,D]),w=c.useCallback(function(f){return y({id:p.labelId,htmlFor:p.inputId},f)},[p]),ee=c.useCallback(function(f,d){var g,h=f===void 0?{}:f,P=h.onMouseLeave,H=h.refKey,K=H===void 0?"ref":H,L=h.ref,$=he(h,cn),U=d===void 0?{}:d;return U.suppressRefError,y((g={},g[K]=we(L,function(G){A.current=G}),g.id=p.menuId,g.role="listbox",g["aria-labelledby"]=$&&$["aria-label"]?void 0:""+p.labelId,g.onMouseLeave=j(P,function(){s({type:ht})}),g),$)},[s,Z,p]),te=c.useCallback(function(f){var d,g,h=f===void 0?{}:f,P=h.item,H=h.index,K=h.refKey,L=K===void 0?"ref":K,$=h.ref,U=h.onMouseMove,G=h.onMouseDown,Ee=h.onClick;h.onPress;var se=h.disabled,ke=he(h,fn);se!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var N=D.current,Ie=N.props,be=N.state,ye=Yt(P,H,Ie.items,"Pass either item or index to getItemProps!"),Ve=ye[0],W=ye[1],de=Ie.isItemDisabled(Ve,W),z="onClick",_=Ee,X=function(){W!==be.highlightedIndex&&(O.current=!1,s({type:pt,index:W,disabled:de}))},J=function(){s({type:Xe,index:W})},Dt=function(Rt){return Rt.preventDefault()};return y((d={},d[L]=we($,function(ge){ge&&(V.current[p.getItemId(W)]=ge)}),d["aria-disabled"]=de,d["aria-selected"]=""+(W===be.highlightedIndex),d.id=p.getItemId(W),d.role="option",d),!de&&(g={},g[z]=j(_,J),g),{onMouseMove:j(U,X),onMouseDown:j(G,Dt)},ke)},[s,D,O,p]),ne=c.useCallback(function(f){var d,g=f===void 0?{}:f,h=g.onClick;g.onPress;var P=g.refKey,H=P===void 0?"ref":P,K=g.ref,L=he(g,gn),$=D.current.state,U=function(){s({type:mt})};return y((d={},d[H]=we(K,function(G){b.current=G}),d["aria-controls"]=p.menuId,d["aria-expanded"]=$.isOpen,d.id=p.toggleButtonId,d.tabIndex=-1,d),!L.disabled&&y({},{onClick:j(h,U)}),L)},[s,D,p]),ce=c.useCallback(function(f,d){var g,h=f===void 0?{}:f,P=h.onKeyDown,H=h.onChange,K=h.onInput,L=h.onBlur;h.onChangeText;var $=h.onClick,U=h.refKey,G=U===void 0?"ref":U,Ee=h.ref,se=he(h,hn),ke=d===void 0?{}:d;ke.suppressRefError;var N=D.current.state,Ie=function(X){var J=Bt(X);J&&q[J]&&q[J](X)},be=function(X){s({type:Ge,inputValue:X.target.value})},ye=function(X){if(r!=null&&r.document&&N.isOpen&&!E.current.isMouseDown){var J=X.relatedTarget===null&&r.document.activeElement!==r.document.body;s({type:Oe,selectItem:!J})}},Ve=function(){s({type:ze})},W="onChange",de={};if(!se.disabled){var z;de=(z={},z[W]=j(H,K,be),z.onKeyDown=j(P,Ie),z.onBlur=j(L,ye),z.onClick=j($,Ve),z)}return y((g={},g[G]=we(Ee,function(_){S.current=_}),g["aria-activedescendant"]=N.isOpen&&N.highlightedIndex>-1?p.getItemId(N.highlightedIndex):"",g["aria-autocomplete"]="list",g["aria-controls"]=p.menuId,g["aria-expanded"]=N.isOpen,g["aria-labelledby"]=se&&se["aria-label"]?void 0:p.labelId,g.autoComplete="off",g.id=p.inputId,g.role="combobox",g.value=N.inputValue,g),de,se)},[Z,D,p,q,s,E,r]),fe=c.useCallback(function(){s({type:vt})},[s]),re=c.useCallback(function(){s({type:bt})},[s]),ie=c.useCallback(function(){s({type:It})},[s]),ue=c.useCallback(function(f){s({type:yt,highlightedIndex:f})},[s]),ae=c.useCallback(function(f){s({type:Ye,selectedItem:f})},[s]),oe=c.useCallback(function(f){s({type:xt,inputValue:f})},[s]),le=c.useCallback(function(){s({type:wt})},[s]);return{getItemProps:te,getLabelProps:w,getMenuProps:ee,getInputProps:ce,getToggleButtonProps:ne,toggleMenu:fe,openMenu:ie,closeMenu:re,setHighlightedIndex:ue,setInputValue:oe,selectItem:ae,reset:le,highlightedIndex:R,isOpen:x,selectedItem:M,inputValue:k}}function pn(e){var t=e.removedSelectedItem,n=e.itemToString;return n(t)+" has been removed."}y({},ft,{selectedItems:l.array,initialSelectedItems:l.array,defaultSelectedItems:l.array,getA11yRemovalMessage:l.func,activeIndex:l.number,initialActiveIndex:l.number,defaultActiveIndex:l.number,onActiveIndexChange:l.func,onSelectedItemsChange:l.func,keyNavigationNext:l.string,keyNavigationPrevious:l.string});me.itemToString,me.stateReducer,me.environment;const mn="_container_1ox2d_2",Te={container:mn,"search-list":"_search-list_1ox2d_9","search-input":"_search-input_1ox2d_20"},vn=(e,t)=>{const n=new RegExp(t,"i");return e.filter(i=>i.label.match(n))},In=(e,t)=>e.sort((n,i)=>Q(t,i.value)&&!Q(t,n.value)?1:!Q(t,i.value)&&Q(t,n.value)?-1:n.label.localeCompare(i.label)),Q=(e,t)=>{if(Array.isArray(t)){const n=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(r=>n.has(r)))}return e.includes(t)},He=({options:e,placeholder:t,name:n,label:i,isOpen:r,sortOptions:a,filterMaxLength:u=255})=>{const[o,v]=c.useState(""),[I]=St(n),{setFieldValue:m}=Ot(),[s,x]=c.useState([]),{getLabelProps:R,getMenuProps:M,getInputProps:k,getItemProps:A,setInputValue:V}=De({items:s,defaultHighlightedIndex:0,selectedItem:null,stateReducer(b,C){const{changes:p,type:T}=C;switch(T){case De.stateChangeTypes.InputKeyDownEnter:case De.stateChangeTypes.ItemClick:return{...p,isOpen:!0};default:return p}},onInputValueChange:({inputValue:b})=>{v(b||"")},itemToString:()=>o}),S=async b=>{if(Q(I.value,b.value)){if(I.value.length>0&&Array.isArray(I.value[0])){await m(n,I.value.filter(C=>!b.value.some(p=>C.includes(p))));return}await m(n,I.value.filter(C=>!Q([b.value],C)))}else await m(n,[...I.value,b.value])};return c.useEffect(()=>{v(""),V(""),x((a??In)(e,I.value))},[r]),Y.jsxs("div",{className:Te.container,children:[Y.jsx("label",{htmlFor:"search",className:"visually-hidden",...R(),children:i}),Y.jsx(Vt,{type:"search",name:"search",className:Te["search-input"],placeholder:t,maxLength:u,value:o,...k()}),Y.jsx("ul",{className:Te["search-list"],...M({"aria-activedescendant":k()["aria-activedescendant"]}),children:vn(s,o).map((b,C)=>{const{ref:p,...T}=A({item:b,index:C}),D=Array.isArray(b.value)?b.value.join("_"):b.value,F=Q(I.value,b.value);return Y.jsx("li",{children:Y.jsx(kt,{label:b.label,name:n,checked:F,onChange:()=>S(b),...T,"aria-selected":F},`${n}-${b.label}`)},`${D}`)})})]})},Mt=He;try{He.displayName="AdageMultiselect",He.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},filterMaxLength:{defaultValue:{value:"255"},description:"",name:"filterMaxLength",required:!1,type:{name:"number"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: (string | number | string[])[]) => ItemProps[])"}}}}}catch{}const ar={title:"ui-kit/forms/AdageMultiselect",component:Mt},bn=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Patrimoine, mémoire, archéologie"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"}],yn=()=>Y.jsx(Et,{initialValues:{educationalDomains:[]},onSubmit:()=>{},children:Y.jsx(Mt,{options:bn,placeholder:"Ex: Théâtre",name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0})}),Me=yn.bind({});var it,ut,at;Me.parameters={...Me.parameters,docs:{...(it=Me.parameters)==null?void 0:it.docs,source:{originalSource:`() => <Formik initialValues={{
  educationalDomains: []
}} onSubmit={() => {}}>
    <AdageMultiselect options={options} placeholder="Ex: Théâtre" name="educationalDomains" label="Rechercher un domaine artistique" isOpen={true} />
  </Formik>`,...(at=(ut=Me.parameters)==null?void 0:ut.docs)==null?void 0:at.source}}};const or=["Default"];export{Me as Default,or as __namedExportsOrder,ar as default};
//# sourceMappingURL=AdageMultiselect.stories-ccf89451.js.map
