import{j as s}from"./jsx-runtime-DgUnbGgA.js";import{c as t}from"./index-M1op0tU2.js";import{f as T}from"./full-clear-Q4kCtSRL.js";import{f as S}from"./full-close-5Oxr7nnd.js";import{f as k}from"./full-validate-CbMNulkZ.js";import{r as a}from"./iframe-Coedh0Sh.js";import{u as C}from"./useMediaQuery-uGhc2giD.js";import{S as m}from"./SvgIcon-v_e8T5Ti.js";const w="_container_fy720_1",I="_wrapper_fy720_6",R="_content_fy720_14",j="_show_fy720_59",E="_hide_fy720_62",O="_success_fy720_65",L="_error_fy720_74",V="_mobile_fy720_84",e={container:w,wrapper:I,"wrapper-border-radius-desktop":"_wrapper-border-radius-desktop_fy720_1",content:R,"content-icon":"_content-icon_fy720_20","content-text":"_content-text_fy720_26","close-button-container":"_close-button-container_fy720_33","close-button":"_close-button_fy720_33","progress-bar-container":"_progress-bar-container_fy720_46","progress-bar":"_progress-bar_fy720_46","progress-fill":"_progress-fill_fy720_1",show:j,"slide-in-bottom":"_slide-in-bottom_fy720_1",hide:E,"slide-out-bottom":"_slide-out-bottom_fy720_1",success:O,"content-icon-svg":"_content-icon-svg_fy720_68",error:L,mobile:V,"slide-in-top":"_slide-in-top_fy720_1","slide-out-top":"_slide-out-top_fy720_1","visually-hidden":"_visually-hidden_fy720_111"},A=5e3,M=1e4,q=120;var U=(r=>(r.SUCCESS="success",r.ERROR="error",r))(U||{});const p=300,B={success:{icon:k,ariaLabel:"Message de succÃ¨s",role:"status",ariaLive:"polite"},error:{icon:T,ariaLabel:"Message d'erreur",role:"alert",ariaLive:"assertive"}},l=({variant:r="success",text:u,onClose:n,autoClose:d=!0,testId:b,forceMobile:h=!1})=>{const[y,v]=a.useState(!1),_=a.useRef(!1),f=a.useRef(n),g=C("(max-width: 38.125rem)"),N=h||g;a.useEffect(()=>{f.current=n},[n]);const c=u.length<=q?A:M,i=a.useCallback(()=>{_.current||(_.current=!0,v(!0),setTimeout(()=>{f.current?.()},p))},[]),o=B[r];return a.useEffect(()=>{if(!d)return;const x=setTimeout(()=>{i()},c);return()=>clearTimeout(x)},[d,c,i]),s.jsxs("div",{className:t(e.container,e[r],y?e.hide:e.show,N?e.mobile:""),style:{"--snackbar-duration":`${c}ms`,"--snackbar-animation-duration":`${p}ms`},role:o.role,"aria-live":o.ariaLive,"aria-atomic":"true","data-testid":b,children:[s.jsxs("div",{className:t(e.wrapper),children:[s.jsxs("div",{className:t(e.content),children:[s.jsx("div",{className:t(e["content-icon"]),children:s.jsx(m,{src:o.icon,alt:"",width:"24",className:e["content-icon-svg"]})}),s.jsxs("p",{className:t(e["content-text"]),children:[s.jsxs("span",{className:e["visually-hidden"],children:[o.ariaLabel," :"," "]}),u]})]}),s.jsx("div",{className:t(e["close-button-container"]),children:s.jsx("button",{className:t(e["close-button"]),type:"button",onClick:i,"aria-label":"Fermer le message",children:s.jsx(m,{src:S,alt:"",width:"24",className:e["close-button-svg"]})})})]}),s.jsx("div",{className:t(e["progress-bar-container"]),children:s.jsx("div",{className:t(e["progress-bar"])})})]})};l.displayName="SnackBar";try{l.displayName="SnackBar",l.__docgenInfo={description:"",displayName:"SnackBar",props:{variant:{defaultValue:{value:"SnackBarVariant.SUCCESS"},description:"The variant of the snack bar",name:"variant",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}},text:{defaultValue:null,description:"The text of the snack bar",name:"text",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"The callback function to be called when the snack bar is closed",name:"onClose",required:!1,type:{name:"(() => void)"}},testId:{defaultValue:null,description:"The test id of the snack bar",name:"testId",required:!1,type:{name:"string"}},autoClose:{defaultValue:{value:"true"},description:"Whether the snack bar should automatically close or not",name:"autoClose",required:!1,type:{name:"boolean"}},forceMobile:{defaultValue:{value:"false"},description:"Force the mobile view mode.",name:"forceMobile",required:!1,type:{name:"boolean"}}}}}catch{}export{l as S,U as a};
