{"version":3,"file":"AdageButtonFilter.stories-e91c3424.js","sources":["../../src/components/AdageButtonFilter/AdageButtonFilter.tsx"],"sourcesContent":["import cn from 'classnames'\nimport React, { useCallback, useEffect, useRef } from 'react'\n\nimport fullDownIcon from 'icons/full-down.svg'\nimport fullUpIcon from 'icons/full-up.svg'\nimport { SvgIcon } from 'ui-kit/SvgIcon/SvgIcon'\n\nimport styles from './AdageButtonFilter.module.scss'\n\nexport interface AdageButtonFilterProps\n  extends React.HTMLProps<HTMLButtonElement> {\n  title: string\n  isActive: boolean\n  itemsLength?: number | null\n  isOpen: boolean\n  setIsOpen: (value: { [key: string]: boolean }) => void\n  filterName: string\n  handleSubmit: () => void\n}\n\nconst AdageButtonFilter = ({\n  title,\n  children,\n  isActive,\n  disabled,\n  itemsLength,\n  isOpen,\n  setIsOpen,\n  filterName,\n  handleSubmit,\n}: AdageButtonFilterProps): JSX.Element => {\n  const containerRef = useRef<HTMLDivElement | null>(null)\n\n  const handleClickOutside = useCallback(\n    (e: MouseEvent): void => {\n      if (!containerRef.current?.contains(e.target as Node)) {\n        if (isOpen) {\n          setIsOpen({ [filterName]: false })\n          handleSubmit()\n        }\n      }\n    },\n    [setIsOpen, handleSubmit, isOpen, filterName]\n  )\n\n  useEffect(() => {\n    if (containerRef.current) {\n      document.addEventListener('mousedown', handleClickOutside)\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [containerRef, handleClickOutside])\n\n  const modalButton = () => {\n    setIsOpen({ [filterName]: !isOpen })\n  }\n\n  return (\n    <div ref={containerRef} className={styles['adage-container']}>\n      <button\n        type=\"button\"\n        disabled={disabled}\n        onClick={modalButton}\n        className={cn([styles['adage-button']], {\n          [styles['adage-button-is-active']]: isActive,\n          [styles['adage-button-selected']]: isOpen,\n        })}\n      >\n        <div\n          className={cn({\n            [styles['adage-button-active']]: isActive,\n            [styles['adage-button-active-disabled']]: disabled,\n          })}\n        ></div>\n        {title} {isActive && `(${itemsLength})`}\n        {!disabled && (\n          <SvgIcon\n            className={styles['adage-button-dropdown']}\n            alt=\"\"\n            src={isOpen ? fullUpIcon : fullDownIcon}\n            width=\"16\"\n          />\n        )}\n      </button>\n\n      <div className={styles['adage-button-modal']}>\n        <dialog open={isOpen} className={styles['adage-button-children']}>\n          {children}\n        </dialog>\n      </div>\n    </div>\n  )\n}\n\nexport default AdageButtonFilter\n"],"names":["AdageButtonFilter","title","children","isActive","disabled","itemsLength","isOpen","setIsOpen","filterName","handleSubmit","containerRef","useRef","handleClickOutside","useCallback","e","_a","useEffect","modalButton","jsxs","styles","cn","jsx","SvgIcon","fullUpIcon","fullDownIcon","AdageButtonFilter$1"],"mappings":"0vBAoBAA,EAAA,CAAA,CAA2B,MAAAC,EACzB,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,YAAAC,EACA,OAAAC,EACA,UAAAC,EACA,WAAAC,EACA,aAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,SAAA,IAAA,EAEAC,EAAAC,EAAA,YAA2BC,GAAA,QAEvBC,EAAAL,EAAA,UAAA,MAAAK,EAAA,SAAAD,EAAA,SACER,IACEC,EAAA,CAAA,CAAAC,CAAA,EAAA,EAAA,CAAA,EACAC,IAEJ,EACF,CAAAF,EAAAE,EAAAH,EAAAE,CAAA,CAC4C,EAG9CQ,EAAAA,UAAA,KACEN,EAAA,SACE,SAAA,iBAAA,YAAAE,CAAA,EAEF,IAAA,CACE,SAAA,oBAAA,YAAAA,CAAA,CAA4D,GAC9D,CAAAF,EAAAE,CAAA,CAAA,EAGF,MAAAK,EAAA,IAAA,CACEV,EAAA,CAAA,CAAAC,CAAA,EAAA,CAAAF,CAAA,CAAA,CAAmC,EAGrC,OAAAY,EAAA,KAAA,MAAA,CAAA,IAAAR,EAAA,UAAAS,EAAA,iBAAA,EAAA,SAAA,CAEID,EAAA,KAAA,SAAC,CAAA,KAAA,SACM,SAAAd,EACL,QAAAa,EACS,UAAAG,EAAA,CAAAD,EAAA,cAAA,CAAA,EAAA,CAC+B,CAAAA,EAAA,wBAAA,CAAA,EAAAhB,EACF,CAAAgB,EAAA,uBAAA,CAAA,EAAAb,CACD,CAAA,EACpC,SAAA,CAEDe,EAAA,IAAA,MAAC,CAAA,UAAAD,EAAA,CACe,CAAAD,EAAA,qBAAA,CAAA,EAAAhB,EACqB,CAAAgB,EAAA,8BAAA,CAAA,EAAAf,CACS,CAAA,CAC3C,CAAA,EACFH,EACA,IAAME,GAAA,IAAAE,CAAA,IAA6B,CAAAD,GAAAiB,EAAA,IAElCC,EAAC,CAAA,UAAAH,EAAA,uBAAA,EAC0C,IAAA,GACrC,IAAAb,EAAAiB,EAAAC,EACuB,MAAA,IACrB,CAAA,CACR,CAAA,CAAA,EAEJH,EAAA,IAAA,MAAA,CAAA,UAAAF,EAAA,oBAAA,EAAA,SAAAE,MAAA,SAAA,CAAA,KAAAf,EAAA,UAAAa,EAAA,uBAAA,EAAA,SAAAjB,CAAA,CAAA,EAAA,CAMA,CAAA,CAAA,CAGN,EAEAuB,EAAAzB"}