import{j as d}from"./jsx-runtime-CfatFE5O.js";import{a as G,u as H,F as W}from"./formik.esm-DyanDbCL.js";import{r as Y}from"./index-ClcD9ViR.js";import{f as J}from"./full-next-DBJ5r-A4.js";import{B as K}from"./Button-DJHQc1no.js";import{B as Q,I as X}from"./types-DjX_gQD6.js";import{c as u,g as Z}from"./_commonjsHelpers-Cpj98o6Y.js";import{T as ee}from"./TextInput-CjQ0Ox_l.js";import"./index-DeARc5FM.js";import"./stroke-pass-C0Oiu4_F.js";import"./SvgIcon-B6esR8Vf.js";import"./Tooltip-CNRbx6pV.js";import"./useTooltipProps-C5TDwaI9.js";import"./Button.module-B-6rmrBu.js";import"./BaseInput-DeM_2B66.js";import"./FieldLayout-B6X2AoDt.js";import"./full-clear-CvNWe6Ae.js";import"./full-close-DkqMqJw6.js";import"./FieldError-B3YKY1IQ.js";import"./stroke-error-BKdTEWJV.js";var w={},b={},A={},T={};Object.defineProperty(T,"__esModule",{value:!0});function te(e,a){if(!e)throw new Error(a)}T.default=te;var ae=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(A,"__esModule",{value:!0});const g=ae(T);function ne(e){g.default(Array.isArray(e.domains),"domains must be an array"),g.default(Array.isArray(e.topLevelDomains),"topLevelDomains must be an array"),g.default(Array.isArray(e.secondLevelDomains),"secondLevelDomains must be an array"),g.default(typeof e.distanceFunction=="function","distanceFunction must be a function")}A.default=ne;var P={},O={};Object.defineProperty(O,"__esModule",{value:!0});function le(e){return encodeURI(e).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}O.default=le;var F={};Object.defineProperty(F,"__esModule",{value:!0});function ie(e){const{domain:a,domains:t,distanceFunction:r,threshold:i}=e;let l,s=1/0,n=null;if(!(!a||!t)){for(let o=0;o<t.length;o++){if(a===t[o])return a;l=r(a,t[o]),l<s&&(s=l,n=t[o])}if(s<=i&&n!==null)return n}}F.default=ie;var E={},I={};Object.defineProperty(I,"__esModule",{value:!0});const oe=/\s/;function re(e){return e.trim?e.trim():ue(se(e))}function se(e){return e.trimLeft?e.trimLeft():e.replace(/^\s\s*/,"")}function ue(e){if(e.trimRight)return e.trimRight();let a=e.length;for(;oe.test(e.charAt(--a)););return e.slice(0,a+1)}I.default=re;var de=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});const ce=de(I),me=2;function fe(e){const t=ce.default(e).split("@");if(t.length<me)return!1;for(let n=0;n<t.length;n++)if(t[n]==="")return!1;let r="",i="";const l=t.pop(),s=l.split(".");if(s.length===0)return!1;if(s.length==1)i=s[0];else{r=s[0];for(let n=1;n<s.length;n++)i+=s[n]+".";i=i.substring(0,i.length-1)}return{topLevelDomain:i,secondLevelDomain:r,domain:l,address:t.join("@")}}E.default=fe;var M=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(P,"__esModule",{value:!0});const pe=M(O),D=M(F),he=M(E);function _e(e){const a=pe.default(e.email.toLowerCase()),t=he.default(a);if(!t)return;const{domains:r,domainThreshold:i,distanceFunction:l,secondLevelDomains:s,topLevelDomains:n}=e;if(s&&n&&s.indexOf(t.secondLevelDomain)!==-1&&n.indexOf(t.topLevelDomain)!==-1)return;let o=D.default({domain:t.domain,domains:r,distanceFunction:l,threshold:i});if(o)return o==t.domain?void 0:{address:t.address,domain:o,full:t.address+"@"+o};const p=D.default({domain:t.secondLevelDomain,domains:s,distanceFunction:l,threshold:e.secondLevelThreshold}),m=D.default({domain:t.topLevelDomain,domains:n,distanceFunction:l,threshold:e.topLevelThreshold});if(t.domain){o=t.domain;let h=!1;if(p&&p!=t.secondLevelDomain&&(o=o.replace(t.secondLevelDomain,p),h=!0),m&&m!=t.topLevelDomain&&t.secondLevelDomain!==""&&(o=o.replace(new RegExp(t.topLevelDomain+"$"),m),h=!0),h)return{address:t.address,domain:o,full:t.address+"@"+o}}}P.default=_e;var N={},c={},S={};Object.defineProperty(S,"__esModule",{value:!0});function ge(e,a){if(e==null||e.length===0)return a==null||a.length===0?0:a.length;if(a==null||a.length===0)return e.length;let t=0,r=0,i=0,l=0;const s=5;for(;t+r<e.length&&t+i<a.length;){if(e.charAt(t+r)==a.charAt(t+i))l++;else{r=0,i=0;for(let n=0;n<s;n++){if(t+n<e.length&&e.charAt(t+n)==a.charAt(t)){r=n;break}if(t+n<a.length&&e.charAt(t)==a.charAt(t+n)){i=n;break}}}t++}return(e.length+a.length)/2-l}S.default=ge;var ve=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});c.POPULAR_TLDS=c.POPULAR_DOMAINS=c.DEFAULT_CONFIG=void 0;const Le=ve(S),x=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];c.POPULAR_DOMAINS=x;const q=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];c.POPULAR_TLDS=q;const De={domainThreshold:2,domains:x,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:q,distanceFunction:Le.default};c.DEFAULT_CONFIG=De;Object.defineProperty(N,"__esModule",{value:!0});const f=c;function ye(e){return{email:e.email,domains:e.domains||f.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||f.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||f.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||f.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||f.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||f.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||f.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}N.default=ye;var V=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});const be=V(A),Ae=V(P),Te=V(N);function Pe(e){const a=Te.default(e);be.default(a||{});const t=Ae.default(a);return!t&&e.empty&&e.empty(),t&&e.suggested&&e.suggested(t),t}b.default=Pe;(function(e){var a=u&&u.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.POPULAR_TLDS=e.POPULAR_DOMAINS=e.run=void 0;const t=a(b);e.run=t.default;const r=c;Object.defineProperty(e,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return r.POPULAR_DOMAINS}}),Object.defineProperty(e,"POPULAR_TLDS",{enumerable:!0,get:function(){return r.POPULAR_TLDS}});const i={run:t.default,POPULAR_DOMAINS:r.POPULAR_DOMAINS,POPULAR_TLDS:r.POPULAR_TLDS};e.default=i})(w);const Oe=Z(w),Fe=["gmail.com","orange.fr","wanadoo.fr","yahoo.fr","hotmail.fr","free.fr","fnac.com","hotmail.com","outlook.fr","cultura.fr"],Ee={domainThreshold:4,domains:Fe,secondLevelDomains:[],topLevelDomains:[]},Ie=(e,a)=>{var t;if(!a)return(t=Oe.run({...Ee,email:e}))==null?void 0:t.full},U={"email-validation-error":"_email-validation-error_t4an3_1","email-validation-tip":"_email-validation-tip_t4an3_9"},y=({name:e,placeholder:a,description:t,label:r,className:i,overrideInitialTip:l=null,maxLength:s=255,showMandatoryAsterisk:n})=>{const{setFieldValue:o,setFieldTouched:p}=G(),[m,h]=H(e),[_,L]=Y.useState(l),$=async()=>{if(m.value.length>0){const k=Ie(m.value.toString(),!!h.error);k&&L(k)}await p(m.name,!0)},B=()=>{L(null)},z=async()=>{await o(e,_,!0),L(null)};return d.jsx(d.Fragment,{children:d.jsx(ee,{label:r,name:e,placeholder:a,description:t,onBlur:$,onFocus:B,hideFooter:_!==null,autoComplete:"email",className:i,maxLength:s,showMandatoryAsterisk:n,ErrorDetails:_?d.jsxs("div",{className:U["email-validation-error"],children:[d.jsxs("div",{className:U["email-validation-tip"],children:["Voulez-vous plut√¥t dire ",_," ?"]}),d.jsx(K,{variant:Q.TERNARY,icon:J,iconPosition:X.LEFT,onClick:z,autoFocus:!0,children:"Appliquer la modification"})]}):d.jsx(d.Fragment,{})})})};try{y.displayName="EmailSpellCheckInput",y.__docgenInfo={description:"",displayName:"EmailSpellCheckInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | (Element & string)"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"255"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:null,description:`A flag to hide the label.
To be used with caution, as it can affect accessibility.
Do not use it if the label is mandatory, placeholder is not
a substitute for a label.`,name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:null,description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:null,description:`A flag to indicate that the field is optional.
It will display an asterisk next to the label.`,name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:null,description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:`A custom class for the field layout,
where label, description, input, and footer are displayed.`,name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:`A custom class for the footer,
where errors and character count are displayed.`,name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"A flag to display a smaller label.",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:null,description:`A flag to hide the footer.
To be used with caution, as it can affect accessibility.`,name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:'(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; display?: "clear" | "close"; })'}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},overrideInitialTip:{defaultValue:{value:"null"},description:"",name:"overrideInitialTip",required:!1,type:{name:"string | null"}}}}}catch{}const Ke={title:"ui-kit/forms/EmailSpellCheckInput",component:y,decorators:[e=>d.jsx(W,{initialValues:{email:""},onSubmit:()=>{},children:d.jsx(e,{})})]},v={args:{name:"email",label:"Adresse email",description:"Format: email@exemple.com",overrideInitialTip:"marie.dupont@gmail.com"}};var j,C,R;v.parameters={...v.parameters,docs:{...(j=v.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Adresse email',
    description: 'Format: email@exemple.com',
    overrideInitialTip: 'marie.dupont@gmail.com'
  }
}`,...(R=(C=v.parameters)==null?void 0:C.docs)==null?void 0:R.source}}};const Qe=["Default"];export{v as Default,Qe as __namedExportsOrder,Ke as default};
