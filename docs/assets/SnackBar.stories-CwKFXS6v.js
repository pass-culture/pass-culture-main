import{j as e}from"./jsx-runtime-1lBZAOPo.js";import{r as i}from"./iframe-Bs-3y4U5.js";import{c as r}from"./index-CJjIg_-E.js";import{f as R}from"./full-clear-Q4kCtSRL.js";import{f as B}from"./full-close-5Oxr7nnd.js";import{f as E}from"./full-validate-CbMNulkZ.js";import{S as w}from"./SvgIcon-CZIs8JdA.js";import{u as j}from"./useMediaQuery-BpjRXEiI.js";import"./preload-helper-PPVm8Dsz.js";var N={iphone5:{name:"iPhone 5",styles:{height:"568px",width:"320px"},type:"mobile"},iphone6:{name:"iPhone 6",styles:{height:"667px",width:"375px"},type:"mobile"},iphone6p:{name:"iPhone 6 Plus",styles:{height:"736px",width:"414px"},type:"mobile"},iphone8p:{name:"iPhone 8 Plus",styles:{height:"736px",width:"414px"},type:"mobile"},iphonex:{name:"iPhone X",styles:{height:"812px",width:"375px"},type:"mobile"},iphonexr:{name:"iPhone XR",styles:{height:"896px",width:"414px"},type:"mobile"},iphonexsmax:{name:"iPhone XS Max",styles:{height:"896px",width:"414px"},type:"mobile"},iphonese2:{name:"iPhone SE (2nd generation)",styles:{height:"667px",width:"375px"},type:"mobile"},iphone12mini:{name:"iPhone 12 mini",styles:{height:"812px",width:"375px"},type:"mobile"},iphone12:{name:"iPhone 12",styles:{height:"844px",width:"390px"},type:"mobile"},iphone12promax:{name:"iPhone 12 Pro Max",styles:{height:"926px",width:"428px"},type:"mobile"},iphoneSE3:{name:"iPhone SE 3rd generation",styles:{height:"667px",width:"375px"},type:"mobile"},iphone13:{name:"iPhone 13",styles:{height:"844px",width:"390px"},type:"mobile"},iphone13pro:{name:"iPhone 13 Pro",styles:{height:"844px",width:"390px"},type:"mobile"},iphone13promax:{name:"iPhone 13 Pro Max",styles:{height:"926px",width:"428px"},type:"mobile"},iphone14:{name:"iPhone 14",styles:{height:"844px",width:"390px"},type:"mobile"},iphone14pro:{name:"iPhone 14 Pro",styles:{height:"852px",width:"393px"},type:"mobile"},iphone14promax:{name:"iPhone 14 Pro Max",styles:{height:"932px",width:"430px"},type:"mobile"},ipad:{name:"iPad",styles:{height:"1024px",width:"768px"},type:"tablet"},ipad10p:{name:"iPad Pro 10.5-in",styles:{height:"1112px",width:"834px"},type:"tablet"},ipad11p:{name:"iPad Pro 11-in",styles:{height:"1194px",width:"834px"},type:"tablet"},ipad12p:{name:"iPad Pro 12.9-in",styles:{height:"1366px",width:"1024px"},type:"tablet"},galaxys5:{name:"Galaxy S5",styles:{height:"640px",width:"360px"},type:"mobile"},galaxys9:{name:"Galaxy S9",styles:{height:"740px",width:"360px"},type:"mobile"},nexus5x:{name:"Nexus 5X",styles:{height:"660px",width:"412px"},type:"mobile"},nexus6p:{name:"Nexus 6P",styles:{height:"732px",width:"412px"},type:"mobile"},pixel:{name:"Pixel",styles:{height:"960px",width:"540px"},type:"mobile"},pixelxl:{name:"Pixel XL",styles:{height:"1280px",width:"720px"},type:"mobile"}},I=N;const T="_container_11v8v_1",D="_wrapper_11v8v_6",O="_content_11v8v_14",V="_show_11v8v_58",M="_hide_11v8v_61",L="_success_11v8v_64",A="_error_11v8v_73",s={container:T,wrapper:D,"wrapper-border-radius-desktop":"_wrapper-border-radius-desktop_11v8v_1",content:O,"content-icon":"_content-icon_11v8v_20","content-text":"_content-text_11v8v_26","close-button-container":"_close-button-container_11v8v_32","close-button":"_close-button_11v8v_32","progress-bar-container":"_progress-bar-container_11v8v_45","progress-bar":"_progress-bar_11v8v_45","progress-fill":"_progress-fill_11v8v_1",show:V,"slide-in-bottom":"_slide-in-bottom_11v8v_1",hide:M,"slide-out-bottom":"_slide-out-bottom_11v8v_1",success:L,"content-icon-svg":"_content-icon-svg_11v8v_67",error:A,"slide-in-top":"_slide-in-top_11v8v_1","slide-out-top":"_slide-out-top_11v8v_1","visually-hidden":"_visually-hidden_11v8v_111"},U=5e3,X=1e4,q=120;var p=(t=>(t.SUCCESS="success",t.ERROR="error",t))(p||{});const C=300,W={success:{icon:E,ariaLabel:"Message de succès",role:"status",ariaLive:"polite"},error:{icon:R,ariaLabel:"Message d'erreur",role:"alert",ariaLive:"assertive"}},h=({variant:t="success",text:n,onClose:c,autoClose:b=!0,testId:_})=>{const[m,k]=i.useState(!1),v=i.useRef(!1),a=i.useRef(c);i.useEffect(()=>{a.current=c},[c]);const o=n.length<=q?U:X,d=i.useCallback(()=>{v.current||(v.current=!0,k(!0),setTimeout(()=>{a.current?.()},C))},[]),l=W[t];return i.useEffect(()=>{if(!b)return;const P=setTimeout(()=>{d()},o);return()=>clearTimeout(P)},[b,o,d]),e.jsxs("div",{className:r(s.container,s[t],m?s.hide:s.show),style:{"--snackbar-duration":`${o}ms`,"--snackbar-animation-duration":`${C}ms`},role:l.role,"aria-live":l.ariaLive,"aria-atomic":"true","data-testid":_,children:[e.jsxs("div",{className:r(s.wrapper),children:[e.jsxs("div",{className:r(s.content),children:[e.jsx("div",{className:r(s["content-icon"]),children:e.jsx(w,{src:l.icon,alt:"",width:"24",className:s["content-icon-svg"]})}),e.jsxs("p",{className:r(s["content-text"]),children:[e.jsxs("span",{className:s["visually-hidden"],children:[l.ariaLabel," :"," "]}),n]})]}),e.jsx("div",{className:r(s["close-button-container"]),children:e.jsx("button",{className:r(s["close-button"]),type:"button",onClick:d,"aria-label":"Fermer le message",children:e.jsx(w,{src:B,alt:"",width:"24",className:s["close-button-svg"]})})})]}),e.jsx("div",{className:r(s["progress-bar-container"]),children:e.jsx("div",{className:r(s["progress-bar"])})})]})};h.displayName="SnackBar";try{h.displayName="SnackBar",h.__docgenInfo={description:"",displayName:"SnackBar",props:{variant:{defaultValue:{value:"SnackBarVariant.SUCCESS"},description:"The variant of the snack bar",name:"variant",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}},text:{defaultValue:null,description:"The text of the snack bar",name:"text",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"The callback function to be called when the snack bar is closed",name:"onClose",required:!1,type:{name:"(() => void)"}},testId:{defaultValue:null,description:"The test id of the snack bar",name:"testId",required:!1,type:{name:"string"}},autoClose:{defaultValue:{value:"true"},description:"Whether the snack bar should automatically close or not",name:"autoClose",required:!1,type:{name:"boolean"}}}}}catch{}const ee={title:"@/design-system/SnackBar",component:h,parameters:{viewport:{options:I},docs:{description:{component:"Meta object for the SnackBar component."}}}},S=t=>{const[n,c]=i.useState(!0);return e.jsxs("div",{children:[!n&&e.jsx("button",{onClick:()=>c(!0),children:"Afficher la notification"}),n&&e.jsx(h,{...t,onClose:()=>c(!1)})]})},u={parameters:{docs:{title:"Notification success",description:{story:"Demonstration of a success notification."}}},render:t=>e.jsx(S,{...t}),args:{variant:p.SUCCESS,text:"Default Snack Bar",autoClose:!1,testId:"default-success-snack-bar"}},x={render:t=>e.jsx(S,{...t}),args:{variant:p.ERROR,text:"Snack Bar with an error",autoClose:!1,testId:"error-snack-bar"},parameters:{docs:{title:"Error notification",description:{story:"Demonstration of an error notification."}}}},g={render:t=>e.jsx(S,{...t}),args:{variant:p.SUCCESS,text:"Snack Bar with a very long message that lasts 10 seconds instead of 5 seconds by default (because it contains more than 120 characters)",autoClose:!1,testId:"long-message-success-snack-bar"}},y={render:t=>e.jsx(S,{...t}),args:{variant:p.ERROR,text:"Snack Bar with an error and a very long message that lasts 10 seconds instead of 5 seconds by default (because it contains more than 120 characters)",autoClose:!1,testId:"long-message-error-snack-bar"}},G=()=>{const[t,n]=i.useState([]),[c,b]=i.useState(0),_=j("(max-width: 600px)"),m=(a,o)=>{const d=c;b(l=>l+1),n(l=>[...l,{id:d,variant:a,text:o,date:new Date}])},k=a=>{n(o=>o.filter(d=>d.id!==a))},v=t.toSorted((a,o)=>(_?1:-1)*(a.date.getTime()-o.date.getTime()));return e.jsxs("div",{style:{height:"500px"},children:[e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx("button",{onClick:()=>m(p.SUCCESS,"Success notification"),children:"Add a success notification"}),e.jsx("button",{onClick:()=>m(p.ERROR,"Error notification"),children:"Add an error notification"}),e.jsx("button",{onClick:()=>m(p.SUCCESS,"Ceci est un message très long pour démontrer que la durée est de 10 secondes au lieu de 5 secondes quand le texte dépasse 120 caractères."),children:"Add a success notification with a long message."}),e.jsx("button",{onClick:()=>n([]),children:"Clear all notifications."})]}),e.jsx("div",{style:{alignItems:"flex-end",bottom:"24px",display:"flex",flexDirection:"column",gap:"8px",position:"fixed",right:"24px",zIndex:1e3},children:v.map(a=>e.jsx(h,{variant:a.variant,text:a.text,onClose:()=>k(a.id),autoClose:!0,testId:`snack-bar-${a.id}`},a.id))})]})},f={parameters:{docs:{description:{story:"Demonstration of stacking multiple notifications. Click on the buttons to add notifications that stack on the bottom right."}}},render:()=>e.jsx(G,{})};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  parameters: {
    docs: {
      title: 'Notification success',
      description: {
        story: 'Demonstration of a success notification.'
      }
    }
  },
  render: args => <SnackBarWithReopenButton {...args} />,
  args: {
    variant: SnackBarVariant.SUCCESS,
    text: 'Default Snack Bar',
    autoClose: false,
    testId: 'default-success-snack-bar'
  }
}`,...u.parameters?.docs?.source},description:{story:"Story for the default SnackBar component.",...u.parameters?.docs?.description}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: args => <SnackBarWithReopenButton {...args} />,
  args: {
    variant: SnackBarVariant.ERROR,
    text: 'Snack Bar with an error',
    autoClose: false,
    testId: 'error-snack-bar'
  },
  parameters: {
    docs: {
      title: 'Error notification',
      description: {
        story: 'Demonstration of an error notification.'
      }
    }
  }
}`,...x.parameters?.docs?.source},description:{story:"Story for the error SnackBar component.",...x.parameters?.docs?.description}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: args => <SnackBarWithReopenButton {...args} />,
  args: {
    variant: SnackBarVariant.SUCCESS,
    text: 'Snack Bar with a very long message that lasts 10 seconds instead of 5 seconds by default (because it contains more than 120 characters)',
    autoClose: false,
    testId: 'long-message-success-snack-bar'
  }
}`,...g.parameters?.docs?.source},description:{story:"Story for the long message success SnackBar component.",...g.parameters?.docs?.description}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: args => <SnackBarWithReopenButton {...args} />,
  args: {
    variant: SnackBarVariant.ERROR,
    text: 'Snack Bar with an error and a very long message that lasts 10 seconds instead of 5 seconds by default (because it contains more than 120 characters)',
    autoClose: false,
    testId: 'long-message-error-snack-bar'
  }
}`,...y.parameters?.docs?.source},description:{story:"Story for the long message success SnackBar component.",...y.parameters?.docs?.description}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  parameters: {
    docs: {
      description: {
        story: 'Demonstration of stacking multiple notifications. Click on the buttons to add notifications that stack on the bottom right.'
      }
    }
  },
  render: () => <PlaygroundComponent />
}`,...f.parameters?.docs?.source},description:{story:"Playground for the SnackBar component.",...f.parameters?.docs?.description}}};const te=["Default","ErrorVariant","LongMessageSuccess","LongMessageError","Playground"];export{u as Default,x as ErrorVariant,y as LongMessageError,g as LongMessageSuccess,f as Playground,te as __namedExportsOrder,ee as default};
