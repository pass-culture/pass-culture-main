import{j as oe}from"./jsx-runtime-Cf8x2fCZ.js";import{P as c}from"./index-BmyMa5aX.js";import{r as d,R as Ee}from"./index-QQMyt9Ur.js";import{a as Se}from"./tslib.es6-BUas5LQb.js";import{C as Rt}from"./Checkbox-CFp8fuv2.js";import{s as Dt}from"./stroke-search-dgesjRZH.js";import{B as Et}from"./BaseInput-B8c5gx_3.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-Chjiymov.js";import"./index-B0pXE9zJ.js";import"./Tag-DpLUbPXr.js";import"./full-thumb-up-Bb4kpRpM.js";import"./SvgIcon-B5V96DYN.js";function ye(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},M.apply(null,arguments)}var He={exports:{}},y={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze;function St(){if(Ze)return y;Ze=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),s=Symbol.for("react.server_context"),a=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),R;R=Symbol.for("react.module.reference");function m(l){if(typeof l=="object"&&l!==null){var K=l.$$typeof;switch(K){case e:switch(l=l.type,l){case r:case n:case i:case b:case p:return l;default:switch(l=l&&l.$$typeof,l){case s:case u:case a:case x:case V:case o:return l;default:return K}}case t:return K}}}return y.ContextConsumer=u,y.ContextProvider=o,y.Element=e,y.ForwardRef=a,y.Fragment=r,y.Lazy=x,y.Memo=V,y.Portal=t,y.Profiler=n,y.StrictMode=i,y.Suspense=b,y.SuspenseList=p,y.isAsyncMode=function(){return!1},y.isConcurrentMode=function(){return!1},y.isContextConsumer=function(l){return m(l)===u},y.isContextProvider=function(l){return m(l)===o},y.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===e},y.isForwardRef=function(l){return m(l)===a},y.isFragment=function(l){return m(l)===r},y.isLazy=function(l){return m(l)===x},y.isMemo=function(l){return m(l)===V},y.isPortal=function(l){return m(l)===t},y.isProfiler=function(l){return m(l)===n},y.isStrictMode=function(l){return m(l)===i},y.isSuspense=function(l){return m(l)===b},y.isSuspenseList=function(l){return m(l)===p},y.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===r||l===n||l===i||l===b||l===p||l===v||typeof l=="object"&&l!==null&&(l.$$typeof===x||l.$$typeof===V||l.$$typeof===o||l.$$typeof===u||l.$$typeof===a||l.$$typeof===R||l.getModuleId!==void 0)},y.typeOf=m,y}var et;function kt(){return et||(et=1,He.exports=St()),He.exports}kt();const tt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,nt=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",xe=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return nt(r.overflowY,t)||nt(r.overflowX,t)||(i=>{const n=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!n&&(n.clientHeight<i.scrollHeight||n.clientWidth<i.scrollWidth)})(e)}return!1},we=(e,t,r,i,n,o,u,s)=>o<e&&u>t||o>e&&u<t?0:o<=e&&s<=r||u>=t&&s>=r?o-e-i:u>t&&s<r||o<e&&s>r?u-t+n:0,Vt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Tt=(e,t)=>{var r,i,n,o;if(typeof document>"u")return[];const{inline:u,boundary:s,skipOverflowHiddenElements:a}=t,b=typeof s=="function"?s:_=>_!==s;if(!tt(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,V=[];let x=e;for(;tt(x)&&b(x);){if(x=Vt(x),x===p){V.push(x);break}x!=null&&x===document.body&&xe(x)&&!xe(document.documentElement)||x!=null&&xe(x,a)&&V.push(x)}const v=(i=(r=window.visualViewport)==null?void 0:r.width)!=null?i:innerWidth,R=(o=(n=window.visualViewport)==null?void 0:n.height)!=null?o:innerHeight,{scrollX:m,scrollY:l}=window,{height:K,width:C,top:X,right:D,bottom:Z,left:O}=e.getBoundingClientRect(),{top:E,right:$,left:L}=(_=>{const w=window.getComputedStyle(_);return{top:parseFloat(w.scrollMarginTop)||0,right:parseFloat(w.scrollMarginRight)||0,bottom:parseFloat(w.scrollMarginBottom)||0,left:parseFloat(w.scrollMarginLeft)||0}})(e);let F=X-E,T=u==="center"?O+C/2-L+$:u==="end"?D+$:O-L;const le=[];for(let _=0;_<V.length;_++){const w=V[_],{height:ae,width:ee,top:me,right:se,bottom:pe,left:te}=w.getBoundingClientRect();if(X>=0&&O>=0&&Z<=R&&D<=v&&(w===p&&!xe(w)||X>=me&&Z<=pe&&O>=te&&D<=se))return le;const ne=getComputedStyle(w),g=parseInt(ne.borderLeftWidth,10),f=parseInt(ne.borderTopWidth,10),h=parseInt(ne.borderRightWidth,10),I=parseInt(ne.borderBottomWidth,10);let S=0,k=0;const H="offsetWidth"in w?w.offsetWidth-w.clientWidth-g-h:0,q="offsetHeight"in w?w.offsetHeight-w.clientHeight-f-I:0,A="offsetWidth"in w?w.offsetWidth===0?0:ee/w.offsetWidth:0,P="offsetHeight"in w?w.offsetHeight===0?0:ae/w.offsetHeight:0;if(p===w)S=we(l,l+R,R,f,I,l+F,l+F+K,K),k=u==="start"?T:u==="center"?T-v/2:u==="end"?T-v:we(m,m+v,v,g,h,m+T,m+T+C,C),S=Math.max(0,S+l),k=Math.max(0,k+m);else{S=we(me,pe,ae,f,I+q,F,F+K,K),k=u==="start"?T-te-g:u==="center"?T-(te+ee/2)+H/2:u==="end"?T-se+h+H:we(te,se,ee,g,h+H,T,T+C,C);const{scrollLeft:B,scrollTop:re}=w;S=P===0?0:Math.max(0,Math.min(re+S/P,w.scrollHeight-ae/P+q)),k=A===0?0:Math.max(0,Math.min(B+k/A,w.scrollWidth-ee/A+H)),F+=re-S,T+=B-k}le.push({el:w,top:S,left:k})}return le};var Kt=0;function lt(){}function Ht(e,t){if(e){var r=Tt(e,{boundary:t});r.forEach(function(i){var n=i.el,o=i.top,u=i.left;n.scrollTop=o,n.scrollLeft=u})}}function rt(e,t,r){var i=e===t||t instanceof r.Node&&e.contains&&e.contains(t);return i}function at(e,t){var r;function i(){r&&clearTimeout(r)}function n(){for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];i(),r=setTimeout(function(){r=null,e.apply(void 0,u)},t)}return n.cancel=i,n}function N(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return t.some(function(s){return s&&s.apply(void 0,[i].concat(o)),i.preventDownshiftDefault||i.hasOwnProperty("nativeEvent")&&i.nativeEvent.preventDownshiftDefault})}}function Ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){t.forEach(function(n){typeof n=="function"?n(i):n&&(n.current=i)})}}function At(){return String(Kt++)}function Ae(e,t){return!e||!t?e:Object.keys(e).reduce(function(r,i){return r[i]=st(t,i)?t[i]:e[i],r},{})}function st(e,t){return e[t]!==void 0}function Pt(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Oe(e,t,r,i,n){var o=r.length;if(o===0)return-1;var u=o-1;(typeof e!="number"||e<0||e>u)&&(e=t>0?-1:u+1);var s=e+t;s<0?s=u:s>u&&(s=0);var a=ke(s,t<0,r,i,n);return a===-1?e>=o?-1:e:a}function ke(e,t,r,i,n){n===void 0&&(n=!1);var o=r.length;if(t){for(var u=e;u>=0;u--)if(!i(r[u],u))return u}else for(var s=e;s<o;s++)if(!i(r[s],s))return s;return n?ke(t?o-1:0,t,r,i):-1}function it(e,t,r,i){return i===void 0&&(i=!0),r&&t.some(function(n){return n&&(rt(n,e,r)||i&&rt(n,r.document.activeElement,r))})}var $t=at(function(e){ct(e).textContent=""},500);function ct(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Lt(e,t){if(!(!e||!t)){var r=ct(t);r.textContent=e,$t(t)}}function qt(e){var t=e?.getElementById("a11y-status-message");t&&t.remove()}var dt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Bt(e,t,r){var i=e.props,n=e.type,o={};Object.keys(t).forEach(function(u){Ft(u,e,t,r),r[u]!==t[u]&&(o[u]=r[u])}),i.onStateChange&&Object.keys(o).length&&i.onStateChange(M({type:n},o))}function Ft(e,t,r,i){var n=t.props,o=t.type,u="on"+Le(e)+"Change";n[u]&&i[e]!==void 0&&i[e]!==r[e]&&n[u](M({type:o},i))}function _t(e,t){return t.changes}var ut=at(function(e,t){Lt(e,t)},200),jt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect,Wt="useId"in Ee?function(t){var r=t.id,i=t.labelId,n=t.menuId,o=t.getItemId,u=t.toggleButtonId,s=t.inputId,a="downshift-"+Ee.useId();r||(r=a);var b=d.useRef({labelId:i||r+"-label",menuId:n||r+"-menu",getItemId:o||function(p){return r+"-item-"+p},toggleButtonId:u||r+"-toggle-button",inputId:s||r+"-input"});return b.current}:function(t){var r=t.id,i=r===void 0?"downshift-"+At():r,n=t.labelId,o=t.menuId,u=t.getItemId,s=t.toggleButtonId,a=t.inputId,b=d.useRef({labelId:n||i+"-label",menuId:o||i+"-menu",getItemId:u||function(p){return i+"-item-"+p},toggleButtonId:s||i+"-toggle-button",inputId:a||i+"-input"});return b.current};function Nt(e,t,r,i){var n,o;if(e===void 0){if(t===void 0)throw new Error(i);n=r[t],o=t}else o=t===void 0?r.indexOf(e):t,n=e;return[n,o]}function Le(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ft(e){var t=d.useRef(e);return t.current=e,t}function Ut(e,t,r,i){var n=d.useRef(),o=d.useRef(),u=d.useCallback(function(v,R){o.current=R,v=Ae(v,R.props);var m=e(v,R),l=R.props.stateReducer(v,M({},R,{changes:m}));return l},[e]),s=d.useReducer(u,t,r),a=s[0],b=s[1],p=ft(t),V=d.useCallback(function(v){return b(M({props:p.current},v))},[p]),x=o.current;return d.useEffect(function(){var v=Ae(n.current,x?.props),R=x&&n.current&&!i(v,a);R&&Bt(x,v,a),n.current=a},[a,x,i]),[a,V]}var fe={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:_t,scrollIntoView:Ht,environment:typeof window>"u"?void 0:window};function G(e,t,r){r===void 0&&(r=dt);var i=e["default"+Le(t)];return i!==void 0?i:r[t]}function he(e,t,r){r===void 0&&(r=dt);var i=e[t];if(i!==void 0)return i;var n=e["initial"+Le(t)];return n!==void 0?n:G(e,t,r)}function zt(e){var t=he(e,"selectedItem"),r=he(e,"isOpen"),i=Zt(e),n=he(e,"inputValue");return{highlightedIndex:i<0&&t&&r?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):i,isOpen:r,selectedItem:t,inputValue:n}}function ge(e,t,r){var i=e.items,n=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=e.isItemDisabled,s=e.itemToKey,a=t.selectedItem,b=t.highlightedIndex;return i.length===0?-1:n!==void 0&&b===n&&!u(i[n],n)?n:o!==void 0&&!u(i[o],o)?o:a?i.findIndex(function(p){return s(a)===s(p)}):r<0&&!u(i[i.length-1],i.length-1)?i.length-1:r>0&&!u(i[0],0)?0:-1}function Gt(e,t,r){var i=d.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return d.useEffect(function(){if(!e)return lt;var n=r.map(function(p){return p.current});function o(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function u(p){i.current.isMouseDown=!1,it(p.target,n,e)||t()}function s(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function a(){i.current.isTouchMove=!0}function b(p){i.current.isTouchEnd=!0,!i.current.isTouchMove&&!it(p.target,n,e,!1)&&t()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",u),e.addEventListener("touchstart",s),e.addEventListener("touchmove",a),e.addEventListener("touchend",b),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",b)}},[r,e,t]),i.current}var Xt=function(){return lt};function Yt(e,t,r,i){i===void 0&&(i={});var n=i.document,o=qe();d.useEffect(function(){if(!(!e||o||!n)){var u=e(t);ut(u,n)}},r),d.useEffect(function(){return function(){ut.cancel(),qt(n)}},[n])}function Jt(e){var t=e.highlightedIndex,r=e.isOpen,i=e.itemRefs,n=e.getItemNodeFromIndex,o=e.menuElement,u=e.scrollIntoView,s=d.useRef(!0);return jt(function(){t<0||!r||!Object.keys(i.current).length||(s.current===!1?s.current=!0:u(n(t),o))},[t]),s}function ot(e,t,r){var i;r===void 0&&(r=!0);var n=((i=e.items)==null?void 0:i.length)&&t>=0;return M({isOpen:!1,highlightedIndex:-1},n&&M({selectedItem:e.items[t],isOpen:G(e,"isOpen"),highlightedIndex:G(e,"highlightedIndex")},r&&{inputValue:e.itemToString(e.items[t])}))}function Qt(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function qe(){var e=Ee.useRef(!0);return Ee.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Pe(e){var t=G(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function Zt(e){var t=he(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Re={environment:c.shape({addEventListener:c.func.isRequired,removeEventListener:c.func.isRequired,document:c.shape({createElement:c.func.isRequired,getElementById:c.func.isRequired,activeElement:c.any.isRequired,body:c.any.isRequired}).isRequired,Node:c.func.isRequired}),itemToString:c.func,itemToKey:c.func,stateReducer:c.func},ht=M({},Re,{getA11yStatusMessage:c.func,highlightedIndex:c.number,defaultHighlightedIndex:c.number,initialHighlightedIndex:c.number,isOpen:c.bool,defaultIsOpen:c.bool,initialIsOpen:c.bool,selectedItem:c.any,initialSelectedItem:c.any,defaultSelectedItem:c.any,id:c.string,labelId:c.string,menuId:c.string,getItemId:c.func,toggleButtonId:c.string,onSelectedItemChange:c.func,onHighlightedIndexChange:c.func,onStateChange:c.func,onIsOpenChange:c.func,scrollIntoView:c.func});function en(e,t,r){var i=t.type,n=t.props,o;switch(i){case r.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:o={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ge(n,e,0)};break;case r.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:ge(n,e,0)};break;case r.FunctionCloseMenu:o={isOpen:!1};break;case r.FunctionSetHighlightedIndex:o={highlightedIndex:n.isItemDisabled(n.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case r.FunctionSetInputValue:o={inputValue:t.inputValue};break;case r.FunctionReset:o={highlightedIndex:Pe(n),isOpen:G(n,"isOpen"),selectedItem:G(n,"selectedItem"),inputValue:G(n,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return M({},e,o)}Se(Se({},ht),{items:c.array.isRequired,isItemDisabled:c.func});Se(Se({},fe),{isItemDisabled:function(){return!1}});var Be=0,Fe=1,_e=2,je=3,We=4,Ne=5,Ue=6,ze=7,Ge=8,Ve=9,Xe=10,gt=11,mt=12,Ye=13,pt=14,vt=15,It=16,bt=17,yt=18,Je=19,xt=20,wt=21,Qe=22,Ct=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:Qe,FunctionCloseMenu:bt,FunctionOpenMenu:It,FunctionReset:wt,FunctionSelectItem:Je,FunctionSetHighlightedIndex:yt,FunctionSetInputValue:xt,FunctionToggleMenu:vt,InputBlur:Ve,InputChange:Ge,InputClick:Xe,InputKeyDownArrowDown:Be,InputKeyDownArrowUp:Fe,InputKeyDownEnd:We,InputKeyDownEnter:ze,InputKeyDownEscape:_e,InputKeyDownHome:je,InputKeyDownPageDown:Ue,InputKeyDownPageUp:Ne,ItemClick:Ye,ItemMouseMove:mt,MenuMouseLeave:gt,ToggleButtonClick:pt});function tn(e){var t=zt(e),r=t.selectedItem,i=t.inputValue;return i===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(i=e.itemToString(r)),M({},t,{inputValue:i})}M({},ht,{items:c.array.isRequired,isItemDisabled:c.func,inputValue:c.string,defaultInputValue:c.string,initialInputValue:c.string,inputId:c.string,onInputValueChange:c.func});function nn(e,t,r,i){var n=d.useRef(),o=Ut(e,t,r,i),u=o[0],s=o[1],a=qe();return d.useEffect(function(){if(st(t,"selectedItem")){if(!a){var b=t.itemToKey(t.selectedItem)!==t.itemToKey(n.current);b&&s({type:Qe,inputValue:t.itemToString(t.selectedItem)})}n.current=u.selectedItem===n.current?t.selectedItem:u.selectedItem}},[u.selectedItem,t.selectedItem]),[Ae(u,t),s]}var rn=M({},fe,{isItemDisabled:function(){return!1}});function un(e,t){var r,i=t.type,n=t.props,o=t.altKey,u;switch(i){case Ye:u={isOpen:G(n,"isOpen"),highlightedIndex:Pe(n),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case Be:e.isOpen?u={highlightedIndex:Oe(e.highlightedIndex,1,n.items,n.isItemDisabled,!0)}:u={highlightedIndex:o&&e.selectedItem==null?-1:ge(n,e,1),isOpen:n.items.length>=0};break;case Fe:e.isOpen?o?u=ot(n,e.highlightedIndex):u={highlightedIndex:Oe(e.highlightedIndex,-1,n.items,n.isItemDisabled,!0)}:u={highlightedIndex:ge(n,e,-1),isOpen:n.items.length>=0};break;case ze:u=ot(n,e.highlightedIndex);break;case _e:u=M({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Ne:u={highlightedIndex:Oe(e.highlightedIndex,-10,n.items,n.isItemDisabled,!0)};break;case Ue:u={highlightedIndex:Oe(e.highlightedIndex,10,n.items,n.isItemDisabled,!0)};break;case je:u={highlightedIndex:ke(0,!1,n.items,n.isItemDisabled)};break;case We:u={highlightedIndex:ke(n.items.length-1,!0,n.items,n.isItemDisabled)};break;case Ve:u=M({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((r=n.items)==null?void 0:r.length)&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case Ge:u={isOpen:!0,highlightedIndex:Pe(n),inputValue:t.inputValue};break;case Xe:u={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ge(n,e,0)};break;case Je:u={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case Qe:u={inputValue:t.inputValue};break;default:return en(e,t,Ct)}return M({},e,u)}var on=["onMouseLeave","refKey","ref"],ln=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],an=["onClick","onPress","refKey","ref"],sn=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];De.stateChangeTypes=Ct;function De(e){e===void 0&&(e={});var t=M({},rn,e),r=t.items,i=t.scrollIntoView,n=t.environment,o=t.getA11yStatusMessage,u=nn(un,t,tn,Qt),s=u[0],a=u[1],b=s.isOpen,p=s.highlightedIndex,V=s.selectedItem,x=s.inputValue,v=d.useRef(null),R=d.useRef({}),m=d.useRef(null),l=d.useRef(null),K=qe(),C=Wt(t),X=d.useRef(),D=ft({state:s,props:t}),Z=d.useCallback(function(g){return R.current[C.getItemId(g)]},[C]);Yt(o,s,[b,p,V,x],n);var O=Jt({menuElement:v.current,highlightedIndex:p,isOpen:b,itemRefs:R,scrollIntoView:i,getItemNodeFromIndex:Z});d.useEffect(function(){var g=he(t,"isOpen");g&&m.current&&m.current.focus()},[]),d.useEffect(function(){K||(X.current=r.length)});var E=Gt(n,d.useCallback(function(){D.current.state.isOpen&&a({type:Ve,selectItem:!1})},[a,D]),d.useMemo(function(){return[v,l,m]},[v.current,l.current,m.current])),$=Xt();d.useEffect(function(){b||(R.current={})},[b]),d.useEffect(function(){var g;!b||!(n!=null&&n.document)||!(m!=null&&(g=m.current)!=null&&g.focus)||n.document.activeElement!==m.current&&m.current.focus()},[b,n]);var L=d.useMemo(function(){return{ArrowDown:function(f){f.preventDefault(),a({type:Be,altKey:f.altKey})},ArrowUp:function(f){f.preventDefault(),a({type:Fe,altKey:f.altKey})},Home:function(f){D.current.state.isOpen&&(f.preventDefault(),a({type:je}))},End:function(f){D.current.state.isOpen&&(f.preventDefault(),a({type:We}))},Escape:function(f){var h=D.current.state;(h.isOpen||h.inputValue||h.selectedItem||h.highlightedIndex>-1)&&(f.preventDefault(),a({type:_e}))},Enter:function(f){var h=D.current.state;!h.isOpen||f.which===229||(f.preventDefault(),a({type:ze}))},PageUp:function(f){D.current.state.isOpen&&(f.preventDefault(),a({type:Ne}))},PageDown:function(f){D.current.state.isOpen&&(f.preventDefault(),a({type:Ue}))}}},[a,D]),F=d.useCallback(function(g){return M({id:C.labelId,htmlFor:C.inputId},g)},[C]),T=d.useCallback(function(g,f){var h,I=g===void 0?{}:g,S=I.onMouseLeave,k=I.refKey,H=k===void 0?"ref":k,q=I.ref,A=ye(I,on),P=f===void 0?{}:f;return P.suppressRefError,M((h={},h[H]=Ce(q,function(B){v.current=B}),h.id=C.menuId,h.role="listbox",h["aria-labelledby"]=A&&A["aria-label"]?void 0:""+C.labelId,h.onMouseLeave=N(S,function(){a({type:gt})}),h),A)},[a,$,C]),le=d.useCallback(function(g){var f,h,I=g===void 0?{}:g,S=I.item,k=I.index,H=I.refKey,q=H===void 0?"ref":H,A=I.ref,P=I.onMouseMove,B=I.onMouseDown,re=I.onClick;I.onPress;var ie=I.disabled,Te=ye(I,ln);ie!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var j=D.current,ve=j.props,Ie=j.state,be=Nt(S,k,ve.items,"Pass either item or index to getItemProps!"),Ke=be[0],W=be[1],ue=ve.isItemDisabled(Ke,W),U="onClick",Y=re,z=function(){E.isTouchEnd||W===Ie.highlightedIndex||(O.current=!1,a({type:mt,index:W,disabled:ue}))},J=function(){a({type:Ye,index:W})},Ot=function(Mt){return Mt.preventDefault()};return M((f={},f[q]=Ce(A,function(ce){ce&&(R.current[C.getItemId(W)]=ce)}),f["aria-disabled"]=ue,f["aria-selected"]=W===Ie.highlightedIndex,f.id=C.getItemId(W),f.role="option",f),!ue&&(h={},h[U]=N(Y,J),h),{onMouseMove:N(P,z),onMouseDown:N(B,Ot)},Te)},[a,C,D,E,O]),_=d.useCallback(function(g){var f,h=g===void 0?{}:g,I=h.onClick;h.onPress;var S=h.refKey,k=S===void 0?"ref":S,H=h.ref,q=ye(h,an),A=D.current.state,P=function(){a({type:pt})};return M((f={},f[k]=Ce(H,function(B){l.current=B}),f["aria-controls"]=C.menuId,f["aria-expanded"]=A.isOpen,f.id=C.toggleButtonId,f.tabIndex=-1,f),!q.disabled&&M({},{onClick:N(I,P)}),q)},[a,D,C]),w=d.useCallback(function(g,f){var h,I=g===void 0?{}:g,S=I.onKeyDown,k=I.onChange,H=I.onInput,q=I.onBlur;I.onChangeText;var A=I.onClick,P=I.refKey,B=P===void 0?"ref":P,re=I.ref,ie=ye(I,sn),Te=f===void 0?{}:f;Te.suppressRefError;var j=D.current.state,ve=function(z){var J=Pt(z);J&&L[J]&&L[J](z)},Ie=function(z){a({type:Ge,inputValue:z.target.value})},be=function(z){if(n!=null&&n.document&&j.isOpen&&!E.isMouseDown){var J=z.relatedTarget===null&&n.document.activeElement!==n.document.body;a({type:Ve,selectItem:!J})}},Ke=function(){a({type:Xe})},W="onChange",ue={};if(!ie.disabled){var U;ue=(U={},U[W]=N(k,H,Ie),U.onKeyDown=N(S,ve),U.onBlur=N(q,be),U.onClick=N(A,Ke),U)}return M((h={},h[B]=Ce(re,function(Y){m.current=Y}),h["aria-activedescendant"]=j.isOpen&&j.highlightedIndex>-1?C.getItemId(j.highlightedIndex):"",h["aria-autocomplete"]="list",h["aria-controls"]=C.menuId,h["aria-expanded"]=j.isOpen,h["aria-labelledby"]=ie&&ie["aria-label"]?void 0:C.labelId,h.autoComplete="off",h.id=C.inputId,h.role="combobox",h.value=j.inputValue,h),ue,ie)},[a,C,n,L,D,E,$]),ae=d.useCallback(function(){a({type:vt})},[a]),ee=d.useCallback(function(){a({type:bt})},[a]),me=d.useCallback(function(){a({type:It})},[a]),se=d.useCallback(function(g){a({type:yt,highlightedIndex:g})},[a]),pe=d.useCallback(function(g){a({type:Je,selectedItem:g})},[a]),te=d.useCallback(function(g){a({type:xt,inputValue:g})},[a]),ne=d.useCallback(function(){a({type:wt})},[a]);return{getItemProps:le,getLabelProps:F,getMenuProps:T,getInputProps:w,getToggleButtonProps:_,toggleMenu:ae,openMenu:me,closeMenu:ee,setHighlightedIndex:se,setInputValue:te,selectItem:pe,reset:ne,highlightedIndex:p,isOpen:b,selectedItem:V,inputValue:x}}Re.stateReducer,Re.itemToKey,Re.environment,c.array,c.array,c.array,c.func,c.number,c.number,c.number,c.func,c.func,c.string,c.string;fe.itemToKey,fe.stateReducer,fe.environment;const cn="_container_i3hxm_1",de={container:cn,"search-list":"_search-list_i3hxm_7","visually-hidden":"_visually-hidden_i3hxm_31","checkbox-label":"_checkbox-label_i3hxm_43"},dn=(e,t)=>{const r=new RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,""),"i");return e.filter(i=>i.label.match(r))},fn=(e,t)=>e.sort((r,i)=>Q(t,i.value)&&!Q(t,r.value)?1:!Q(t,i.value)&&Q(t,r.value)?-1:r.label.localeCompare(i.label)),Q=(e,t)=>{if(Array.isArray(t)){const r=new Set(t);return e.some(i=>Array.isArray(i)&&i.length===t.length&&i.every(n=>r.has(n)))}return e.includes(t)},$e=({options:e,name:t,label:r,isOpen:i,selectedOptions:n,onSelectedOptionsChanged:o,sortOptions:u,filterMaxLength:s=255})=>{const[a,b]=d.useState(""),[p,V]=d.useState([]),x=d.useId(),[v,R]=d.useState([]);d.useEffect(()=>{n&&R(n)},[n]);const{getLabelProps:m,getMenuProps:l,getInputProps:K,getItemProps:C,setInputValue:X}=De({items:p,defaultHighlightedIndex:0,selectedItem:null,stateReducer(O,E){const{changes:$,type:L}=E;return L===De.stateChangeTypes.InputKeyDownEnter||L===De.stateChangeTypes.ItemClick?{...$,isOpen:!0}:$},onInputValueChange:({inputValue:O})=>{b(O||"")},itemToString:()=>a}),D=O=>Q(v,O.value)?v.length>0&&Array.isArray(v[0])?v.filter(E=>!O.value.some($=>E.includes($))):v.filter(E=>!Q([O.value],E)):[...v,O.value],Z=O=>{const E=D(O);o(E),R(E)};return d.useEffect(()=>{b(""),X(""),V((u??fn)(e,v))},[i]),oe.jsxs("div",{className:de.container,children:[oe.jsx("label",{htmlFor:"search",className:de["visually-hidden"],...m(),children:r}),oe.jsx(Et,{type:"search",name:"search",className:de["search-input"],maxLength:s,value:a,"aria-describedby":x,leftIcon:Dt,...K()}),oe.jsx("ul",{className:de["search-list"],...l({"aria-activedescendant":K()["aria-activedescendant"]}),children:dn(p,a).map((O,E)=>{const{ref:$,...L}=C({item:O,index:E}),F=Array.isArray(O.value)?O.value.join("_"):O.value,T=Q(v,O.value);return oe.jsx("li",{children:oe.jsx(Rt,{label:O.label,checked:T,onChange:()=>Z(O),...L,className:de["checkbox-label"],sizing:"fill","aria-selected":T},`${t}-${O.label}`)},`${F}`)})})]})};try{$e.displayName="AdageMultiselect",$e.__docgenInfo={description:"",displayName:"AdageMultiselect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ItemProps[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},selectedOptions:{defaultValue:null,description:"",name:"selectedOptions",required:!1,type:{name:"(string | number | string[])[]"}},onSelectedOptionsChanged:{defaultValue:null,description:"",name:"onSelectedOptionsChanged",required:!0,type:{name:"(selectedItems: (string | number | string[])[]) => void"}},filterMaxLength:{defaultValue:{value:"255"},description:"",name:"filterMaxLength",required:!1,type:{name:"number"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"((items: ItemProps[], selectedItems: (string | number | string[])[]) => ItemProps[])"}}}}}catch{}const En={title:"@/ui-kit/forms/AdageMultiselect",component:$e},hn=[{value:1,label:"Architecture"},{value:2,label:"Arts du cirque et arts de la rue"},{value:3,label:"Gastronomie et arts du goût"},{value:4,label:"Arts numériques"},{value:5,label:"Arts visuels, arts plastiques, arts appliqués"},{value:6,label:"Cinéma, audiovisuel"},{value:7,label:"Culture scientifique, technique et industrielle"},{value:8,label:"Danse"},{value:9,label:"Design"},{value:10,label:"Développement durable"},{value:11,label:"Univers du livre, de la lecture et des écritures"},{value:12,label:"Musique"},{value:13,label:"Mémoire"},{value:14,label:"Photographie"},{value:15,label:"Théâtre, expression dramatique, marionnettes"},{value:16,label:"Bande dessinée"},{value:17,label:"Média et information"},{value:18,label:"Patrimoine"}],Me={args:{options:hn,name:"educationalDomains",label:"Rechercher un domaine artistique",isOpen:!0,selectedOptions:[],onSelectedOptionsChanged:e=>e}};Me.parameters={...Me.parameters,docs:{...Me.parameters?.docs,source:{originalSource:`{
  args: {
    options,
    name: 'educationalDomains',
    label: 'Rechercher un domaine artistique',
    isOpen: true,
    selectedOptions: [],
    onSelectedOptionsChanged: selectedOptions => {
      return selectedOptions;
    }
  }
}`,...Me.parameters?.docs?.source}}};const Sn=["Default"];export{Me as Default,Sn as __namedExportsOrder,En as default};
