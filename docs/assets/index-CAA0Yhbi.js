import{r as n,a as W}from"./index-ClcD9ViR.js";import{R as B}from"./index-NlA48SPU.js";import{N as H,s as G,u as X,a as M,b as j,c as Y,d as O,l as q,D as J,e as Q,R as Z,f as $}from"./index-C3LhMar3.js";/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U(){return U=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U.apply(this,arguments)}function ee(e,a){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(a.indexOf(i)>=0)&&(t[i]=e[i]);return t}function te(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ne(e,a){return e.button===0&&(!a||a==="_self")&&!te(e)}function _(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,t)=>{let r=e[t];return a.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function re(e,a){let t=_(e);return a&&a.forEach((r,i)=>{t.has(i)||a.getAll(i).forEach(o=>{t.append(i,o)})}),t}const ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ie="6";try{window.__reactRouterVersion=ie}catch{}const se=n.createContext({isTransitioning:!1}),oe=n.createContext(new Map),le="startTransition",k=W[le],ce="flushSync",V=B[ce];function ue(e){k?k(e):e()}function x(e){V?V(e):e()}class fe{constructor(){this.status="pending",this.promise=new Promise((a,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",a(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function Re(e){let{fallbackElement:a,router:t,future:r}=e,[i,o]=n.useState(t.state),[u,d]=n.useState(),[f,s]=n.useState({isTransitioning:!1}),[c,m]=n.useState(),[h,y]=n.useState(),[S,C]=n.useState(),L=n.useRef(new Map),{v7_startTransition:b}=r||{},E=n.useCallback(l=>{b?ue(l):l()},[b]),p=n.useCallback((l,g)=>{let{deletedFetchers:v,flushSync:F,viewTransitionOpts:R}=g;l.fetchers.forEach((T,z)=>{T.data!==void 0&&L.current.set(z,T.data)}),v.forEach(T=>L.current.delete(T));let K=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!R||K){F?x(()=>o(l)):E(()=>o(l));return}if(F){x(()=>{h&&(c&&c.resolve(),h.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let T=t.window.document.startViewTransition(()=>{x(()=>o(l))});T.finished.finally(()=>{x(()=>{m(void 0),y(void 0),d(void 0),s({isTransitioning:!1})})}),x(()=>y(T));return}h?(c&&c.resolve(),h.skipTransition(),C({state:l,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(d(l),s({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[t.window,h,c,L,E]);n.useLayoutEffect(()=>t.subscribe(p),[t,p]),n.useEffect(()=>{f.isTransitioning&&!f.flushSync&&m(new fe)},[f]),n.useEffect(()=>{if(c&&u&&t.window){let l=u,g=c.promise,v=t.window.document.startViewTransition(async()=>{E(()=>o(l)),await g});v.finished.finally(()=>{m(void 0),y(void 0),d(void 0),s({isTransitioning:!1})}),y(v)}},[E,u,c,t.window]),n.useEffect(()=>{c&&u&&i.location.key===u.location.key&&c.resolve()},[c,h,i.location,u]),n.useEffect(()=>{!f.isTransitioning&&S&&(d(S.state),s({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),C(void 0))},[f.isTransitioning,S]),n.useEffect(()=>{},[]);let w=n.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:l=>t.navigate(l),push:(l,g,v)=>t.navigate(l,{state:g,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(l,g,v)=>t.navigate(l,{replace:!0,state:g,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[t]),P=t.basename||"/",I=n.useMemo(()=>({router:t,navigator:w,static:!1,basename:P}),[t,w,P]),N=n.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return n.useEffect(()=>q(r,t.future),[r,t.future]),n.createElement(n.Fragment,null,n.createElement(J.Provider,{value:I},n.createElement(Q.Provider,{value:i},n.createElement(oe.Provider,{value:L.current},n.createElement(se.Provider,{value:f},n.createElement(Z,{basename:P,location:i.location,navigationType:i.historyAction,navigator:w,future:N},i.initialized||t.future.v7_partialHydration?n.createElement(de,{routes:t.routes,future:t.future,state:i}):a))))),null)}const de=n.memo(he);function he(e){let{routes:a,future:t,state:r}=e;return $(a,void 0,r,t)}const pe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=n.forwardRef(function(a,t){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:d,target:f,to:s,preventScrollReset:c,viewTransition:m}=a,h=ee(a,ae),{basename:y}=n.useContext(H),S,C=!1;if(typeof s=="string"&&ve.test(s)&&(S=s,pe))try{let p=new URL(window.location.href),w=s.startsWith("//")?new URL(p.protocol+s):new URL(s),P=G(w.pathname,y);w.origin===p.origin&&P!=null?s=P+w.search+w.hash:C=!0}catch{}let L=X(s,{relative:i}),b=me(s,{replace:u,state:d,target:f,preventScrollReset:c,relative:i,viewTransition:m});function E(p){r&&r(p),p.defaultPrevented||b(p)}return n.createElement("a",U({},h,{href:S||L,onClick:C||o?r:E,ref:t,target:f}))});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A||(A={}));var D;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D||(D={}));function me(e,a){let{target:t,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:d}=a===void 0?{}:a,f=M(),s=j(),c=Y(e,{relative:u});return n.useCallback(m=>{if(ne(m,t)){m.preventDefault();let h=r!==void 0?r:O(s)===O(c);f(e,{replace:h,state:i,preventScrollReset:o,relative:u,viewTransition:d})}},[s,f,c,r,i,t,e,o,u,d])}function ye(e){let a=n.useRef(_(e)),t=n.useRef(!1),r=j(),i=n.useMemo(()=>re(r.search,t.current?null:a.current),[r.search]),o=M(),u=n.useCallback((d,f)=>{const s=_(typeof d=="function"?d(i):d);t.current=!0,o("?"+s,f)},[o,i]);return[i,u]}export{Te as L,Re as R,ye as u};
