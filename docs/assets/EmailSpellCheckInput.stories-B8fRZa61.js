import{j as d}from"./jsx-runtime-Cdt8AxIN.js";import{c as B,d as z,b as G}from"./formik.esm-CrElIVAo.js";import{r as H}from"./index-UfW7PFvU.js";import{f as W}from"./full-next-DBJ5r-A4.js";import{B as Y}from"./Button-ClNO6hxz.js";import{B as J,I as K}from"./types-DjX_gQD6.js";import{c as u,g as Q}from"./_commonjsHelpers-BosuxZz1.js";import{T as X}from"./TextInput-BEaQmdkK.js";import"./index-BpvXyOxN.js";import"./stroke-pass-C0Oiu4_F.js";import"./SvgIcon-CiXwVD51.js";import"./Tooltip-BHSkfg44.js";import"./useTooltipProps-BFblAJfn.js";import"./Button.module-MkkKME3V.js";import"./BaseInput-CDc1GpK4.js";import"./FieldLayout--8gBm4cw.js";import"./full-clear-CvNWe6Ae.js";import"./FieldError-WjMxD2uM.js";import"./stroke-error-BKdTEWJV.js";var C={},D={},y={},b={};Object.defineProperty(b,"__esModule",{value:!0});function Z(e,a){if(!e)throw new Error(a)}b.default=Z;var ee=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y,"__esModule",{value:!0});const h=ee(b);function te(e){h.default(Array.isArray(e.domains),"domains must be an array"),h.default(Array.isArray(e.topLevelDomains),"topLevelDomains must be an array"),h.default(Array.isArray(e.secondLevelDomains),"secondLevelDomains must be an array"),h.default(typeof e.distanceFunction=="function","distanceFunction must be a function")}y.default=te;var A={},P={};Object.defineProperty(P,"__esModule",{value:!0});function ae(e){return encodeURI(e).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}P.default=ae;var T={};Object.defineProperty(T,"__esModule",{value:!0});function ne(e){const{domain:a,domains:t,distanceFunction:r,threshold:o}=e;let i,s=1/0,n=null;if(!(!a||!t)){for(let l=0;l<t.length;l++){if(a===t[l])return a;i=r(a,t[l]),i<s&&(s=i,n=t[l])}if(s<=o&&n!==null)return n}}T.default=ne;var O={},E={};Object.defineProperty(E,"__esModule",{value:!0});const le=/\s/;function ie(e){return e.trim?e.trim():re(oe(e))}function oe(e){return e.trimLeft?e.trimLeft():e.replace(/^\s\s*/,"")}function re(e){if(e.trimRight)return e.trimRight();let a=e.length;for(;le.test(e.charAt(--a)););return e.slice(0,a+1)}E.default=ie;var se=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O,"__esModule",{value:!0});const ue=se(E),de=2;function ce(e){const t=ue.default(e).split("@");if(t.length<de)return!1;for(let n=0;n<t.length;n++)if(t[n]==="")return!1;let r="",o="";const i=t.pop(),s=i.split(".");if(s.length===0)return!1;if(s.length==1)o=s[0];else{r=s[0];for(let n=1;n<s.length;n++)o+=s[n]+".";o=o.substring(0,o.length-1)}return{topLevelDomain:o,secondLevelDomain:r,domain:i,address:t.join("@")}}O.default=ce;var F=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(A,"__esModule",{value:!0});const me=F(P),v=F(T),fe=F(O);function pe(e){const a=me.default(e.email.toLowerCase()),t=fe.default(a);if(!t)return;const{domains:r,domainThreshold:o,distanceFunction:i,secondLevelDomains:s,topLevelDomains:n}=e;if(s&&n&&s.indexOf(t.secondLevelDomain)!==-1&&n.indexOf(t.topLevelDomain)!==-1)return;let l=v.default({domain:t.domain,domains:r,distanceFunction:i,threshold:o});if(l)return l==t.domain?void 0:{address:t.address,domain:l,full:t.address+"@"+l};const _=v.default({domain:t.secondLevelDomain,domains:s,distanceFunction:i,threshold:e.secondLevelThreshold}),m=v.default({domain:t.topLevelDomain,domains:n,distanceFunction:i,threshold:e.topLevelThreshold});if(t.domain){l=t.domain;let f=!1;if(_&&_!=t.secondLevelDomain&&(l=l.replace(t.secondLevelDomain,_),f=!0),m&&m!=t.topLevelDomain&&t.secondLevelDomain!==""&&(l=l.replace(new RegExp(t.topLevelDomain+"$"),m),f=!0),f)return{address:t.address,domain:l,full:t.address+"@"+l}}}A.default=pe;var I={},c={},M={};Object.defineProperty(M,"__esModule",{value:!0});function _e(e,a){if(e==null||e.length===0)return a==null||a.length===0?0:a.length;if(a==null||a.length===0)return e.length;let t=0,r=0,o=0,i=0;const s=5;for(;t+r<e.length&&t+o<a.length;){if(e.charAt(t+r)==a.charAt(t+o))i++;else{r=0,o=0;for(let n=0;n<s;n++){if(t+n<e.length&&e.charAt(t+n)==a.charAt(t)){r=n;break}if(t+n<a.length&&e.charAt(t)==a.charAt(t+n)){o=n;break}}}t++}return(e.length+a.length)/2-i}M.default=_e;var he=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});c.POPULAR_TLDS=c.POPULAR_DOMAINS=c.DEFAULT_CONFIG=void 0;const ge=he(M),R=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];c.POPULAR_DOMAINS=R;const x=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];c.POPULAR_TLDS=x;const ve={domainThreshold:2,domains:R,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:x,distanceFunction:ge.default};c.DEFAULT_CONFIG=ve;Object.defineProperty(I,"__esModule",{value:!0});const p=c;function Le(e){return{email:e.email,domains:e.domains||p.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||p.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||p.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||p.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||p.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||p.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||p.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}I.default=Le;var N=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});const De=N(y),ye=N(A),be=N(I);function Ae(e){const a=be.default(e);De.default(a||{});const t=ye.default(a);return!t&&e.empty&&e.empty(),t&&e.suggested&&e.suggested(t),t}D.default=Ae;(function(e){var a=u&&u.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.POPULAR_TLDS=e.POPULAR_DOMAINS=e.run=void 0;const t=a(D);e.run=t.default;const r=c;Object.defineProperty(e,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return r.POPULAR_DOMAINS}}),Object.defineProperty(e,"POPULAR_TLDS",{enumerable:!0,get:function(){return r.POPULAR_TLDS}});const o={run:t.default,POPULAR_DOMAINS:r.POPULAR_DOMAINS,POPULAR_TLDS:r.POPULAR_TLDS};e.default=o})(C);const Pe=Q(C),Te=["gmail.com","orange.fr","wanadoo.fr","yahoo.fr","hotmail.fr","free.fr","fnac.com","hotmail.com","outlook.fr","cultura.fr"],Oe={domainThreshold:4,domains:Te,secondLevelDomains:[],topLevelDomains:[]},Ee=(e,a)=>{var t;if(!a)return(t=Pe.run({...Oe,email:e}))==null?void 0:t.full},U={"email-validation-error":"_email-validation-error_aiae8_2","email-validation-tip":"_email-validation-tip_aiae8_10"},L=({name:e,placeholder:a,label:t,className:r,overrideInitialTip:o=null,maxLength:i=255})=>{const{setFieldValue:s,setFieldTouched:n}=B(),[l,_]=z(e),[m,f]=H.useState(o),q=async()=>{if(l.value.length>0){const S=Ee(l.value.toString(),!!_.error);S&&f(S)}await n(l.name,!0)},w=()=>{f(null)},$=async()=>{await s(e,m,!0),f(null)};return d.jsx(d.Fragment,{children:d.jsx(X,{label:t,name:e,placeholder:a,onBlur:q,onFocus:w,hideFooter:m!==null,autoComplete:"email",className:r,maxLength:i,ErrorDetails:m?d.jsxs("div",{className:U["email-validation-error"],children:[d.jsxs("div",{className:U["email-validation-tip"],children:["Voulez-vous plut√¥t dire ",m," ?"]}),d.jsx(Y,{variant:J.TERNARY,icon:W,iconPosition:K.LEFT,onClick:$,autoFocus:!0,children:"Appliquer la modification"})]}):d.jsx(d.Fragment,{})})})};try{L.displayName="EmailSpellCheckInput",L.__docgenInfo={description:"",displayName:"EmailSpellCheckInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | (Element & string)"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"255"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:null,description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:null,description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:null,description:"",name:"isOptional",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:null,description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:"(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; })"}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},overrideInitialTip:{defaultValue:{value:"null"},description:"",name:"overrideInitialTip",required:!1,type:{name:"string | null"}}}}}catch{}const We={title:"ui-kit/forms/EmailSpellCheckInput",component:L,decorators:[e=>d.jsx(G,{initialValues:{email:""},onSubmit:()=>{},children:d.jsx(e,{})})]},g={args:{name:"email",label:"Adresse email",placeholder:"email@exemple.com",overrideInitialTip:"marie.dupont@gmail.com"}};var j,V,k;g.parameters={...g.parameters,docs:{...(j=g.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Adresse email',
    placeholder: 'email@exemple.com',
    overrideInitialTip: 'marie.dupont@gmail.com'
  }
}`,...(k=(V=g.parameters)==null?void 0:V.docs)==null?void 0:k.source}}};const Ye=["Default"];export{g as Default,Ye as __namedExportsOrder,We as default};
