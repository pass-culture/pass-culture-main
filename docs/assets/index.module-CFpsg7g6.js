import{r as e}from"./iframe-CK9LeSUu.js";function C(f,n,i,o){var d=this,c=e.useRef(null),a=e.useRef(0),l=e.useRef(0),t=e.useRef(null),s=e.useRef([]),m=e.useRef(),v=e.useRef(),F=e.useRef(f),R=e.useRef(!0);F.current=f;var y=typeof window<"u",w=!n&&n!==0&&y;if(typeof f!="function")throw new TypeError("Expected a function");n=+n||0;var T=!!(i=i||{}).leading,b=!("trailing"in i)||!!i.trailing,p="maxWait"in i,M="debounceOnServer"in i&&!!i.debounceOnServer,A=p?Math.max(+i.maxWait||0,n):null;e.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var O=e.useMemo(function(){var D=function(r){var u=s.current,h=m.current;return s.current=m.current=null,a.current=r,l.current=l.current||r,v.current=F.current.apply(h,u)},x=function(r,u){w&&cancelAnimationFrame(t.current),t.current=w?requestAnimationFrame(r):setTimeout(r,u)},S=function(r){if(!R.current)return!1;var u=r-c.current;return!c.current||u>=n||u<0||p&&r-a.current>=A},W=function(r){return t.current=null,b&&s.current?D(r):(s.current=m.current=null,v.current)},E=function r(){var u=Date.now();if(T&&l.current===a.current&&k(),S(u))return W(u);if(R.current){var h=n-(u-c.current),q=p?Math.min(h,A-(u-a.current)):h;x(r,q)}},k=function(){o&&o({})},g=function(){if(y||M){var r=Date.now(),u=S(r);if(s.current=[].slice.call(arguments),m.current=d,c.current=r,u){if(!t.current&&R.current)return a.current=c.current,x(E,n),T?D(c.current):v.current;if(p)return x(E,n),D(c.current)}return t.current||x(E,n),v.current}};return g.cancel=function(){var r=t.current;r&&(w?cancelAnimationFrame(t.current):clearTimeout(t.current)),a.current=0,s.current=c.current=m.current=t.current=null,r&&o&&o({})},g.isPending=function(){return!!t.current},g.flush=function(){return t.current?W(Date.now()):v.current},g},[T,p,n,A,b,w,y,M,o]);return O}function P(f,n){return f===n}function z(f,n,i){var o=P,d=e.useRef(f),c=e.useState({})[1],a=C(e.useCallback(function(t){d.current=t,c({})},[c]),n,i,c),l=e.useRef(f);return o(l.current,f)||(a(f),l.current=f),[d.current,a]}export{z as a,C as c};
