import{j as p}from"./jsx-runtime-Cf8x2fCZ.js";import{u as Y,a as J,F as K}from"./index.esm-K9mStD-T.js";import{r as M}from"./index-QQMyt9Ur.js";import{f as Q}from"./full-next-B_76kGmE.js";import{B as X}from"./Button-ouo4aZ-_.js";import{I as Z,B as ee}from"./types-yVZEaApa.js";import{g as te}from"./_commonjsHelpers-CqkleIqs.js";import{T as re}from"./TextInput-C-6M7uLs.js";import"./index-yBjzXJbu.js";import"./index-B0pXE9zJ.js";import"./stroke-pass-CALgybTM.js";import"./SvgIcon-B5V96DYN.js";import"./Tooltip-Du1ylKtn.js";import"./Button.module-Md2doL54.js";import"./BaseInput-B8c5gx_3.js";import"./stroke-search-dgesjRZH.js";import"./FieldError-2mFOl_uD.js";import"./stroke-error-DSZD431a.js";import"./FieldLayoutCharacterCount-CCjrqBrG.js";import"./index.module-DTkZ18fI.js";var P={},D={},L={},E={},U;function ne(){if(U)return E;U=1,Object.defineProperty(E,"__esModule",{value:!0});function t(i,e){if(!i)throw new Error(e)}return E.default=t,E}var k;function ie(){if(k)return L;k=1;var t=L&&L.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L,"__esModule",{value:!0});const i=t(ne());function e(r){i.default(Array.isArray(r.domains),"domains must be an array"),i.default(Array.isArray(r.topLevelDomains),"topLevelDomains must be an array"),i.default(Array.isArray(r.secondLevelDomains),"secondLevelDomains must be an array"),i.default(typeof r.distanceFunction=="function","distanceFunction must be a function")}return L.default=e,L}var A={},O={},C;function ae(){if(C)return O;C=1,Object.defineProperty(O,"__esModule",{value:!0});function t(i){return encodeURI(i).replace(/%20/g," ").replace(/%25/g,"%").replace(/%5E/g,"^").replace(/%60/g,"`").replace(/%7B/g,"{").replace(/%7C/g,"|").replace(/%7D/g,"}")}return O.default=t,O}var b={},j;function oe(){if(j)return b;j=1,Object.defineProperty(b,"__esModule",{value:!0});function t(i){const{domain:e,domains:r,distanceFunction:a,threshold:n}=i;let u,o=1/0,l=null;if(!(!e||!r)){for(let d=0;d<r.length;d++){if(e===r[d])return e;u=a(e,r[d]),u<o&&(o=u,l=r[d])}if(o<=n&&l!==null)return l}}return b.default=t,b}var y={},F={},x;function le(){if(x)return F;x=1,Object.defineProperty(F,"__esModule",{value:!0});const t=/\s/;function i(a){return a.trim?a.trim():r(e(a))}function e(a){return a.trimLeft?a.trimLeft():a.replace(/^\s\s*/,"")}function r(a){if(a.trimRight)return a.trimRight();let n=a.length;for(;t.test(a.charAt(--n)););return a.slice(0,n+1)}return F.default=i,F}var N;function ue(){if(N)return y;N=1;var t=y&&y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(y,"__esModule",{value:!0});const i=t(le()),e=2;function r(a){const u=i.default(a).split("@");if(u.length<e)return!1;for(let s=0;s<u.length;s++)if(u[s]==="")return!1;let o="",l="";const d=u.pop(),m=d.split(".");if(m.length===0)return!1;if(m.length==1)l=m[0];else{o=m[0];for(let s=1;s<m.length;s++)l+=m[s]+".";l=l.substring(0,l.length-1)}return{topLevelDomain:l,secondLevelDomain:o,domain:d,address:u.join("@")}}return y.default=r,y}var V;function se(){if(V)return A;V=1;var t=A&&A.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(A,"__esModule",{value:!0});const i=t(ae()),e=t(oe()),r=t(ue());function a(n){const u=i.default(n.email.toLowerCase()),o=r.default(u);if(!o)return;const{domains:l,domainThreshold:d,distanceFunction:m,secondLevelDomains:s,topLevelDomains:_}=n;if(s&&_&&s.indexOf(o.secondLevelDomain)!==-1&&_.indexOf(o.topLevelDomain)!==-1)return;let c=e.default({domain:o.domain,domains:l,distanceFunction:m,threshold:d});if(c)return c==o.domain?void 0:{address:o.address,domain:c,full:o.address+"@"+c};const h=e.default({domain:o.secondLevelDomain,domains:s,distanceFunction:m,threshold:n.secondLevelThreshold}),v=e.default({domain:o.topLevelDomain,domains:_,distanceFunction:m,threshold:n.topLevelThreshold});if(o.domain){c=o.domain;let g=!1;if(h&&h!=o.secondLevelDomain&&(c=c.replace(o.secondLevelDomain,h),g=!0),v&&v!=o.topLevelDomain&&o.secondLevelDomain!==""&&(c=c.replace(new RegExp(o.topLevelDomain+"$"),v),g=!0),g)return{address:o.address,domain:c,full:o.address+"@"+c}}}return A.default=a,A}var q={},f={},R={},w;function de(){if(w)return R;w=1,Object.defineProperty(R,"__esModule",{value:!0});function t(i,e){if(i==null||i.length===0)return e==null||e.length===0?0:e.length;if(e==null||e.length===0)return i.length;let r=0,a=0,n=0,u=0;const o=5;for(;r+a<i.length&&r+n<e.length;){if(i.charAt(r+a)==e.charAt(r+n))u++;else{a=0,n=0;for(let l=0;l<o;l++){if(r+l<i.length&&i.charAt(r+l)==e.charAt(r)){a=l;break}if(r+l<e.length&&i.charAt(r)==e.charAt(r+l)){n=l;break}}}r++}return(i.length+e.length)/2-u}return R.default=t,R}var G;function H(){if(G)return f;G=1;var t=f&&f.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0}),f.POPULAR_TLDS=f.POPULAR_DOMAINS=f.DEFAULT_CONFIG=void 0;const i=t(de()),e=["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","optonline.net","sbcglobal.net","aol.com","aim.com","me.com","mailw.com","btinternet.com","charter.net","shaw.ca","hey.com","proton.me","pm.com","protonmail.com","zoho.com","yandex.com","titan.email"];f.POPULAR_DOMAINS=e;const r=["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","it","ru","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","net","net.au","info","biz","mil","co.jp","sg","hu","uk","sk","ar","cf","cl","cn","ga","gq","ir","ml","mx","nu","nz","ph","pl","ro","tk","tw","ua","vg","ws","xn","za","app","au","ai","biz","br","blog","cloud","club","cc","de","dev","digital","fi","finance","id","in","io","me","mobi","network","pw","so","xyz","software","to","tech"];f.POPULAR_TLDS=r;const a={domainThreshold:2,domains:e,secondLevelThreshold:2,secondLevelDomains:["yahoo","hotmail","mail","live","outlook"],topLevelThreshold:2,topLevelDomains:r,distanceFunction:i.default};return f.DEFAULT_CONFIG=a,f}var $;function ce(){if($)return q;$=1,Object.defineProperty(q,"__esModule",{value:!0});const t=H();function i(e){return{email:e.email,domains:e.domains||t.DEFAULT_CONFIG.domains,topLevelDomains:e.topLevelDomains||t.DEFAULT_CONFIG.topLevelDomains,secondLevelDomains:e.secondLevelDomains||t.DEFAULT_CONFIG.secondLevelDomains,distanceFunction:e.distanceFunction||t.DEFAULT_CONFIG.distanceFunction,domainThreshold:e.domainThreshold||t.DEFAULT_CONFIG.domainThreshold,secondLevelThreshold:e.secondLevelThreshold||t.DEFAULT_CONFIG.secondLevelThreshold,topLevelThreshold:e.topLevelThreshold||t.DEFAULT_CONFIG.topLevelThreshold,suggested:e.suggested||void 0,empty:e.suggested||void 0}}return q.default=i,q}var z;function me(){if(z)return D;z=1;var t=D&&D.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(D,"__esModule",{value:!0});const i=t(ie()),e=t(se()),r=t(ce());function a(n){const u=r.default(n);i.default(u||{});const o=e.default(u);return!o&&n.empty&&n.empty(),o&&n.suggested&&n.suggested(o),o}return D.default=a,D}var B;function fe(){return B||(B=1,function(t){var i=P&&P.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.POPULAR_TLDS=t.POPULAR_DOMAINS=t.run=void 0;const e=i(me());t.run=e.default;const r=H();Object.defineProperty(t,"POPULAR_DOMAINS",{enumerable:!0,get:function(){return r.POPULAR_DOMAINS}}),Object.defineProperty(t,"POPULAR_TLDS",{enumerable:!0,get:function(){return r.POPULAR_TLDS}});const a={run:e.default,POPULAR_DOMAINS:r.POPULAR_DOMAINS,POPULAR_TLDS:r.POPULAR_TLDS};t.default=a}(P)),P}var pe=fe();const _e=te(pe),he=["gmail.com","orange.fr","wanadoo.fr","yahoo.fr","hotmail.fr","free.fr","fnac.com","hotmail.com","outlook.fr","cultura.fr"],ve={domainThreshold:4,domains:he,secondLevelDomains:[],topLevelDomains:[]},ge=(t,i)=>{if(!i)return _e.run({...ve,email:t})?.full},W={"email-validation-error":"_email-validation-error_1btx9_1","email-validation-tip":"_email-validation-tip_1btx9_9"},T=M.forwardRef(({name:t,description:i,label:e,className:r,onApplyTip:a,maxLength:n=255,required:u,asterisk:o=!0,error:l,...d},m)=>{const[s,_]=M.useState(),c=v=>{const g=v.target.value;if(g.length>0){const S=ge(g.toString(),!!l);S?_(S):h()}d.onBlur?.(v)},h=()=>{_(null)};return p.jsxs(p.Fragment,{children:[p.jsx(re,{ref:m,label:e,name:t,description:i,autoComplete:"email",className:r,maxLength:n,required:u,asterisk:o,error:l,...d,onBlur:c}),s&&p.jsxs("div",{className:W["email-validation-error"],children:[p.jsxs("div",{className:W["email-validation-tip"],children:["Voulez-vous plutÃ´t dire ",s," ?"]}),p.jsx(X,{variant:ee.TERNARY,icon:Q,iconPosition:Z.LEFT,onClick:()=>{a(s),h()},autoFocus:!0,children:"Appliquer la modification"})]})]})});T.displayName="EmailSpellCheckInput";try{T.displayName="EmailSpellCheckInput",T.__docgenInfo={description:"",displayName:"EmailSpellCheckInput",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onApplyTip:{defaultValue:null,description:"",name:"onApplyTip",required:!0,type:{name:"(tip: string) => void"}},overrideInitialTip:{defaultValue:null,description:"",name:"overrideInitialTip",required:!1,type:{name:"string | null"}},maxLength:{defaultValue:{value:"255"},description:"",name:"maxLength",required:!1,type:{name:"number"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},asterisk:{defaultValue:{value:"true"},description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement, Element>) => void)"}}}}}catch{}const De=({children:t})=>{const i=J({defaultValues:{email:"jmclery@htomil.com"}});return p.jsx(K,{...i,children:t})},Ve={title:"@/ui-kit/forms/EmailSpellCheckInput",component:T,decorators:[t=>p.jsx(De,{children:p.jsx(t,{})})]},I={args:{name:"email",label:"Adresse email",description:"Format: email@exemple.com",error:"",required:!0,asterisk:!0},render:t=>{const{setValue:i,register:e}=Y();return p.jsx(T,{...t,...e("email"),onApplyTip:r=>{i("email",r)}})}};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  args: {
    name: 'email',
    label: 'Adresse email',
    description: 'Format: email@exemple.com',
    error: '',
    required: true,
    asterisk: true
  },
  render: args => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    const {
      setValue,
      register
    } = useFormContext<WrapperFormValues>();
    return <EmailSpellCheckInput {...args} {...register('email')} onApplyTip={tip => {
      setValue('email', tip);
    }} />;
  }
}`,...I.parameters?.docs?.source}}};const we=["Default"];export{I as Default,we as __namedExportsOrder,Ve as default};
