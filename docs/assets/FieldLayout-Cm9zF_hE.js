import{j as t}from"./jsx-runtime-Nms4Y4qS.js";import{c as g}from"./index-BpvXyOxN.js";import{r as i}from"./index-BwDkhjyp.js";import{f as M}from"./full-clear-CvNWe6Ae.js";import{B as T}from"./Button-D9ATVrwc.js";import{B as $}from"./types-DjX_gQD6.js";import{F as H}from"./FieldError-Bi9PL_lG.js";const d={"field-layout":"_field-layout_1wkhd_1","field-layout-label":"_field-layout-label_1wkhd_5","field-layout-label-container":"_field-layout-label-container_1wkhd_11","field-layout-label-break":"_field-layout-label-break_1wkhd_14","field-layout-small-label":"_field-layout-small-label_1wkhd_17","field-layout-inline":"_field-layout-inline_1wkhd_25","field-layout-content":"_field-layout-content_1wkhd_33","field-layout-footer":"_field-layout-footer_1wkhd_40","field-layout-error":"_field-layout-error_1wkhd_46","field-layout-input-description":"_field-layout-input-description_1wkhd_52","input-wrapper":"_input-wrapper_1wkhd_61","clear-button":"_clear-button_1wkhd_65","clear-button-container":"_clear-button-container_1wkhd_73","clear-button-icon":"_clear-button-icon_1wkhd_87"};function O(r,e,l){var p=this,o=i.useRef(null),a=i.useRef(0),n=i.useRef(null),s=i.useRef([]),f=i.useRef(),m=i.useRef(),q=i.useRef(r),h=i.useRef(!0);q.current=r;var x=typeof window<"u",v=!e&&e!==0&&x;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var k=!!(l=l||{}).leading,F=!("trailing"in l)||!!l.trailing,_="maxWait"in l,L="debounceOnServer"in l&&!!l.debounceOnServer,w=_?Math.max(+l.maxWait||0,e):null;i.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var j=i.useMemo(function(){var b=function(u){var c=s.current,B=f.current;return s.current=f.current=null,a.current=u,m.current=q.current.apply(B,c)},y=function(u,c){v&&cancelAnimationFrame(n.current),n.current=v?requestAnimationFrame(u):setTimeout(u,c)},V=function(u){if(!h.current)return!1;var c=u-o.current;return!o.current||c>=e||c<0||_&&u-a.current>=w},R=function(u){return n.current=null,F&&s.current?b(u):(s.current=f.current=null,m.current)},N=function u(){var c=Date.now();if(V(c))return R(c);if(h.current){var B=e-(c-o.current),I=_?Math.min(B,w-(c-a.current)):B;y(u,I)}},E=function(){if(x||L){var u=Date.now(),c=V(u);if(s.current=[].slice.call(arguments),f.current=p,o.current=u,c){if(!n.current&&h.current)return a.current=o.current,y(N,e),k?b(o.current):m.current;if(_)return y(N,e),b(o.current)}return n.current||y(N,e),m.current}};return E.cancel=function(){n.current&&(v?cancelAnimationFrame(n.current):clearTimeout(n.current)),a.current=0,s.current=o.current=f.current=n.current=null},E.isPending=function(){return!!n.current},E.flush=function(){return n.current?R(Date.now()):m.current},E},[k,_,e,w,F,v,x,L]);return j}function D(r,e){return r===e}function S(r,e){return e}function P(r,e,l){var p=D,o=i.useReducer(S,r),a=o[0],n=o[1],s=O(i.useCallback(function(m){return n(m)},[n]),e,l),f=i.useRef(r);return p(f.current,r)||(s(r),f.current=r),p(a,r)&&s.cancel(),[a,s]}const W={"field-layout-character-count":"_field-layout-character-count_1lyj9_1"};function C({count:r,maxLength:e,name:l}){const[p]=P(r,1e3);return t.jsxs(t.Fragment,{children:[t.jsxs("span",{role:"status",className:"visually-hidden",id:`field-characters-count-${l}`,children:[p," caractÃ¨res sur ",e]}),t.jsxs("span",{className:W["field-layout-character-count"],"data-testid":`counter-${l}`,"aria-hidden":!0,children:[r,"/",e]})]})}try{C.displayName="FieldLayoutCharacterCount",C.__docgenInfo={description:"",displayName:"FieldLayoutCharacterCount",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const A=({children:r,label:e,isLabelHidden:l=!1,hasLabelLineBreak:p=!0,className:o,name:a,showError:n=!1,error:s,count:f=void 0,maxLength:m=void 0,isOptional:q=!1,showMandatoryAsterisk:h=!0,smallLabel:x,hideFooter:v=!1,inline:k=!1,classNameLabel:F,classNameFooter:_,classNameInput:L,description:w,clearButtonProps:j,ErrorDetails:b})=>{const y=n&&!!s,V=f!==void 0&&m!==void 0,R=i.useId(),N=!v||y||V||!!b;return t.jsxs("div",{className:g(d["field-layout"],{[d["field-layout-small-label"]]:x,[d["field-layout-inline"]]:k},o),"data-testid":`wrapper-${a}`,children:[t.jsxs("div",{className:g(d["field-layout-label-container"],F,{"visually-hidden":l}),children:[t.jsxs("label",{className:g(d["field-layout-label"],p&&d["field-layout-label-break"]),htmlFor:a,children:[e," ",!q&&h&&"*"]}),w&&t.jsx("span",{id:`description-${a}`,"data-testid":`description-${a}`,className:d["field-layout-input-description"],children:w})]}),t.jsxs("div",{className:d["field-layout-content"],children:[t.jsxs("div",{className:g(d["input-wrapper"],L),children:[r,j&&t.jsx("div",{className:d["clear-button-container"],children:t.jsx(T,{...j,"aria-describedby":R,className:d["clear-button"],hasTooltip:!0,type:"button",icon:M,variant:$.TERNARY,children:"Supprimer"})})]}),N&&t.jsxs("div",{className:g(_,d["field-layout-footer"]),children:[t.jsx("div",{role:"alert",className:d["field-layout-error"],id:`error-details-${a}`,children:(y||!!b)&&t.jsxs(t.Fragment,{children:[y&&t.jsx(H,{name:a,children:s}),b]})}),V&&t.jsx(C,{count:f,maxLength:m,name:a})]})]})]})};try{A.displayName="FieldLayout",A.__docgenInfo={description:"",displayName:"FieldLayout",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},maxLength:{defaultValue:{value:"undefined"},description:"",name:"maxLength",required:!1,type:{name:"number"}},isLabelHidden:{defaultValue:{value:"false"},description:"",name:"isLabelHidden",required:!1,type:{name:"boolean"}},hasLabelLineBreak:{defaultValue:{value:"true"},description:"",name:"hasLabelLineBreak",required:!1,type:{name:"boolean"}},isOptional:{defaultValue:{value:"false"},description:"",name:"isOptional",required:!1,type:{name:"boolean"}},showMandatoryAsterisk:{defaultValue:{value:"true"},description:"",name:"showMandatoryAsterisk",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classNameLabel:{defaultValue:null,description:"",name:"classNameLabel",required:!1,type:{name:"string"}},classNameFooter:{defaultValue:null,description:"",name:"classNameFooter",required:!1,type:{name:"string"}},classNameInput:{defaultValue:null,description:"",name:"classNameInput",required:!1,type:{name:"string"}},filterVariant:{defaultValue:null,description:"",name:"filterVariant",required:!1,type:{name:"boolean"}},smallLabel:{defaultValue:null,description:"",name:"smallLabel",required:!1,type:{name:"boolean"}},hideFooter:{defaultValue:{value:"false"},description:"",name:"hideFooter",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},clearButtonProps:{defaultValue:null,description:"",name:"clearButtonProps",required:!1,type:{name:"(ButtonHTMLAttributes<HTMLButtonElement> & { tooltip: string; })"}},ErrorDetails:{defaultValue:null,description:"",name:"ErrorDetails",required:!1,type:{name:"ReactNode"}},showError:{defaultValue:{value:"false"},description:"",name:"showError",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},count:{defaultValue:{value:"undefined"},description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}export{A as F};
