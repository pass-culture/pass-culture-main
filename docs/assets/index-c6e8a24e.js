import{r as p,a as Sn}from"./index-76fb7be0.js";import{R as Ln}from"./index-48a71f03.js";/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}var z;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(z||(z={}));function Pn(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,a;a=t.map((b,g)=>m(b,typeof b=="string"?null:b.state,g===0?"default":void 0));let o=u(n??a.length-1),l=z.Pop,c=null;function u(b){return Math.min(Math.max(b,0),a.length-1)}function d(){return a[o]}function m(b,g,R){g===void 0&&(g=null);let T=ut(a?d().pathname:"/",b,g,R);return fe(T.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(b)),T}function w(b){return typeof b=="string"?b:Pe(b)}return{get index(){return o},get action(){return l},get location(){return d()},createHref:w,createURL(b){return new URL(w(b),"http://localhost")},encodeLocation(b){let g=typeof b=="string"?ie(b):b;return{pathname:g.pathname||"",search:g.search||"",hash:g.hash||""}},push(b,g){l=z.Push;let R=m(b,g);o+=1,a.splice(o,a.length,R),r&&c&&c({action:l,location:R,delta:1})},replace(b,g){l=z.Replace;let R=m(b,g);a[o]=R,r&&c&&c({action:l,location:R,delta:0})},go(b){l=z.Pop;let g=u(o+b),R=a[g];o=g,c&&c({action:l,location:R,delta:b})},listen(b){return c=b,()=>{c=null}}}}function M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cn(){return Math.random().toString(36).substr(2,8)}function ut(e,t,n,r){return n===void 0&&(n=null),W({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ie(t):t,{state:n,key:t&&t.key||r||Cn()})}function Pe(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ie(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k||(k={}));const Dn=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mn(e){return e.index===!0}function ct(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,o)=>{let l=[...n,o],c=typeof a.id=="string"?a.id:l.join("-");if(M(a.index!==!0||!a.children,"Cannot specify children on an index route"),M(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),Mn(a)){let u=W({},a,t(a),{id:c});return r[c]=u,u}else{let u=W({},a,t(a),{id:c,children:void 0});return r[c]=u,a.children&&(u.children=ct(a.children,t,l,r)),u}})}function Se(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ie(t):t,a=Ce(r.pathname||"/",n);if(a==null)return null;let o=Kt(e);Un(o);let l=null;for(let c=0;l==null&&c<o.length;++c)l=zn(o[c],$n(a));return l}function Tn(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Kt(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(M(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=se([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(M(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kt(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:_n(d,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let u of Jt(o.path))a(o,l,u)}),t}function Jt(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=Jt(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),a&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Un(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Bn(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fn=/^:\w+$/,An=3,jn=2,On=1,Nn=10,In=-2,Mt=e=>e==="*";function _n(e,t){let n=e.split("/"),r=n.length;return n.some(Mt)&&(r+=In),t&&(r+=jn),n.filter(a=>!Mt(a)).reduce((a,o)=>a+(Fn.test(o)?An:o===""?On:Nn),r)}function Bn(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function zn(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=kn({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d);if(!m)return null;Object.assign(r,m.params);let w=c.route;o.push({params:r,pathname:se([a,m.pathname]),pathnameBase:qn(se([a,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(a=se([a,m.pathnameBase]))}return o}function kn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Wn(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,m,w)=>{let{paramName:y,isOptional:b}=m;if(y==="*"){let R=c[w]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const g=c[w];return b&&!g?d[y]=void 0:d[y]=Vn(g||"",y),d},{}),pathname:o,pathnameBase:l,pattern:e}}function Wn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function $n(e){try{return decodeURI(e)}catch(t){return fe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vn(e,t){try{return decodeURIComponent(e)}catch(n){return fe(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ce(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kn(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ie(e):e;return{pathname:n?n.startsWith("/")?n:Jn(n,t):t,search:Hn(r),hash:Yn(a)}}function Jn(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ot(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gt(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ie(e):(a=W({},e),M(!a.pathname||!a.pathname.includes("?"),ot("?","pathname","search",a)),M(!a.pathname||!a.pathname.includes("#"),ot("#","pathname","hash",a)),M(!a.search||!a.search.includes("#"),ot("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=n;else if(r){let w=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),w.pop();a.pathname=y.join("/")}c="/"+w.join("/")}else{let w=t.length-1;if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),w-=1;a.pathname=y.join("/")}c=w>=0?t[w]:"/"}let u=Kn(a,c),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const se=e=>e.join("/").replace(/\/\/+/g,"/"),qn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hn=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class qt{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ht(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yt=["post","put","patch","delete"],Gn=new Set(Yt),Xn=["get",...Yt],Qn=new Set(Xn),Zn=new Set([301,302,303,307,308]),er=new Set([307,308]),lt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oe={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nr=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Xt="remix-router-transitions";function rr(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;M(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let i=e.detectErrorBoundary;a=s=>({hasErrorBoundary:i(s)})}else a=nr;let o={},l=ct(e.routes,a,void 0,o),c,u=e.basename||"/",d=W({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),m=null,w=new Set,y=null,b=null,g=null,R=e.hydrationData!=null,T=Se(l,e.history.location,u),F=null;if(T==null){let i=Z(404,{pathname:e.history.location.pathname}),{matches:s,route:h}=It(l);T=s,F={[h.id]:i}}let H=!T.some(i=>i.route.lazy)&&(!T.some(i=>i.route.loader)||e.hydrationData!=null),_,f={historyAction:e.history.action,location:e.history.location,matches:T,initialized:H,navigation:lt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},B=z.Pop,N=!1,P,K=!1,O=new Map,ee=null,J=!1,te=!1,X=[],be=[],$=new Map,Je=0,Me=-1,Re=new Map,oe=new Set,we=new Map,Te=new Map,le=new Set,me=new Map,pe=new Map,Ze=!1;function un(){if(m=e.history.listen(i=>{let{action:s,location:h,delta:v}=i;if(Ze){Ze=!1;return}fe(pe.size===0||v!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let x=Lt({currentLocation:f.location,nextLocation:h,historyAction:s});if(x&&v!=null){Ze=!0,e.history.go(v*-1),He(x,{state:"blocked",location:h,proceed(){He(x,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),e.history.go(v)},reset(){let C=new Map(f.blockers);C.set(x,Oe),G({blockers:C})}});return}return ge(s,h)}),n){mr(t,O);let i=()=>pr(t,O);t.addEventListener("pagehide",i),ee=()=>t.removeEventListener("pagehide",i)}return f.initialized||ge(z.Pop,f.location),_}function cn(){m&&m(),ee&&ee(),w.clear(),P&&P.abort(),f.fetchers.forEach((i,s)=>qe(s)),f.blockers.forEach((i,s)=>St(s))}function dn(i){return w.add(i),()=>w.delete(i)}function G(i,s){s===void 0&&(s={}),f=W({},f,i);let h=[],v=[];d.v7_fetcherPersist&&f.fetchers.forEach((x,C)=>{x.state==="idle"&&(le.has(C)?v.push(C):h.push(C))}),[...w].forEach(x=>x(f,{deletedFetchers:v,unstable_viewTransitionOpts:s.viewTransitionOpts,unstable_flushSync:s.flushSync===!0})),d.v7_fetcherPersist&&(h.forEach(x=>f.fetchers.delete(x)),v.forEach(x=>qe(x)))}function Ue(i,s,h){var v,x;let{flushSync:C}=h===void 0?{}:h,L=f.actionData!=null&&f.navigation.formMethod!=null&&re(f.navigation.formMethod)&&f.navigation.state==="loading"&&((v=i.state)==null?void 0:v._isRedirect)!==!0,S;s.actionData?Object.keys(s.actionData).length>0?S=s.actionData:S=null:L?S=f.actionData:S=null;let E=s.loaderData?Nt(f.loaderData,s.loaderData,s.matches||[],s.errors):f.loaderData,U=f.blockers;U.size>0&&(U=new Map(U),U.forEach((A,I)=>U.set(I,Oe)));let q=N===!0||f.navigation.formMethod!=null&&re(f.navigation.formMethod)&&((x=i.state)==null?void 0:x._isRedirect)!==!0;c&&(l=c,c=void 0),J||B===z.Pop||(B===z.Push?e.history.push(i,i.state):B===z.Replace&&e.history.replace(i,i.state));let D;if(B===z.Pop){let A=O.get(f.location.pathname);A&&A.has(i.pathname)?D={currentLocation:f.location,nextLocation:i}:O.has(i.pathname)&&(D={currentLocation:i,nextLocation:f.location})}else if(K){let A=O.get(f.location.pathname);A?A.add(i.pathname):(A=new Set([i.pathname]),O.set(f.location.pathname,A)),D={currentLocation:f.location,nextLocation:i}}G(W({},s,{actionData:S,loaderData:E,historyAction:B,location:i,initialized:!0,navigation:lt,revalidation:"idle",restoreScrollPosition:Ct(i,s.matches||f.matches),preventScrollReset:q,blockers:U}),{viewTransitionOpts:D,flushSync:C===!0}),B=z.Pop,N=!1,K=!1,J=!1,te=!1,X=[],be=[]}async function yt(i,s){if(typeof i=="number"){e.history.go(i);return}let h=dt(f.location,f.matches,u,d.v7_prependBasename,i,s==null?void 0:s.fromRouteId,s==null?void 0:s.relative),{path:v,submission:x,error:C}=Tt(d.v7_normalizeFormMethod,!1,h,s),L=f.location,S=ut(f.location,v,s&&s.state);S=W({},S,e.history.encodeLocation(S));let E=s&&s.replace!=null?s.replace:void 0,U=z.Push;E===!0?U=z.Replace:E===!1||x!=null&&re(x.formMethod)&&x.formAction===f.location.pathname+f.location.search&&(U=z.Replace);let q=s&&"preventScrollReset"in s?s.preventScrollReset===!0:void 0,D=(s&&s.unstable_flushSync)===!0,A=Lt({currentLocation:L,nextLocation:S,historyAction:U});if(A){He(A,{state:"blocked",location:S,proceed(){He(A,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),yt(i,s)},reset(){let I=new Map(f.blockers);I.set(A,Oe),G({blockers:I})}});return}return await ge(U,S,{submission:x,pendingError:C,preventScrollReset:q,replace:s&&s.replace,enableViewTransition:s&&s.unstable_viewTransition,flushSync:D})}function fn(){if(et(),G({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){ge(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}ge(B||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function ge(i,s,h){P&&P.abort(),P=null,B=i,J=(h&&h.startUninterruptedRevalidation)===!0,wn(f.location,f.matches),N=(h&&h.preventScrollReset)===!0,K=(h&&h.enableViewTransition)===!0;let v=c||l,x=h&&h.overrideNavigation,C=Se(v,s,u),L=(h&&h.flushSync)===!0;if(!C){let I=Z(404,{pathname:s.pathname}),{matches:Y,route:ae}=It(v);tt(),Ue(s,{matches:Y,loaderData:{},errors:{[ae.id]:I}},{flushSync:L});return}if(f.initialized&&!te&&sr(f.location,s)&&!(h&&h.submission&&re(h.submission.formMethod))){Ue(s,{matches:C},{flushSync:L});return}P=new AbortController;let S=Ie(e.history,s,P.signal,h&&h.submission),E,U;if(h&&h.pendingError)U={[ze(C).route.id]:h.pendingError};else if(h&&h.submission&&re(h.submission.formMethod)){let I=await hn(S,s,h.submission,C,{replace:h.replace,flushSync:L});if(I.shortCircuited)return;E=I.pendingActionData,U=I.pendingActionError,x=st(s,h.submission),L=!1,S=new Request(S.url,{signal:S.signal})}let{shortCircuited:q,loaderData:D,errors:A}=await mn(S,s,C,x,h&&h.submission,h&&h.fetcherSubmission,h&&h.replace,L,E,U);q||(P=null,Ue(s,W({matches:C},E?{actionData:E}:{},{loaderData:D,errors:A})))}async function hn(i,s,h,v,x){x===void 0&&(x={}),et();let C=fr(s,h);G({navigation:C},{flushSync:x.flushSync===!0});let L,S=ht(v,s);if(!S.route.action&&!S.route.lazy)L={type:k.error,error:Z(405,{method:i.method,pathname:s.pathname,routeId:S.route.id})};else if(L=await Ne("action",i,S,v,o,a,u),i.signal.aborted)return{shortCircuited:!0};if(Le(L)){let E;return x&&x.replace!=null?E=x.replace:E=L.location===f.location.pathname+f.location.search,await Fe(f,L,{submission:h,replace:E}),{shortCircuited:!0}}if(ke(L)){let E=ze(v,S.route.id);return(x&&x.replace)!==!0&&(B=z.Push),{pendingActionData:{},pendingActionError:{[E.route.id]:L.error}}}if(ye(L))throw Z(400,{type:"defer-action"});return{pendingActionData:{[S.route.id]:L.data}}}async function mn(i,s,h,v,x,C,L,S,E,U){let q=v||st(s,x),D=x||C||zt(q),A=c||l,[I,Y]=Ut(e.history,f,h,D,s,te,X,be,le,we,oe,A,u,E,U);if(tt(j=>!(h&&h.some(Q=>Q.route.id===j))||I&&I.some(Q=>Q.route.id===j)),Me=++Je,I.length===0&&Y.length===0){let j=xt();return Ue(s,W({matches:h,loaderData:{},errors:U||null},E?{actionData:E}:{},j?{fetchers:new Map(f.fetchers)}:{}),{flushSync:S}),{shortCircuited:!0}}if(!J){Y.forEach(Q=>{let V=f.fetchers.get(Q.key),ve=_e(void 0,V?V.data:void 0);f.fetchers.set(Q.key,ve)});let j=E||f.actionData;G(W({navigation:q},j?Object.keys(j).length===0?{actionData:null}:{actionData:j}:{},Y.length>0?{fetchers:new Map(f.fetchers)}:{}),{flushSync:S})}Y.forEach(j=>{$.has(j.key)&&ce(j.key),j.controller&&$.set(j.key,j.controller)});let ae=()=>Y.forEach(j=>ce(j.key));P&&P.signal.addEventListener("abort",ae);let{results:je,loaderResults:nt,fetcherResults:xe}=await bt(f.matches,h,I,Y,i);if(i.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ae),Y.forEach(j=>$.delete(j.key));let ne=_t(je);if(ne){if(ne.idx>=I.length){let j=Y[ne.idx-I.length].key;oe.add(j)}return await Fe(f,ne.result,{replace:L}),{shortCircuited:!0}}let{loaderData:Ye,errors:rt}=Ot(f,h,I,nt,U,Y,xe,me);me.forEach((j,Q)=>{j.subscribe(V=>{(V||j.done)&&me.delete(Q)})});let at=xt(),it=Et(Me),Ee=at||it||Y.length>0;return W({loaderData:Ye,errors:rt},Ee?{fetchers:new Map(f.fetchers)}:{})}function pn(i,s,h,v){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(i)&&ce(i);let x=(v&&v.unstable_flushSync)===!0,C=c||l,L=dt(f.location,f.matches,u,d.v7_prependBasename,h,s,v==null?void 0:v.relative),S=Se(C,L,u);if(!S){Ae(i,s,Z(404,{pathname:L}),{flushSync:x});return}let{path:E,submission:U,error:q}=Tt(d.v7_normalizeFormMethod,!0,L,v);if(q){Ae(i,s,q,{flushSync:x});return}let D=ht(S,E);if(N=(v&&v.preventScrollReset)===!0,U&&re(U.formMethod)){gn(i,s,E,D,S,x,U);return}we.set(i,{routeId:s,path:E}),vn(i,s,E,D,S,x,U)}async function gn(i,s,h,v,x,C,L){if(et(),we.delete(i),!v.route.action&&!v.route.lazy){let V=Z(405,{method:L.formMethod,pathname:h,routeId:s});Ae(i,s,V,{flushSync:C});return}let S=f.fetchers.get(i);ue(i,hr(L,S),{flushSync:C});let E=new AbortController,U=Ie(e.history,h,E.signal,L);$.set(i,E);let q=Je,D=await Ne("action",U,v,x,o,a,u);if(U.signal.aborted){$.get(i)===E&&$.delete(i);return}if(le.has(i)){ue(i,de(void 0));return}if(Le(D))if($.delete(i),Me>q){ue(i,de(void 0));return}else return oe.add(i),ue(i,_e(L)),Fe(f,D,{fetcherSubmission:L});if(ke(D)){Ae(i,s,D.error);return}if(ye(D))throw Z(400,{type:"defer-action"});let A=f.navigation.location||f.location,I=Ie(e.history,A,E.signal),Y=c||l,ae=f.navigation.state!=="idle"?Se(Y,f.navigation.location,u):f.matches;M(ae,"Didn't find any matches after fetcher action");let je=++Je;Re.set(i,je);let nt=_e(L,D.data);f.fetchers.set(i,nt);let[xe,ne]=Ut(e.history,f,ae,L,A,te,X,be,le,we,oe,Y,u,{[v.route.id]:D.data},void 0);ne.filter(V=>V.key!==i).forEach(V=>{let ve=V.key,Dt=f.fetchers.get(ve),En=_e(void 0,Dt?Dt.data:void 0);f.fetchers.set(ve,En),$.has(ve)&&ce(ve),V.controller&&$.set(ve,V.controller)}),G({fetchers:new Map(f.fetchers)});let Ye=()=>ne.forEach(V=>ce(V.key));E.signal.addEventListener("abort",Ye);let{results:rt,loaderResults:at,fetcherResults:it}=await bt(f.matches,ae,xe,ne,I);if(E.signal.aborted)return;E.signal.removeEventListener("abort",Ye),Re.delete(i),$.delete(i),ne.forEach(V=>$.delete(V.key));let Ee=_t(rt);if(Ee){if(Ee.idx>=xe.length){let V=ne[Ee.idx-xe.length].key;oe.add(V)}return Fe(f,Ee.result)}let{loaderData:j,errors:Q}=Ot(f,f.matches,xe,at,void 0,ne,it,me);if(f.fetchers.has(i)){let V=de(D.data);f.fetchers.set(i,V)}Et(je),f.navigation.state==="loading"&&je>Me?(M(B,"Expected pending action"),P&&P.abort(),Ue(f.navigation.location,{matches:ae,loaderData:j,errors:Q,fetchers:new Map(f.fetchers)})):(G({errors:Q,loaderData:Nt(f.loaderData,j,ae,Q),fetchers:new Map(f.fetchers)}),te=!1)}async function vn(i,s,h,v,x,C,L){let S=f.fetchers.get(i);ue(i,_e(L,S?S.data:void 0),{flushSync:C});let E=new AbortController,U=Ie(e.history,h,E.signal);$.set(i,E);let q=Je,D=await Ne("loader",U,v,x,o,a,u);if(ye(D)&&(D=await en(D,U.signal,!0)||D),$.get(i)===E&&$.delete(i),!U.signal.aborted){if(le.has(i)){ue(i,de(void 0));return}if(Le(D))if(Me>q){ue(i,de(void 0));return}else{oe.add(i),await Fe(f,D);return}if(ke(D)){Ae(i,s,D.error);return}M(!ye(D),"Unhandled fetcher deferred data"),ue(i,de(D.data))}}async function Fe(i,s,h){let{submission:v,fetcherSubmission:x,replace:C}=h===void 0?{}:h;s.revalidate&&(te=!0);let L=ut(i.location,s.location,{_isRedirect:!0});if(M(L,"Expected a location on the redirect navigation"),n){let A=!1;if(s.reloadDocument)A=!0;else if(Gt.test(s.location)){const I=e.history.createURL(s.location);A=I.origin!==t.location.origin||Ce(I.pathname,u)==null}if(A){C?t.location.replace(s.location):t.location.assign(s.location);return}}P=null;let S=C===!0?z.Replace:z.Push,{formMethod:E,formAction:U,formEncType:q}=i.navigation;!v&&!x&&E&&U&&q&&(v=zt(i.navigation));let D=v||x;if(er.has(s.status)&&D&&re(D.formMethod))await ge(S,L,{submission:W({},D,{formAction:s.location}),preventScrollReset:N});else{let A=st(L,v);await ge(S,L,{overrideNavigation:A,fetcherSubmission:x,preventScrollReset:N})}}async function bt(i,s,h,v,x){let C=await Promise.all([...h.map(E=>Ne("loader",x,E,s,o,a,u)),...v.map(E=>E.matches&&E.match&&E.controller?Ne("loader",Ie(e.history,E.path,E.controller.signal),E.match,E.matches,o,a,u):{type:k.error,error:Z(404,{pathname:E.path})})]),L=C.slice(0,h.length),S=C.slice(h.length);return await Promise.all([Bt(i,h,L,L.map(()=>x.signal),!1,f.loaderData),Bt(i,v.map(E=>E.match),S,v.map(E=>E.controller?E.controller.signal:null),!0)]),{results:C,loaderResults:L,fetcherResults:S}}function et(){te=!0,X.push(...tt()),we.forEach((i,s)=>{$.has(s)&&(be.push(s),ce(s))})}function ue(i,s,h){h===void 0&&(h={}),f.fetchers.set(i,s),G({fetchers:new Map(f.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function Ae(i,s,h,v){v===void 0&&(v={});let x=ze(f.matches,s);qe(i),G({errors:{[x.route.id]:h},fetchers:new Map(f.fetchers)},{flushSync:(v&&v.flushSync)===!0})}function Rt(i){return d.v7_fetcherPersist&&(Te.set(i,(Te.get(i)||0)+1),le.has(i)&&le.delete(i)),f.fetchers.get(i)||tr}function qe(i){let s=f.fetchers.get(i);$.has(i)&&!(s&&s.state==="loading"&&Re.has(i))&&ce(i),we.delete(i),Re.delete(i),oe.delete(i),le.delete(i),f.fetchers.delete(i)}function yn(i){if(d.v7_fetcherPersist){let s=(Te.get(i)||0)-1;s<=0?(Te.delete(i),le.add(i)):Te.set(i,s)}else qe(i);G({fetchers:new Map(f.fetchers)})}function ce(i){let s=$.get(i);M(s,"Expected fetch controller: "+i),s.abort(),$.delete(i)}function wt(i){for(let s of i){let h=Rt(s),v=de(h.data);f.fetchers.set(s,v)}}function xt(){let i=[],s=!1;for(let h of oe){let v=f.fetchers.get(h);M(v,"Expected fetcher: "+h),v.state==="loading"&&(oe.delete(h),i.push(h),s=!0)}return wt(i),s}function Et(i){let s=[];for(let[h,v]of Re)if(v<i){let x=f.fetchers.get(h);M(x,"Expected fetcher: "+h),x.state==="loading"&&(ce(h),Re.delete(h),s.push(h))}return wt(s),s.length>0}function bn(i,s){let h=f.blockers.get(i)||Oe;return pe.get(i)!==s&&pe.set(i,s),h}function St(i){f.blockers.delete(i),pe.delete(i)}function He(i,s){let h=f.blockers.get(i)||Oe;M(h.state==="unblocked"&&s.state==="blocked"||h.state==="blocked"&&s.state==="blocked"||h.state==="blocked"&&s.state==="proceeding"||h.state==="blocked"&&s.state==="unblocked"||h.state==="proceeding"&&s.state==="unblocked","Invalid blocker state transition: "+h.state+" -> "+s.state);let v=new Map(f.blockers);v.set(i,s),G({blockers:v})}function Lt(i){let{currentLocation:s,nextLocation:h,historyAction:v}=i;if(pe.size===0)return;pe.size>1&&fe(!1,"A router only supports one blocker at a time");let x=Array.from(pe.entries()),[C,L]=x[x.length-1],S=f.blockers.get(C);if(!(S&&S.state==="proceeding")&&L({currentLocation:s,nextLocation:h,historyAction:v}))return C}function tt(i){let s=[];return me.forEach((h,v)=>{(!i||i(v))&&(h.cancel(),s.push(v),me.delete(v))}),s}function Rn(i,s,h){if(y=i,g=s,b=h||null,!R&&f.navigation===lt){R=!0;let v=Ct(f.location,f.matches);v!=null&&G({restoreScrollPosition:v})}return()=>{y=null,g=null,b=null}}function Pt(i,s){return b&&b(i,s.map(v=>Tn(v,f.loaderData)))||i.key}function wn(i,s){if(y&&g){let h=Pt(i,s);y[h]=g()}}function Ct(i,s){if(y){let h=Pt(i,s),v=y[h];if(typeof v=="number")return v}return null}function xn(i){o={},c=ct(i,a,void 0,o)}return _={get basename(){return u},get state(){return f},get routes(){return l},get window(){return t},initialize:un,subscribe:dn,enableScrollRestoration:Rn,navigate:yt,fetch:pn,revalidate:fn,createHref:i=>e.history.createHref(i),encodeLocation:i=>e.history.encodeLocation(i),getFetcher:Rt,deleteFetcher:yn,dispose:cn,getBlocker:bn,deleteBlocker:St,_internalFetchControllers:$,_internalActiveDeferreds:me,_internalSetRoutes:xn},_}function ar(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function dt(e,t,n,r,a,o,l){let c,u;if(o){c=[];for(let m of t)if(c.push(m),m.route.id===o){u=m;break}}else c=t,u=t[t.length-1];let d=gt(a||".",Xe(c).map(m=>m.pathnameBase),Ce(e.pathname,n)||e.pathname,l==="path");return a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&u&&u.route.index&&!vt(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:se([n,d.pathname])),Pe(d)}function Tt(e,t,n,r){if(!r||!ar(r))return{path:n};if(r.formMethod&&!dr(r.formMethod))return{path:n,error:Z(405,{method:r.formMethod})};let a=()=>({path:n,error:Z(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),c=Zt(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!re(l))return a();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,g)=>{let[R,T]=g;return""+b+R+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!re(l))return a();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return a()}}}M(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=ft(r.formData),d=r.formData;else if(r.body instanceof FormData)u=ft(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=jt(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=jt(u)}catch{return a()}let m={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(re(m.formMethod))return{path:n,submission:m};let w=ie(n);return t&&w.search&&vt(w.search)&&u.append("index",""),w.search="?"+u,{path:Pe(w),submission:m}}function ir(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Ut(e,t,n,r,a,o,l,c,u,d,m,w,y,b,g){let R=g?Object.values(g)[0]:b?Object.values(b)[0]:void 0,T=e.createURL(t.location),F=e.createURL(a),H=g?Object.keys(g)[0]:void 0,f=ir(n,H).filter((N,P)=>{if(N.route.lazy)return!0;if(N.route.loader==null)return!1;if(or(t.loaderData,t.matches[P],N)||l.some(ee=>ee===N.route.id))return!0;let K=t.matches[P],O=N;return Ft(N,W({currentUrl:T,currentParams:K.params,nextUrl:F,nextParams:O.params},r,{actionResult:R,defaultShouldRevalidate:o||T.pathname+T.search===F.pathname+F.search||T.search!==F.search||Qt(K,O)}))}),B=[];return d.forEach((N,P)=>{if(!n.some(te=>te.route.id===N.routeId)||u.has(P))return;let K=Se(w,N.path,y);if(!K){B.push({key:P,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(P),ee=ht(K,N.path),J=!1;m.has(P)?J=!1:c.includes(P)?J=!0:O&&O.state!=="idle"&&O.data===void 0?J=o:J=Ft(ee,W({currentUrl:T,currentParams:t.matches[t.matches.length-1].params,nextUrl:F,nextParams:n[n.length-1].params},r,{actionResult:R,defaultShouldRevalidate:o})),J&&B.push({key:P,routeId:N.routeId,path:N.path,matches:K,match:ee,controller:new AbortController})}),[f,B]}function or(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Qt(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ft(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function At(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];M(a,"No route found in manifest");let o={};for(let l in r){let u=a[l]!==void 0&&l!=="hasErrorBoundary";fe(!u,'Route "'+a.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!u&&!Dn.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,W({},t(a),{lazy:void 0}))}async function Ne(e,t,n,r,a,o,l,c){c===void 0&&(c={});let u,d,m,w=g=>{let R,T=new Promise((F,H)=>R=H);return m=()=>R(),t.signal.addEventListener("abort",m),Promise.race([g({request:t,params:n.params,context:c.requestContext}),T])};try{let g=n.route[e];if(n.route.lazy)if(g){let R,T=await Promise.all([w(g).catch(F=>{R=F}),At(n.route,o,a)]);if(R)throw R;d=T[0]}else if(await At(n.route,o,a),g=n.route[e],g)d=await w(g);else if(e==="action"){let R=new URL(t.url),T=R.pathname+R.search;throw Z(405,{method:t.method,pathname:T,routeId:n.route.id})}else return{type:k.data,data:void 0};else if(g)d=await w(g);else{let R=new URL(t.url),T=R.pathname+R.search;throw Z(404,{pathname:T})}M(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){u=k.error,d=g}finally{m&&t.signal.removeEventListener("abort",m)}if(cr(d)){let g=d.status;if(Zn.has(g)){let F=d.headers.get("Location");if(M(F,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gt.test(F))F=dt(new URL(t.url),r.slice(0,r.indexOf(n)+1),l,!0,F);else if(!c.isStaticRequest){let H=new URL(t.url),_=F.startsWith("//")?new URL(H.protocol+F):new URL(F),f=Ce(_.pathname,l)!=null;_.origin===H.origin&&f&&(F=_.pathname+_.search+_.hash)}if(c.isStaticRequest)throw d.headers.set("Location",F),d;return{type:k.redirect,status:g,location:F,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(c.isRouteRequest)throw{type:u===k.error?k.error:k.data,response:d};let R,T=d.headers.get("Content-Type");return T&&/\bapplication\/json\b/.test(T)?R=await d.json():R=await d.text(),u===k.error?{type:u,error:new qt(g,d.statusText,R),headers:d.headers}:{type:k.data,data:R,statusCode:d.status,headers:d.headers}}if(u===k.error)return{type:u,error:d};if(ur(d)){var y,b;return{type:k.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((b=d.init)==null?void 0:b.headers)&&new Headers(d.init.headers)}}return{type:k.data,data:d}}function Ie(e,t,n,r){let a=e.createURL(Zt(t)).toString(),o={signal:n};if(r&&re(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=ft(r.formData):o.body=r.formData}return new Request(a,o)}function ft(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function jt(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function lr(e,t,n,r,a){let o={},l=null,c,u=!1,d={};return n.forEach((m,w)=>{let y=t[w].route.id;if(M(!Le(m),"Cannot handle redirect results in processLoaderData"),ke(m)){let b=ze(e,y),g=m.error;r&&(g=Object.values(r)[0],r=void 0),l=l||{},l[b.route.id]==null&&(l[b.route.id]=g),o[y]=void 0,u||(u=!0,c=Ht(m.error)?m.error.status:500),m.headers&&(d[y]=m.headers)}else ye(m)?(a.set(y,m.deferredData),o[y]=m.deferredData.data):o[y]=m.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(c=m.statusCode),m.headers&&(d[y]=m.headers)}),r&&(l=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:d}}function Ot(e,t,n,r,a,o,l,c){let{loaderData:u,errors:d}=lr(t,n,r,a,c);for(let m=0;m<o.length;m++){let{key:w,match:y,controller:b}=o[m];M(l!==void 0&&l[m]!==void 0,"Did not find corresponding fetcher result");let g=l[m];if(!(b&&b.signal.aborted))if(ke(g)){let R=ze(e.matches,y==null?void 0:y.route.id);d&&d[R.route.id]||(d=W({},d,{[R.route.id]:g.error})),e.fetchers.delete(w)}else if(Le(g))M(!1,"Unhandled fetcher revalidation redirect");else if(ye(g))M(!1,"Unhandled fetcher deferred data");else{let R=de(g.data);e.fetchers.set(w,R)}}return{loaderData:u,errors:d}}function Nt(e,t,n,r){let a=W({},t);for(let o of n){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(a[l]=t[l]):e[l]!==void 0&&o.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}return a}function ze(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function It(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Z(e,t){let{pathname:n,routeId:r,method:a,type:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&n&&r?c="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",a&&n&&r?c="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new qt(e||500,l,new Error(c),!0)}function _t(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Le(n))return{result:n,idx:t}}}function Zt(e){let t=typeof e=="string"?ie(e):e;return Pe(W({},t,{hash:""}))}function sr(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ye(e){return e.type===k.deferred}function ke(e){return e.type===k.error}function Le(e){return(e&&e.type)===k.redirect}function ur(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function cr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function dr(e){return Qn.has(e.toLowerCase())}function re(e){return Gn.has(e.toLowerCase())}async function Bt(e,t,n,r,a,o){for(let l=0;l<n.length;l++){let c=n[l],u=t[l];if(!u)continue;let d=e.find(w=>w.route.id===u.route.id),m=d!=null&&!Qt(d,u)&&(o&&o[u.route.id])!==void 0;if(ye(c)&&(a||m)){let w=r[l];M(w,"Expected an AbortSignal for revalidating fetcher deferred result"),await en(c,w,a).then(y=>{y&&(n[l]=y||n[l])})}}}async function en(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:k.data,data:e.deferredData.unwrappedData}}catch(a){return{type:k.error,error:a}}return{type:k.data,data:e.deferredData.data}}}function vt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ht(e,t){let n=typeof t=="string"?ie(t).search:t.search;if(e[e.length-1].route.index&&vt(n||""))return e[e.length-1];let r=Xe(e);return r[r.length-1]}function zt(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:o,json:l}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function st(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fr(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function _e(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hr(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function de(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mr(e,t){try{let n=e.sessionStorage.getItem(Xt);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch{}}function pr(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Xt,JSON.stringify(n))}catch(r){fe(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}const Qe=p.createContext(null),tn=p.createContext(null),De=p.createContext(null),$e=p.createContext(null),he=p.createContext({outlet:null,matches:[],isDataRoute:!1}),nn=p.createContext(null);function gr(e,t){let{relative:n}=t===void 0?{}:t;Ve()||M(!1);let{basename:r,navigator:a}=p.useContext(De),{hash:o,pathname:l,search:c}=on(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:se([r,l])),a.createHref({pathname:u,search:c,hash:o})}function Ve(){return p.useContext($e)!=null}function Ke(){return Ve()||M(!1),p.useContext($e).location}function Hr(){return p.useContext($e).navigationType}function rn(e){p.useContext(De).static||p.useLayoutEffect(e)}function an(){let{isDataRoute:e}=p.useContext(he);return e?Dr():vr()}function vr(){Ve()||M(!1);let e=p.useContext(Qe),{basename:t,navigator:n}=p.useContext(De),{matches:r}=p.useContext(he),{pathname:a}=Ke(),o=JSON.stringify(Xe(r).map(u=>u.pathnameBase)),l=p.useRef(!1);return rn(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=gt(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:se([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,a,e])}function Yr(){let{matches:e}=p.useContext(he),t=e[e.length-1];return t?t.params:{}}function on(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=p.useContext(he),{pathname:a}=Ke(),o=JSON.stringify(Xe(r).map(l=>l.pathnameBase));return p.useMemo(()=>gt(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function yr(e,t,n){Ve()||M(!1);let{navigator:r}=p.useContext(De),{matches:a}=p.useContext(he),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ke(),d;if(t){var m;let R=typeof t=="string"?ie(t):t;c==="/"||(m=R.pathname)!=null&&m.startsWith(c)||M(!1),d=R}else d=u;let w=d.pathname||"/",y=c==="/"?w:w.slice(c.length)||"/",b=Se(e,{pathname:y}),g=Er(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:se([c,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?c:se([c,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,n);return t&&g?p.createElement($e.Provider,{value:{location:We({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:z.Pop}},g):g}function br(){let e=Cr(),t=Ht(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,o)}const Rr=p.createElement(br,null);class wr extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?p.createElement(he.Provider,{value:this.props.routeContext},p.createElement(nn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xr(e){let{routeContext:t,match:n,children:r}=e,a=p.useContext(Qe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(he.Provider,{value:t},r)}function Er(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var a;if((a=n)!=null&&a.errors)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let c=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id]));c>=0||M(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((c,u,d)=>{let m=u.route.id?l==null?void 0:l[u.route.id]:null,w=null;n&&(w=u.route.errorElement||Rr);let y=t.concat(o.slice(0,d+1)),b=()=>{let g;return m?g=w:u.route.Component?g=p.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,p.createElement(xr,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(wr,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var ln=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ln||{}),Ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ge||{});function Sr(e){let t=p.useContext(Qe);return t||M(!1),t}function Lr(e){let t=p.useContext(tn);return t||M(!1),t}function Pr(e){let t=p.useContext(he);return t||M(!1),t}function sn(e){let t=Pr(),n=t.matches[t.matches.length-1];return n.route.id||M(!1),n.route.id}function Cr(){var e;let t=p.useContext(nn),n=Lr(Ge.UseRouteError),r=sn(Ge.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Dr(){let{router:e}=Sr(ln.UseNavigateStable),t=sn(Ge.UseNavigateStable),n=p.useRef(!1);return rn(()=>{n.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,We({fromRouteId:t},o)))},[e,t])}function Mr(e){let{basename:t="/",children:n=null,location:r,navigationType:a=z.Pop,navigator:o,static:l=!1}=e;Ve()&&M(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:l}),[c,o,l]);typeof r=="string"&&(r=ie(r));let{pathname:d="/",search:m="",hash:w="",state:y=null,key:b="default"}=r,g=p.useMemo(()=>{let R=Ce(d,c);return R==null?null:{location:{pathname:R,search:m,hash:w,state:y,key:b},navigationType:a}},[c,d,m,w,y,b,a]);return g==null?null:p.createElement(De.Provider,{value:u},p.createElement($e.Provider,{children:n,value:g}))}new Promise(()=>{});function Tr(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Gr(e,t){return rr({basename:t==null?void 0:t.basename,future:We({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Pn({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:e,mapRouteProperties:Tr}).initialize()}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function Ur(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Fr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ar(e,t){return e.button===0&&(!t||t==="_self")&&!Fr(e)}function pt(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function jr(e,t){let n=pt(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}const Or=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Nr=p.createContext({isTransitioning:!1}),Ir=p.createContext(new Map),_r="startTransition",kt=Sn[_r],Br="flushSync",Wt=Ln[Br];function zr(e){kt?kt(e):e()}function Be(e){Wt?Wt(e):e()}class kr{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Xr(e){let{fallbackElement:t,router:n,future:r}=e,[a,o]=p.useState(n.state),[l,c]=p.useState(),[u,d]=p.useState({isTransitioning:!1}),[m,w]=p.useState(),[y,b]=p.useState(),[g,R]=p.useState(),T=p.useRef(new Map),{v7_startTransition:F}=r||{},H=p.useCallback(P=>{F?zr(P):P()},[F]),_=p.useCallback((P,K)=>{let{deletedFetchers:O,unstable_flushSync:ee,unstable_viewTransitionOpts:J}=K;O.forEach(X=>T.current.delete(X)),P.fetchers.forEach((X,be)=>{X.data!==void 0&&T.current.set(be,X.data)});let te=n.window==null||typeof n.window.document.startViewTransition!="function";if(!J||te){ee?Be(()=>o(P)):H(()=>o(P));return}if(ee){Be(()=>{y&&(m&&m.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let X=n.window.document.startViewTransition(()=>{Be(()=>o(P))});X.finished.finally(()=>{Be(()=>{w(void 0),b(void 0),c(void 0),d({isTransitioning:!1})})}),Be(()=>b(X));return}y?(m&&m.resolve(),y.skipTransition(),R({state:P,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(c(P),d({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[n.window,y,m,T,H]);p.useLayoutEffect(()=>n.subscribe(_),[n,_]),p.useEffect(()=>{u.isTransitioning&&!u.flushSync&&w(new kr)},[u]),p.useEffect(()=>{if(m&&l&&n.window){let P=l,K=m.promise,O=n.window.document.startViewTransition(async()=>{H(()=>o(P)),await K});O.finished.finally(()=>{w(void 0),b(void 0),c(void 0),d({isTransitioning:!1})}),b(O)}},[H,l,m,n.window]),p.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,y,a.location,l]),p.useEffect(()=>{!u.isTransitioning&&g&&(c(g.state),d({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),R(void 0))},[u.isTransitioning,g]);let f=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,K,O)=>n.navigate(P,{state:K,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(P,K,O)=>n.navigate(P,{replace:!0,state:K,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),B=n.basename||"/",N=p.useMemo(()=>({router:n,navigator:f,static:!1,basename:B}),[n,f,B]);return p.createElement(p.Fragment,null,p.createElement(Qe.Provider,{value:N},p.createElement(tn.Provider,{value:a},p.createElement(Ir.Provider,{value:T.current},p.createElement(Nr.Provider,{value:u},p.createElement(Mr,{basename:B,location:a.location,navigationType:a.historyAction,navigator:f},a.initialized?p.createElement(Wr,{routes:n.routes,state:a}):t))))),null)}function Wr(e){let{routes:t,state:n}=e;return yr(t,void 0,n)}const $r=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=p.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:m,unstable_viewTransition:w}=t,y=Ur(t,Or),{basename:b}=p.useContext(De),g,R=!1;if(typeof d=="string"&&Vr.test(d)&&(g=d,$r))try{let _=new URL(window.location.href),f=d.startsWith("//")?new URL(_.protocol+d):new URL(d),B=Ce(f.pathname,b);f.origin===_.origin&&B!=null?d=B+f.search+f.hash:R=!0}catch{}let T=gr(d,{relative:a}),F=Kr(d,{replace:l,state:c,target:u,preventScrollReset:m,relative:a,unstable_viewTransition:w});function H(_){r&&r(_),_.defaultPrevented||F(_)}return p.createElement("a",mt({},y,{href:g||T,onClick:R||o?r:H,ref:n,target:u}))});var $t;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($t||($t={}));var Vt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vt||(Vt={}));function Kr(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:l,unstable_viewTransition:c}=t===void 0?{}:t,u=an(),d=Ke(),m=on(e,{relative:l});return p.useCallback(w=>{if(Ar(w,n)){w.preventDefault();let y=r!==void 0?r:Pe(d)===Pe(m);u(e,{replace:y,state:a,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[d,u,m,r,a,n,e,o,l,c])}function Zr(e){let t=p.useRef(pt(e)),n=p.useRef(!1),r=Ke(),a=p.useMemo(()=>jr(r.search,n.current?null:t.current),[r.search]),o=an(),l=p.useCallback((c,u)=>{const d=pt(typeof c=="function"?c(a):c);n.current=!0,o("?"+d,u)},[o,a]);return[a,l]}export{Qr as L,Xr as R,he as a,Yr as b,Gr as c,Zr as d,Hr as e,Ke as u};
