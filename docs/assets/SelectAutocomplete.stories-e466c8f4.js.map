{"version":3,"file":"SelectAutocomplete.stories-e466c8f4.js","sources":["../../src/ui-kit/form/SelectAutoComplete2/OptionsList/OptionsList.tsx","../../src/ui-kit/form/SelectAutoComplete2/Tags/index.tsx","../../src/ui-kit/form/SelectAutoComplete2/Toggle/Toggle.tsx","../../src/ui-kit/form/SelectAutoComplete2/SelectAutocomplete.tsx"],"sourcesContent":["import cx from 'classnames'\nimport React, { Ref } from 'react'\n\nimport { SelectOption } from 'custom_types/form'\nimport BaseCheckbox from 'ui-kit/form/shared/BaseCheckbox'\nimport baseCheckboxStyles from 'ui-kit/form/shared/BaseCheckbox/BaseCheckbox.module.scss'\n\nimport styles from './OptionsList.module.scss'\n\ninterface OptionsListProps {\n  className?: string\n  fieldName: string\n  maxHeight?: number\n  selectedValues: string | string[]\n  filteredOptions: SelectOption[]\n  setHoveredOptionIndex: (value: number | null) => void\n  listRef: Ref<HTMLUListElement>\n  hoveredOptionIndex: number | null\n  selectOption: (value: string) => void\n  multi: boolean\n}\n\nconst OptionsList = ({\n  className,\n  fieldName,\n  maxHeight,\n  selectedValues,\n  filteredOptions,\n  setHoveredOptionIndex,\n  listRef,\n  hoveredOptionIndex,\n  selectOption,\n  multi,\n}: OptionsListProps): JSX.Element => {\n  return (\n    <div\n      className={cx(styles['menu'], className)}\n      style={\n        /* istanbul ignore next: graphic variation */ maxHeight\n          ? { maxHeight }\n          : {}\n      }\n      role=\"listbox\"\n    >\n      {filteredOptions.length === 0 && (\n        <span\n          className={cx({\n            [styles['menu--no-results']]: filteredOptions.length === 0,\n          })}\n        >\n          Aucun résultat\n        </span>\n      )}\n      <ul\n        data-testid=\"list\"\n        id={`list-${fieldName}`}\n        ref={listRef}\n        role=\"listbox\"\n      >\n        {filteredOptions.map(\n          ({ value, label }: SelectOption, index: number) => {\n            const isSelected = selectedValues.includes(String(value))\n            return (\n              <li\n                aria-selected={isSelected}\n                aria-posinset={index + 1}\n                aria-setsize={filteredOptions.length}\n                className={\n                  hoveredOptionIndex === index ? styles['option-hovered'] : ''\n                }\n                data-value={value}\n                data-selected={isSelected}\n                id={`option-display-${value}`}\n                key={`option-display-${value}`}\n                onMouseEnter={() => setHoveredOptionIndex(index)}\n                role=\"option\"\n                tabIndex={-1}\n              >\n                {multi ? (\n                  <BaseCheckbox\n                    label={label}\n                    checked={isSelected}\n                    onChange={() => {\n                      selectOption(String(value))\n                    }}\n                  />\n                ) : (\n                  <span\n                    onClick={() => {\n                      selectOption(String(value))\n                    }}\n                    className={cx(\n                      baseCheckboxStyles['base-checkbox-label'],\n                      styles['label']\n                    )}\n                  >\n                    {label}\n                  </span>\n                )}\n              </li>\n            )\n          }\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default OptionsList\n","import React from 'react'\n\nimport Tag from 'ui-kit/Tag'\n\nimport styles from './Tags.module.scss'\n\ninterface TagsProps {\n  disabled: boolean\n  fieldName: string\n  optionsLabelById: Record<string, string>\n  selectedOptions: string[]\n  removeOption: (value: string) => void\n}\n\nconst Tags = ({\n  disabled,\n  fieldName,\n  optionsLabelById,\n  selectedOptions,\n  removeOption,\n}: TagsProps): JSX.Element => {\n  return (\n    <div className={styles['multi-select-autocomplete-tags']}>\n      {selectedOptions.map((value: string) => (\n        <Tag\n          key={`tag-${fieldName}-${value}`}\n          label={optionsLabelById[value]}\n          closeable={{\n            closeLabel: 'Supprimer ' + optionsLabelById[value],\n            onClose: () => {\n              removeOption(value)\n            },\n            disabled,\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default Tags\n","import React from 'react'\n\nimport strokeDownIcon from 'icons/stroke-down.svg'\nimport { SvgIcon } from 'ui-kit/SvgIcon/SvgIcon'\n\nimport styles from './Toggle.module.scss'\n\ninterface ToggleProps {\n  disabled: boolean\n  isOpen: boolean\n  toggleField: () => void\n}\n\nconst Toggle = ({\n  disabled,\n  isOpen,\n  toggleField,\n}: ToggleProps): JSX.Element => {\n  return (\n    <button\n      onClick={toggleField}\n      className={styles['dropdown-indicator']}\n      type=\"button\"\n      disabled={disabled}\n    >\n      <SvgIcon\n        src={strokeDownIcon}\n        alt={`${isOpen ? 'Masquer' : 'Afficher'} les options`}\n        width=\"20\"\n      />\n    </button>\n  )\n}\n\nexport default Toggle\n","import cx from 'classnames'\nimport { useField, useFormikContext } from 'formik'\nimport React, { KeyboardEventHandler, useEffect, useRef, useState } from 'react'\n\nimport { SelectOption } from 'custom_types/form'\nimport { getLabelString } from 'utils/getLabelString'\n\nimport { BaseInput } from '../shared'\nimport FieldLayout from '../shared/FieldLayout'\nimport { FieldLayoutBaseProps } from '../shared/FieldLayout/FieldLayout'\n\nimport OptionsList from './OptionsList'\nimport styles from './SelectAutocomplete.module.scss'\nimport Tags from './Tags'\nimport Toggle from './Toggle'\n\nexport type SelectAutocompleteProps = FieldLayoutBaseProps & {\n  disabled?: boolean\n  hideArrow?: boolean\n  hideTags?: boolean\n  isOptional?: boolean\n  maxHeight?: number\n  multi?: boolean\n  options: SelectOption[]\n  placeholder?: string\n  pluralLabel?: string\n  resetOnOpen?: boolean\n}\n\nconst SelectAutocomplete = ({\n  className,\n  disabled = false,\n  name,\n  hideArrow,\n  hideFooter = false,\n  hideTags = false,\n  inline,\n  isOptional = false,\n  label,\n  maxHeight,\n  multi = false,\n  options,\n  placeholder,\n  pluralLabel,\n  smallLabel = false,\n  resetOnOpen = true,\n  description,\n}: SelectAutocompleteProps): JSX.Element => {\n  const { setFieldTouched, setFieldValue } = useFormikContext<any>()\n\n  const [field, meta] = useField<string | string[]>(name)\n  const [searchField, searchMeta] = useField(`search-${name}`)\n\n  const [hoveredOptionIndex, setHoveredOptionIndex] = useState<number | null>(\n    null\n  )\n  const [optionsLabelById, setOptionsLabelById] = useState<\n    Record<string, string>\n  >({})\n  const containerRef = useRef<HTMLDivElement>(null)\n  const listRef = useRef<HTMLUListElement>(null)\n  const [isOpen, setIsOpen] = useState(false)\n  const [filteredOptions, setFilteredOptions] = useState(options)\n\n  useEffect(() => {\n    setFilteredOptions(options)\n  }, [options])\n\n  useEffect(() => {\n    if (isOpen && resetOnOpen && searchField.value !== '') {\n      setFieldValue(`search-${name}`, '', false)\n    }\n  }, [isOpen])\n\n  /* hashtable for the options */\n  useEffect(() => {\n    setOptionsLabelById(\n      options.reduce<Record<string, string>>((optionsById, option) => {\n        optionsById[option.value] = option.label\n        return optionsById\n      }, {})\n    )\n  }, [options])\n\n  /* istanbul ignore next */\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent): void => {\n      if (!containerRef.current?.contains(e.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n    if (containerRef.current) {\n      document.addEventListener('mousedown', handleClickOutside)\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [containerRef])\n\n  useEffect(() => {\n    const regExp = new RegExp(searchField.value, 'i')\n    setFilteredOptions(\n      options.filter(\n        option => searchField.value === '' || option.label.match(regExp)\n      )\n    )\n    setHoveredOptionIndex(null)\n  }, [searchField.value])\n\n  /* istanbul ignore next */\n  const handleKeyDown: KeyboardEventHandler<HTMLDivElement> = event => {\n    switch (event.key) {\n      case 'ArrowUp':\n        if (hoveredOptionIndex !== null) {\n          if (hoveredOptionIndex <= 0) {\n            setHoveredOptionIndex(null)\n          } else {\n            setHoveredOptionIndex(hoveredOptionIndex - 1)\n          }\n        }\n        if (!isOpen) {\n          setIsOpen(true)\n        }\n        listRef.current?.focus()\n        break\n      case 'ArrowDown':\n        if (hoveredOptionIndex === null) {\n          setHoveredOptionIndex(0)\n        } else if (hoveredOptionIndex >= filteredOptions.length - 1) {\n          setHoveredOptionIndex(filteredOptions.length - 1)\n        } else {\n          setHoveredOptionIndex(hoveredOptionIndex + 1)\n        }\n        if (!isOpen) {\n          setIsOpen(true)\n        }\n        listRef.current?.focus()\n        break\n      case 'Space':\n        openField()\n        listRef.current?.focus()\n        break\n      case 'Enter':\n        if (isOpen && hoveredOptionIndex !== null) {\n          event.preventDefault()\n          selectOption(String(filteredOptions[hoveredOptionIndex].value))\n        }\n        break\n      case 'Escape':\n        setHoveredOptionIndex(null)\n        setIsOpen(false)\n        break\n      case 'Tab':\n        setHoveredOptionIndex(null)\n        setIsOpen(false)\n        break\n      default:\n        //\n        break\n    }\n  }\n\n  const selectOption = (value: string) => {\n    let updatedSelection\n    if (multi) {\n      if (field.value.includes(value) && Array.isArray(field.value)) {\n        updatedSelection = field.value.filter(li => li !== value)\n      } else {\n        updatedSelection = [...field.value, value]\n      }\n    } else {\n      updatedSelection = value\n      setIsOpen(false)\n      setHoveredOptionIndex(null)\n      setFieldValue(`search-${name}`, optionsLabelById[updatedSelection], false)\n    }\n    setFieldValue(name, updatedSelection)\n  }\n\n  const openField = () => {\n    /* istanbul ignore next */\n    if (!isOpen) {\n      setIsOpen(true)\n    }\n    setFieldTouched(name, true)\n  }\n\n  const toggleField = () => {\n    if (isOpen) {\n      setIsOpen(false)\n      setFieldValue(`search-${name}`, '', false)\n    } else {\n      setIsOpen(true)\n    }\n    setFieldTouched(name, true)\n  }\n\n  const placeholderDisplay = Array.isArray(field.value)\n    ? placeholder ??\n      (field.value.length > 1 && pluralLabel ? pluralLabel : label)\n    : placeholder ?? optionsLabelById[field.value]\n\n  return (\n    <FieldLayout\n      className={className}\n      error={meta.error}\n      hideFooter={!hideTags && hideFooter}\n      isOptional={isOptional}\n      label={label}\n      name={`search-${name}`}\n      showError={meta.touched && !!meta.error}\n      smallLabel={smallLabel}\n      inline={inline}\n      description={description}\n    >\n      <div\n        className={cx(styles['multi-select-autocomplete-container'], className)}\n        onKeyDown={handleKeyDown}\n        ref={containerRef}\n      >\n        <BaseInput\n          {...(hoveredOptionIndex !== null && {\n            'aria-activedescendant': `option-display-${filteredOptions[hoveredOptionIndex]?.value}`,\n          })}\n          onFocus={openField}\n          placeholder={getLabelString(placeholderDisplay)}\n          style={{\n            paddingLeft: multi && field.value.length > 0 ? '2.2rem' : '1rem',\n          }}\n          className={styles['multi-select-autocomplete-placeholder-input']}\n          hasError={searchMeta.touched && !!meta.error}\n          type=\"text\"\n          disabled={disabled}\n          {...searchField}\n          aria-autocomplete=\"list\"\n          aria-controls={`list-${name}`}\n          aria-describedby={`help-${name}`}\n          aria-expanded={isOpen}\n          aria-haspopup=\"listbox\"\n          role=\"combobox\"\n        />\n        <div\n          aria-live=\"polite\"\n          aria-relevant=\"text\"\n          className={styles['visually-hidden']}\n          id={`help-${name}`}\n        >\n          {multi && `${field.value.length} options sélectionnées`}\n          {!multi &&\n            !Array.isArray(field.value) &&\n            field.value !== '' &&\n            `Option sélectionnée : ${optionsLabelById[field.value]}`}\n          {isOpen\n            ? `${filteredOptions.length} options ${\n                searchField.value === ''\n                  ? 'disponibles'\n                  : 'correspondant au texte saisi'\n              }`\n            : 'saisissez du texte pour afficher et filtrer les options'}\n        </div>\n        <select\n          hidden\n          {...(multi && { multiple: true })}\n          {...field}\n          data-testid=\"select\"\n        >\n          {options?.map(({ label, value }) => (\n            <option key={`option-${value}`} value={value}>\n              {label}\n            </option>\n          ))}\n        </select>\n        <div className={styles['field-overlay']}>\n          {!hideArrow && (\n            <Toggle\n              disabled={disabled}\n              isOpen={isOpen}\n              toggleField={toggleField}\n            />\n          )}\n          {multi && field.value.length > 0 && (\n            <div onClick={toggleField} className={styles['pellet']}>\n              {field.value.length}\n            </div>\n          )}\n          {isOpen && (\n            <OptionsList\n              className={className}\n              fieldName={name}\n              maxHeight={maxHeight}\n              selectedValues={field.value}\n              filteredOptions={filteredOptions}\n              setHoveredOptionIndex={setHoveredOptionIndex}\n              listRef={listRef}\n              hoveredOptionIndex={hoveredOptionIndex}\n              selectOption={selectOption}\n              multi={multi}\n            />\n          )}\n        </div>\n      </div>\n      {Array.isArray(field.value) && !hideTags && field.value.length > 0 && (\n        <Tags\n          disabled={disabled}\n          fieldName={name}\n          optionsLabelById={optionsLabelById}\n          selectedOptions={field.value}\n          removeOption={selectOption}\n        />\n      )}\n    </FieldLayout>\n  )\n}\n\nexport default SelectAutocomplete\n"],"names":["OptionsList","className","fieldName","maxHeight","selectedValues","filteredOptions","setHoveredOptionIndex","listRef","hoveredOptionIndex","selectOption","multi","jsxs","cx","styles","jsx","value","label","index","isSelected","BaseCheckbox","baseCheckboxStyles","Tags","disabled","optionsLabelById","selectedOptions","removeOption","Tag","Toggle","isOpen","toggleField","SvgIcon","strokeDownIcon","SelectAutocomplete","name","hideArrow","hideFooter","hideTags","inline","isOptional","options","placeholder","pluralLabel","smallLabel","resetOnOpen","description","setFieldTouched","setFieldValue","useFormikContext","field","meta","useField","searchField","searchMeta","useState","setOptionsLabelById","containerRef","useRef","setIsOpen","setFilteredOptions","useEffect","optionsById","option","handleClickOutside","e","_a","regExp","handleKeyDown","event","_b","openField","_c","updatedSelection","li","placeholderDisplay","FieldLayout","BaseInput","getLabelString","label2","SelectAutocomplete$1"],"mappings":"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"}