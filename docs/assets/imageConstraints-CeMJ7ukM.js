import{j as r}from"./jsx-runtime-Nms4Y4qS.js";import{F as c}from"./FieldError-Bi9PL_lG.js";const l={"constraint-check":"_constraint-check_zfyth_1","constraint-check-failing-constraint":"_constraint-check-failing-constraint_zfyth_13"},o=({constraints:t,failingConstraints:a,id:i})=>{const e=()=>t.map(n=>r.jsx("li",{children:a.includes(n.id)?r.jsx(c,{iconAlt:"Erreur",name:n.id,children:n.description}):n.description},n.id));return r.jsx("ul",{id:i,className:l["constraint-check"],role:"alert","aria-relevant":"additions",children:e()})};try{o.displayName="ConstraintCheck",o.__docgenInfo={description:"",displayName:"ConstraintCheck",props:{constraints:{defaultValue:null,description:"",name:"constraints",required:!0,type:{name:"Constraint[]"}},failingConstraints:{defaultValue:null,description:"",name:"failingConstraints",required:!0,type:{name:"string[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}}}catch{}const s=async t=>(window.createImageBitmap||(window.createImageBitmap=a=>new Promise(i=>{const e=document.createElement("img");e.addEventListener("load",function(){i(this)}),e.src=URL.createObjectURL(a)})),await createImageBitmap(t).catch(()=>null)),u={formats:t=>({id:"formats",description:"Formats supportés : JPG, PNG",asyncValidator:async i=>t.includes(i.type)&&await s(i)!==null}),size:t=>({id:"size",description:"Poids maximal du fichier : 10 Mo",asyncValidator:i=>Promise.resolve(i.size<=t)}),width:t=>{const a=async i=>{const e=await s(i);return e!==null&&e.width>=t};return{id:"width",description:`Largeur minimale de l’image : ${t} px`,asyncValidator:a}},height:t=>{const a=async i=>{if(!t)return!1;const e=await s(i);return e!==null&&e.height>=t};return{id:"height",description:`Hauteur minimale de l’image : ${t} px`,asyncValidator:a}}};export{o as C,s as g,u as i};
