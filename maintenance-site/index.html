<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Pass Culture - Site en cours de maintenance</title>
    <style>
      @font-face {
        font-family: "Montserrat";
        font-style: normal;
        src: local("Montserrat Regular"), local("Montserrat-Regular"),
          url("./fonts/Montserrat-Regular.woff2") format("woff2");
      }

      html,
      body {
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      body {
        padding: 20px;
        background-color: white;
        background-size: cover;
        background-position: center;
        color: #161617;
        font-family: Montserrat, "Helvetica Neue", arial, sans-serif;
      }

      h1,
      p,
      body {
        margin: 0;
      }

      h1 {
        font-size: 38px;
        font-weight: 500;
        font-style: normal;
        margin: 32px 0 16px;
      }

      p {
        font-size: 18px;
        font-weight: 600;
        line-height: 22px;
        font-style: normal;
      }

      .icon-container {
        margin-top: auto;
      }

      p,
      h1,
      .icon-container,
      div {
        text-align: center;
      }

      div {
        margin: 40px;
      }

      a.register-later {
        border: 2px solid;
        padding: 15px 30px;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        border-radius: 30px;

        text-decoration: none;
        font-weight: bold;
      }

      .from-app,
      .from-pro {
        margin: 0;
        padding: 0;
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="icon-container">
      <svg
        width="350"
        height="220"
        viewBox="0 0 150 100"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <title />
        <g fill="none" fill-rule="evenodd">
          <path d="M-23-13h197v124H-23z" />
          <path
            d="M145.453 88.455c1.03 0 1.865.84 1.865 1.878a1.872 1.872 0 01-1.865 1.88h-2.526a1.872 1.872 0 01-1.864-1.88c0-1.037.835-1.878 1.864-1.878zM62.145 4.535c19.218 0 34.802 15.595 34.802 34.839 0 2.505-.265 4.976-.784 7.384l1.603.497c4.238 1.314 6.614 5.826 5.324 10.107l-4.955 16.441c-1.298 4.305-5.813 6.752-10.092 5.462l-1.046-.324v1.168c0 4.418 3.488 8.016 7.841 8.147l.248.004H98.5c4.634 0 8.39-3.785 8.39-8.455v-3.064c0-5.052 4.064-9.148 9.077-9.148 5.014 0 9.078 4.096 9.078 9.148v5.883c0 3.113 2.504 5.636 5.593 5.636h3.171c1.03 0 1.865.841 1.865 1.879a1.872 1.872 0 01-1.865 1.879h-3.171c-5.149 0-9.322-4.206-9.322-9.394V76.74c0-2.977-2.395-5.39-5.349-5.39s-5.348 2.413-5.348 5.39v3.064c0 6.745-5.426 12.213-12.119 12.213h-3.415c-6.527 0-11.818-5.332-11.818-11.91v-2.324L82.03 77.4c-2.777-.861-4.756-3.097-5.425-5.741a2.778 2.778 0 01-.207-.04l-.15-.04a3.082 3.082 0 01-2.096-3.825l5.461-18.86c.475-1.642 2.174-2.597 3.807-2.14l.146.046c.194.065.378.148.55.246 1.982-1.728 4.753-2.455 7.448-1.711l.183.053.838.26c.42-2.048.633-4.146.633-6.274 0-17.163-13.909-31.081-31.073-31.081-17.163 0-31.072 13.918-31.072 31.08 0 2.064.2 4.1.596 6.09l.24-.075.184-.053c2.694-.744 5.466-.017 7.45 1.711.17-.098.353-.181.547-.246l.146-.046c1.633-.457 3.332.498 3.807 2.14l5.461 18.86a3.082 3.082 0 01-2.095 3.825l-.15.04c-.07.015-.139.03-.208.04-.67 2.644-2.647 4.88-5.425 5.741l-6.013 1.865c-4.279 1.29-8.794-1.157-10.092-5.462l-4.955-16.441c-1.29-4.281 1.087-8.793 5.324-10.107l2.198-.682a35.012 35.012 0 01-.744-7.2c0-19.243 15.584-34.838 34.801-34.838zm23.087 47.393l-2.235 7.416-2.9 10.012c-.13 1.975 1.09 3.849 3.046 4.456l5.95 1.845.185.053c2.257.598 4.602-.713 5.287-2.983l4.955-16.441c.695-2.305-.585-4.735-2.867-5.442l-5.957-1.848-.177-.051c-2.257-.597-4.603.713-5.287 2.983zm-46.808 0c-.684-2.27-3.03-3.58-5.286-2.983l-.178.05-5.957 1.849c-2.282.707-3.561 3.137-2.867 5.442l4.956 16.441c.684 2.27 3.029 3.58 5.286 2.983l.185-.053 5.95-1.845c1.957-.608 3.177-2.483 3.046-4.459l-2.9-10.01zm109.11 6.784a1.861 1.861 0 012.633.21 1.882 1.882 0 01-.227 2.643l-4.148 3.53 1.288.775a2.495 2.495 0 01.841 3.427c-.141.235-.32.445-.527.622l-5.27 4.485a1.861 1.861 0 01-2.633-.21 1.882 1.882 0 01.228-2.643l3.94-3.354-1.289-.774a2.468 2.468 0 01-.616-.525 2.51 2.51 0 01.303-3.524zM1.438 1.052a1.881 1.881 0 012.596.544l4.839 7.321 1.848-2.203a2.495 2.495 0 013.517-.294c.186.157.349.34.483.542l5.555 8.405a1.862 1.862 0 01-.526 2.588 1.881 1.881 0 01-2.596-.544l-4.627-7.003-1.849 2.203a2.468 2.468 0 01-.539.479 2.508 2.508 0 01-3.461-.726L.912 3.64a1.862 1.862 0 01.525-2.588z"
            fill="#6123df"
          />
        </g>
      </svg>
    </div>
    <div class="from-pro">
      <h1>Site en maintenance</h1>
      <p>Toutes nos excuses, nous revenons très vite !</p>
    </div>
    <div class="from-app">
      <h1>App en maintenance</h1>
      <p>Tu as 18 ans et tu souhaites bénéficier du pass Culture ?</p>
      <p>
        Renseigne ta date de naissance et ton email pour être averti dès notre
        retour en ligne !
      </p>
      <div>
        <a
          class="register-later"
          href="https://passculture.app/verification-eligibilite"
          >Renseigner ma date de naissance</a
        >
      </div>
    </div>
    <div class="icon-container"></div>
    <script>
      function setupRedirect() {
        const allowedDomains = new Set([
          "app.testing.passculture.team",
          "pro.testing.passculture.team",
          "app.staging.passculture.team",
          "pro.staging.passculture.team",
          "integration.passculture.app",
          "integration.passculture.pro",
          "passculture.app",
          "passculture.pro",
        ]);
        const source = new URLSearchParams(window.location.search).get(
          "source"
        );
        try {
          const sourceUrl = new URL(source);
          if (sourceUrl.protocol != "https:") {
            sourceDomain = "";
          }
          sourceDomain = sourceUrl.host;
        } catch (error) {
          sourceDomain = "";
        }

        var blockClassToShow = "from-pro";
        if (sourceDomain.match(/app/)) {
          blockClassToShow = "from-app";
        }
        const block = document.getElementsByClassName(blockClassToShow)[0];
        block.style.display = "block";

        if (!allowedDomains.has(sourceDomain)) {
          return;
        }

        const redirectToSource = () => {
          window.location.replace(source);
        };
        setTimeout(redirectToSource, 60000);
      }
      setupRedirect();
    </script>
  </body>
</html>
