<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [PcBackofficeApp][1]
    *   [Parameters][2]
    *   [Examples][3]
    *   [addons][4]
    *   [appState][5]
    *   [bindEvents][6]
        *   [Examples][7]
    *   [csrfTokenInput][8]
    *   [csrfTokenValue][9]
    *   [initialize][10]
        *   [Examples][11]
    *   [unbindEvents][12]
        *   [Examples][13]
    *   [LOCALSTORAGE\_KEY][14]
    *   [META\_CSRF\_SELECTOR][15]
*   [Core features][16]
*   [PcUtils][17]
    *   [addLoadEvent][18]
        *   [Parameters][19]
    *   [debounce][20]
        *   [Parameters][21]
*   [KeyboardKeyCode][22]
    *   [Examples][23]
*   [NonConstructableUtils][24]
    *   [Examples][25]
*   [PcEventHandler][26]
    *   [Examples][27]
    *   [off][28]
        *   [Parameters][29]
        *   [Examples][30]
    *   [on][31]
        *   [Parameters][32]
        *   [Examples][33]
    *   [one][34]
        *   [Parameters][35]
        *   [Examples][36]
    *   [trigger][37]
        *   [Parameters][38]
        *   [Examples][39]
*   [PcAddOn][40]
    *   [Parameters][41]
    *   [Examples][42]
    *   [\_preventDefault][43]
        *   [Parameters][44]
    *   [\_preventSubmitOnEnter][45]
        *   [Parameters][46]
    *   [bindEvents][47]
        *   [Examples][48]
    *   [initialize][49]
    *   [rebindEvents][50]
        *   [Examples][51]
    *   [saveState][52]
        *   [Parameters][53]
        *   [Examples][54]
    *   [unbindEvents][55]
        *   [Examples][56]
*   [Add Ons features][57]
*   [applyConfigurationOnTable][58]
*   [BsTooltips][59]
*   [getValidTarget][60]
*   [PcTableMultiSelect][61]
    *   [Examples][62]
    *   [ID][63]
*   [PcTomSelectField][64]
    *   [Examples][65]
    *   [ID][66]
*   [initializeMenu][67]
*   [PcBatchActionForm][68]
    *   [Examples][69]
*   [PcClipBoard][70]
*   [PcConfirmModal][71]
    *   [Examples][72]
*   [PcDateRangeField][73]
    *   [Examples][74]
*   [PcFieldList][75]
*   [PcFillToBottom][76]
*   [PcFilterDataset][77]
    *   [Examples][78]
*   [PcFlash][79]
*   [PcForm][80]
*   [PcFormField][81]
*   [PcFormsCheckValidity][82]
*   [PcHideOnClick][83]
*   [PcHtmxManager][84]
*   [PcOverrideCustomTextareaEnter][85]
    *   [Examples][86]
*   [PcPostalAddressAutocomplete][87]
    *   [Examples][88]
*   [PcProSearchForm][89]
*   [PcRegistrationSteps][90]
*   [PcSectionFocusOnload][91]
*   [PcSortTable][92]
*   [PcStripQueryString][93]
*   [PcSubmitFormButton][94]
*   [PcTableManager][95]
*   [PcTablePaginator][96]
    *   [HTML Configuration][97]
    *   [Data Attributes for `<table>`][98]
    *   [Data Attributes for `<td>`][99]
    *   [Examples][100]
*   [PcValidationFilters][101]
    *   [Examples][102]

## PcBackofficeApp

Creates an instance for your application entrypoint that initializes the Backoffice application.

This documentation was generated by documentation js.
See below for how to regenerate the documentation or initialize the application.

### Parameters

*   `config` **{addOns: [Array][103]<[PcAddOn][40]>}** the application configuration.

    *   `config.addOns` &#x20;

### Examples

```javascript
// Re-generate this documentation (nodejs 6+ required)
npx documentation build 'src/pcapi/static/backoffice/js/!(libs)/**' \
  --config src/pcapi/routes/backoffice/docs/jsdoc-config.yml \
  --format md \
  --sort-order alpha > src/pcapi/routes/backoffice/docs/JSDOC.md
```

```javascript
// To initialize the application, within the `<head>` of the HTML document:
const app = new BackofficeApp({
  addOns: [
    // add custom JavaScript addons here
  ],
})
```

### addons

Each application's addons instance is available from within the `app` instance through `app.addons[name]`.
You can also access the addon by setting a unique `static ID` within the addon, this is particularly useful
when you need to reference an addon from another one in order to prevent the code from breaking if the name changes.

### appState

This is the JS application state. It is used by PcAddOn and allow partial persistence of any addon state using `addon.saveState(state)`

### bindEvents

This method is automatically called on window `load` event and will run each addon's bindEvents method.
When using XHR, it can be useful to rerun the bindEvents method on XHR response after DOM modification.

#### Examples

```javascript
// To manually bind all addons
app.bindEvents()
```

```javascript
// To manually bind a specific addon
app.addons.bsTooltips.unbindEvents()
```

### csrfTokenInput

Return CSRF html input string

### csrfTokenValue

Return the current CSRF token value

### initialize

This method is automatically called on window `load` event and will run each addon's initialize method.
When using XHR, it can be useful to rerun the initialization, or initialize a specific addon.

#### Examples

```javascript
// To manually initialize all addons
app.initialize()
```

```javascript
// To manually initialize a specific addon
app.addons.bsTooltips.initialize()
```

### unbindEvents

This method is not called automatically.
It runs each addon's unbindEvents method.
When using XHR, it can be useful to run the unbindEvents method prior XHR request to edit the DOM.

#### Examples

```javascript
// To manually unbind all addons
app.unbindEvents()
```

```javascript
// To manually unbind a specific addon
app.addons.bsTooltips.unbindEvents()
```

### LOCALSTORAGE\_KEY

This static string is used as the localStorage key for the application.

### META\_CSRF\_SELECTOR

This static string is used to retrieve the current csrf token

## Core features

Those are the core features

## PcUtils

**Extends NonConstructableUtils**

This class is used to store transversal application utilities.

### addLoadEvent

Push a callback function to window\.onload

#### Parameters

*   `callback` **[function][104]** the function to be called on `window.onload`

### debounce

Debounce a function (prevents function to be called until a certain delay. Can be useful for autocompletion)

#### Parameters

*   `callback` **[function][104]** the function to debounce
*   `ms` **[number][105]** the debounce delay in milliseconds

Returns **[function][104]** the debounced function

## KeyboardKeyCode

**Extends NonConstructableUtils**

Store some useful JavaScript Keyboard events keycode statically

### Examples

```javascript
// return 13
KeyboardKeyCode.ENTER
```

## NonConstructableUtils

This abstract class is used to create new utilities.
It uses a protection to prevent using anything but static methods.

### Examples

```javascript
// To create a new utility:
class PcNewToolBox extends NonConstructableUtils {
  static doSomething() {
    return "do"
  }
}
```

```javascript
// usage
PcNewToolBox.doSomething()
// fail
new PcNewToolBox()
```

## PcEventHandler

This singleton utility class can be used to bind/unbind event in the style of `jQuery.on`/`jQuery.off`.

It is heavily inspired from Bootstrap (v5.3.0-alpha1): `dom/event-handler.js`

Original source: [https://github.com/twbs/bootstrap/blob/cf9454caa00872899215603e5e036d9a824b1b11/js/src/dom/event-handler.js][106]

As the original source, this addon is licensed as MIT.

The event will have:

*   `event.target`: the target DOM element.
*   `event.delegateTarget`: the parent DOM element that hold the bind.

Each addon must have a `bindEvents` and `unbindEvent` method,
and can have an `initialize` method which will be called on document load.

### Examples

```javascript
// We must add DOM events using PcAddOn class.
class PcLoggingOnImage extend PcAddOn {
  bindEvents() {
    // bind events
    EventHandler.on(document.body, 'click', 'img', this.#onClick)
  }

  unbindEvents() {
    // unbind events (revert)
    EventHandler.off(document.body, 'click', 'img', this.#onClick)
  }

  #onClick() {
    console.log('Image as been clicked!')
  }
}
```

### off

Read more: [https://api.jquery.com/off/#off-events-selector-data][107]

#### Parameters

*   `element` **[element][108]** the parent element to unbind from
*   `originalTypeEvent` **[string][109]** the event name to unbind
*   `handler` **[string][109]** the selector for element bind apply
*   `delegationFunction` **[function][104]** the event method to unbind

#### Examples

```javascript
EventHandler.off(document.body, 'click', '.nav-link', onNavLinkClick)
```

### on

Read more: [https://api.jquery.com/on/#on-events-selector-data][110]

#### Parameters

*   `element` **[element][108]** the parent element to apply bind
*   `event` **[string][109]** the event name to bind
*   `handler` **[string][109]** the selector for elements bind apply
*   `delegationFunction` **[function][104]** the event method to bind

#### Examples

```javascript
EventHandler.on(document.body, 'click', '.nav-link', onNavLinkClick)
```

### one

Read more: [https://api.jquery.com/one/#one-events-selector-data][111]

#### Parameters

*   `element` **[element][108]** the parent element to apply bind
*   `event` **[string][109]** the event name to bind
*   `handler` **[string][109]** the selector for element bind apply
*   `delegationFunction` **[function][104]** the event method to bind

#### Examples

```javascript
EventHandler.one(document.body, 'click', '.nav-link#something', onNavLinkClick)
```

### trigger

Read more: [https://api.jquery.com/trigger/#trigger-events-selector-data][112]

#### Parameters

*   `element` **[element][108]** DOM element to trigger event on
*   `event` **[string][109]** The event to trigger
*   `args` **any** Arguments to be passed to the event

#### Examples

```javascript
EventHandler.trigger(document.querySelectorAll('.nav-link')[2], 'click')
```

Returns **(null | [Event][113])** null if element is undefined or event is not a string, the triggered event otherwise

## PcAddOn

This abstract class can be extended to create new addon for new JavaScript features.

**It is mandatory to use it each time one needs to add JavaScript features!**

### Parameters

*   `config` **{name: [string][109], app: [PcBackofficeApp][1], addOnState: any}** the addon configuration

    *   `config.name` &#x20;
    *   `config.app` &#x20;
    *   `config.addOnState` &#x20;

### Examples

```javascript
class ExampleAddOn extend PcAddOn {
  // Unique identifier in case you need to reference this addon from another addon.
  // This is useful for preventing errors when renaming an addon.
  static ID = 'ExampleAddOnId'

  initialize() {
    // prepare the DOM if necessary
  }
  bindEvents() {
    // bind events
    EventHandler.on(document.body, 'click', this.#onClick)
  }

  unbindEvents() {
    // unbind events (revert)
    EventHandler.off(document.body, 'click', this.#onClick)
  }
}
```

```javascript
// Add it to your app addons:
const app = new PcBackofficeApp({
  addOns: [
    ExampleAddOn, // <-- This is how you mount a new addon into the application.
  ]
})
```

### \_preventDefault

This method is just a repetitive utility that prevents default event.
Can be useful to prevent code duplication between addons when you only need to prevent default event.

#### Parameters

*   `event` **[event][113]** the event

### \_preventSubmitOnEnter

This method is just a repetitive utility that prevents default event when keypress is Enter.
Can be useful to prevent code duplication between addons when you only need to prevent default event.

#### Parameters

*   `event` **[event][113]** the event

### bindEvents

This method binds addons events.
Initialization is already called on document load through instance of `PcBackofficeApp`.
It is called when event `htmx:afterRequest` is emitted, prior an XHR call.

#### Examples

```javascript
app.addons.bsTooltips.bindEvents()
```

### initialize

This method initializes the addon.
Initialization is already called on document load through instance of `PcBackofficeApp`

### rebindEvents

This method unbinds and rebinds addons events.

#### Examples

```javascript
app.addons.bsTooltips.unbindEvents()
```

### saveState

This method saves the addon's new state in localStorage

#### Parameters

*   `state` **any** the addon new state to be persisted

#### Examples

```javascript
// within the addon
this.saveState(this.state)
```

```javascript
// outside the addon
app.addons[name].saveState(newState)
```

### unbindEvents

This method unbinds addons events.
It is called when event `htmx:beforeRequest` is emitted, after an XHR call.

#### Examples

```javascript
app.addons.bsTooltips.unbindEvents()
```

## Add Ons features

Below addons are created using PcAddOn class.

## applyConfigurationOnTable

END DRAG AND DROP \*

## BsTooltips

**Extends PcAddOn**

This adds PcAddOn support for bootstrap 5 tooltips.
It works using bootstrap 5 html markup.
Read documentation: [https://getbootstrap.com/docs/5.0/components/tooltips/#examples][114]

## getValidTarget

DRAG AND DROP \*

## PcTableMultiSelect

**Extends PcAddOn**

Adds select all rows features to a table.

When rows selection change, it emit a `CustomEvent` named `pcTableMultiSelect:change` with:

*   `detail.tableMultiSelectId`: the unique identifier of the table multi select,
*   `detail.rowsIds`: the list of table entities identifier,
*   `detail.selectedRowsIds`: the list of selected identifier.

### Examples

```javascript
// create a new table multi select using HTML markup
<table data-table-multi-select-id="my-unique-id">
  <tr>
    <th><input type="checkbox" name="pc-table-multi-select-check-all"></th>
    <th>Description</th>
  </tr>
  <tr>
    <td><input type="checkbox" name="pc-table-multi-select-check-example1"></td>
    <td>Example 1</td>
    <td><input type="checkbox" name="pc-table-multi-select-check-example2"></td>
    <td>Example 2</td>
  </tr>
</table>
```

```javascript
// Example of addon which listen for selection change of any pc table multi select
class PcExample extends PcAddOn {
  bindEvents() {
    addEventListener('pcTableMultiSelect:change', this.#onUpdate)
  }

  unbindEvents() {
    removeEventListener('pcTableMultiSelect:change', this.#onUpdate)
  }

  #onUpdate(event) {
    console.log(event.detail)
  }
}
```

### ID

Unique identifier of this addon, in order to reference it from another add on

## PcTomSelectField

**Extends PcAddOn**

Configure TomSelect on a `<select />`.

We have two types of tom select instances:

1.  select field with static options,
2.  select field with dynamic options (xhr autocomplete).

> Use `multiple` HTML attribut on `<select />` if needed.

### Examples

```javascript
// select field
<select class="pc-tom-select-field">
  <option value="1">item #1</option>
  <option value="2">item #2</option>
</select>
```

```javascript
// select field with xhr autocomplete.
// In this example, our backend automatically sets data attributes, this allows the initial render to have the initialValues
<select
  class="pc-tom-select-field pc-tom-select-autocomplete-field"
  data-tomselect-autocomplete-url="/backoffice/autocomplete/offerers"
  data-tomselect-options="[{\"id\": \"84\", \"text\": \"Cin\u00e9ma - CGR (00000003800058)\"}]"
  data-tomselect-items="[\"84\"]"
></select>
```

### ID

Unique identifier of this addon, in order to reference it from another add on

## initializeMenu

MENU \*

## PcBatchActionForm

**Extends PcAddOn**

Add batch submit form to selection done using one `selectedRowsIds` within [PcTableMultiSelect][61].
.

To work, each `.btn-group` must set the following attributes:

*   `[data-toggle="pc-batch-confirm-btn-group"]`: this value is fixed,
*   `[data-toggle-id]`: this value must be a unique identifier,
*   `[data-pc-table-multi-select-id]`: this value must be a valid pc table multi select identifier,
*   `[data-input-ids-name]`: this value is used as the input name for storing `selectedIds`.

Within the `.btn-group` container, you can add as many buttons as needed, and you must set some attributes too:

*   `[data-use-confirmation-modal]`: `true` to open a modal to add a comment or `false` to submit directly, (required)
*   `[data-modal-selector]`: this value must be the modal selector that contains the form, (optional)
*   `[data-url]`: this value is required when you do not use confirmation modal (`[data-use-confirmation-modal]`) and should be the `POST` endpoint,
*   `[data-mode]`: set this attributes to `fetch` if you want to use a form data (requires a POST controller),
*   `[data-fetch-url]`: URL that renders the form, it uses `POST` with the `selectedRowsIds` from table multi select.

### Examples

```javascript
<div
  class="btn-group btn-group-sm"
  data-toggle="pc-batch-confirm-btn-group"
  data-toggle-id="table-container-user-offerer-validation-btn-group"
  data-pc-table-multi-select-id="table-container-user-offerer-validation"
  data-input-ids-name="object_ids"
>
  <button
    disabled
    type="button"
    class="btn btn-outline-primary"
    data-url="{{ url_for("backoffice_web.validation.batch_validate_user_offerer") }}"
    data-user-confirmation-modal="false"
  >
    Valider
  </button>
  <button
    disabled
    type="button"
    class="btn btn-outline-primary"
    data-use-confirmation-modal="true"
    data-modal-selector="#batch-pending-modal"
  >
    Mettre en attente
  </button>
  <button
    disabled
    type="button"
    class="btn btn-outline-primary"
    data-use-confirmation-modal="true"
    data-modal-selector="#batch-reject-modal"
  >
    Rejeter
  </button>
</div>

 {{ build_lazy_modal(url_for("backoffice_web.validation.get_batch_user_offerer_pending_form"), "batch-pending-modal", "eager") }}
 {{ build_lazy_modal(url_for("backoffice_web.validation.get_batch_reject_user_offerer_form"), "batch-reject-modal", "eager") }}
```

## PcClipBoard

**Extends PcAddOn**

JS for the macro copy\_to\_clipboard

## PcConfirmModal

**Extends PcAddOn**

Stores an input initial state and restores if modal gets dismissed.

We have two behaviors:

1.  checkbox: will store the `checked` as initial value
2.  other inputs: will store the `value` as initial value

Add `data-confirm-modal=".my-modal-123"` on your input with `.my-modal-123` being a unique class on your `.modal`.

### Examples

```javascript
<input type="checkbox" value="on" data-confirm-modal=".my-modal" />
<div class="modal my-modal">
    <!-- modal content -->
</div>
```

## PcDateRangeField

**Extends PcAddOn**

Display a date range picker.

We have a minimal set of options, to add more options, you should interface using data attributes
To read all options : [https://github.com/alumuko/vanilla-datetimerange-picker/][115]

Implemented:

*   `max_date`: if a `datetime.date` is passed, it will disable all date after `maxDate`
*   `reset_to_blank`: if `true`, cancel button will have text "Réinitialiser" and set value to empty string
*   `calendar_start_date`: if a `datetime.date` is passed, it will set calendar start date when opening calendar
*   `calendar_end_date`: if a `datetime.date` is passed, it will set calendar end date when opening calendar
*   `drops`: if `drops` is passed, il will override down drop default when opening calendar

### Examples

```javascript
from_to_date = fields.PCDateRangeField(
    "Créées entre",
    validators=(wtforms.validators.Optional(),),
    max_date=datetime.date.today(),
    reset_to_blank=False,
    calendar_start_date=datetime.date.today() - timedelta(days=60),
    calendar_end_date=datetime.date.today() - timedelta(days=30),
)
```

## PcFieldList

**Extends PcAddOn**

This addon adds support for field list (PcFieldList).

Field list can be used to add or remove new field

## PcFillToBottom

**Extends PcAddOn**

Any element with the class `pc-fill-to-bottom` will be set to a fixed size to make it fill the
space to the bottom of the screen without scroll

## PcFilterDataset

**Extends PcAddOn**

Search input that help filter element based on their dataset and then hide or show their container

On search input:

*   `data-filter-dataset`: to enable this add on (required)
*   `data-filter-context`: selector if you want to target a specific context (default `document.body`)
*   `data-fields`: dataset fields used for filtering
*   `data-on`: selector on which to read dataset on (required)
*   `data-normalise`: set to `true` if you want to ignore accent
*   `data-ignore-case`: set to `true` if you want to ignore case
*   `data-exact`: set to `true` if you want an exact match

Each element targeted with `data-on` must have a parent that contains the required class `pc-filter-dataset`.
This element will hide/show depending on search result.

### Examples

```javascript
<div class="some-container">
  <form class="input-group my-3 px-1">
    <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
    <input type="text"
           class="form-control col-8 border-start-0"
           name="q"
           value=""
           data-filter-dataset
           data-fields="name,description"
           data-on="input[type='checkbox']"
           data-filter-context=".some-container"
           data-normalize="true"
           data-ignore-case="true"
           data-exact="false"
           aria-describedby="search-icon"
           placeholder="Ex : Gérer les offres, ..."/>
    <button class="btn btn-outline-dark" type="reset" title="supprimer le filtre"><i class="bi bi-x"></i></button>
  </form>
  <div class="pc-filter-dataset">
      <input type="checkbox" value="foo" name="example" data-description="foo" />
  </div>
 <div class="pc-filter-dataset">
      <input type="checkbox" value="bar" name="example" data-description="bar" />
  </div>
<div>
```

## PcFlash

**Extends PcAddOn**

JS to handle flash messages:

*   refresh flash messages after each htmx request
*   remove flash message when they timeout

## PcForm

**Extends PcAddOn**

This adds PcAddOn forbit to do multiple validations on the same form.
To opt out of the behavior add the class "pc-multiple-submit" to your form.

## PcFormField

**Extends PcAddOn**

This addon adds support for form field (PcFormField).

Form fields can be used to group multiple fields into one.

## PcFormsCheckValidity

**Extends PcAddOn**

This edits the  default `submit` event on forms.
It internally runs `form.checkValidity()` first and aborts in case of invalid form.

The add on also include a fix for tom select js to support `readonly` attribute.

> There is no markup necessary as this selects all `<form />`

## PcHideOnClick

**Extends PcAddOn**

Hides a link on click and shows a sibling block instead

## PcHtmxManager

**Extends PcAddOn**

JS to handle htmx interactions while waiting for backend's response:

*   refresh tom select inside newly loaded forms
*   display loader spinner while loading distant content

## PcOverrideCustomTextareaEnter

**Extends PcAddOn**

This class tricks the default event of a `<textarea />` by submitting the form on <kbd>ENTER</kbd>,
and goes to the next line on <kbd>CTRL</kbd>+<kbd>ENTER</kbd> or <kbd>SHIFT</kbd>+<kbd>ENTER</kbd>.

### Examples

```javascript
<textarea class="pc-override-custom-textarea-enter"></textarea>
```

## PcPostalAddressAutocomplete

**Extends PcAddOn**

Renders a postal address autocomplete that fills values in hidden inputs.

It can be used when declaring form fields in the backend using `fields.PcPostalAddressAutocomplete`.

> There is no HTML markup example as it uses a wtforms fields: `postal_address_autocomplete.html`

### Examples

```javascript
// We declare a field mapping to tell what field the autocomplete must set.
// None of them are mandatory, however, you must choose one so your autocomplete can submit something to the backend.

postal_address_autocomplete = fields.PcPostalAddressAutocomplete(
  "Adresse",
  street="street", // the name of your address field within your form, for its autocomplete to work
  banId="banId" // the unique id in the National Address Database (Base d'Adresses Nationale)
  inseeCode="inseeCode" // the code of the city (or code INSEE) in the National Address Database (Base d'Adresses Nationale)
  city="city", // the name of your city field within your form, for its autocomplete to work
  postalCode="postalCode", // the name of your postalCode field within your form, for its autocomplete to work
  latitude="latitude", // the name of your latitude field within your form, for its autocomplete to work
  longitude="longitude", // the name of your longitude field within your form, for its autocomplete to work
  required=True, // if True, it will add the required attribute to autocomplete the input (default: false)
  hasReset=True, // if True, it will add a reset-to-initial-values button (default: false)
  hasManualEditing=True, // if True, it will propose manual edition (default: false)
  limit=10, // limit of autocomplete choices (default: 10)
)
// Below are the hidden fields, you can decide to add form validators to them.
street = fields.PCOptHiddenField("street") // if selected in the autocomplete, it will be filled in the form
city = fields.PCOptHiddenField("Ville") // if selected in the autocomplete, it will be filled in the form
postalCode = fields.PCOptPostalCodeHiddenField("Code postal") // if selected in the autocomplete, it will be filled in the form
latitude = fields.PCOptHiddenField("Latitude") // if selected in the autocomplete, it will be filled in the form
longitude = fields.PCOptHiddenField("Longitude") // if selected in the autocomplete, it will be filled in the form
```

## PcProSearchForm

**Extends PcAddOn**

Enables or disables departments filter depending on selected pro type.

## PcRegistrationSteps

**Extends PcAddOn**

Add control over the user registration stepper:

*   show step content when available
*   animate progress to active step

Macro template for this addon can be found in `src/pcapi/routes/backoffice/templates/components/public_accounts/registration_steps.html`

## PcSectionFocusOnload

**Extends PcAddOn**

Set focus on designated section on page load when having scrollspy navbars (details pages)

## PcSortTable

**Extends PcAddOn**

JS for sorting tables in front
This plugin works with the `sortable_column` macro\`

## PcStripQueryString

**Extends PcAddOn**

Strips query string from the location bar when the page is displayed.
This is useful for the end-user to copy a clean string without form parameter and without data used to log
backoffice analytics about search performance.

## PcSubmitFormButton

**Extends PcAddOn**

This add-on allows to a designated button to submit a form given its name
It's generally used to submit hidden forms

## PcTableManager

**Extends PcAddOn**

Manage tables to make them dynamic

## PcTablePaginator

**Extends PcAddOn**

Adds client-side pagination, search, and filtering capabilities to an HTML table.
The addon automatically scans the table rows, generates pagination controls, and
handles row visibility based on the current page and active search criteria.

It is configured using data attributes on the table and its cells.

***

### HTML Configuration

*   **`.pc-table-paginator`**: The required class to activate the addon on a `<table>`.
*   **`id`**: The table must have a unique `id`.

### Data Attributes for `<table>`

*   `data-pc-items-per-page`: (Optional) Number of rows to display per page. **Default: `20`**.
*   `data-pc-max-visible-pages`: (Optional) The maximum number of page links to display in the pagination control. **Default: `20`**.
*   `data-pc-show-total-count`: (Optional) If set to `"true"`, displays a "X résultats" count above the table.
*   `data-pc-search-container-id`: (Optional) The `id` of an element that contains search controls (`input[type="text"]` and `select`).

### Data Attributes for `<td>`

*   `data-search-key`: To make a column searchable, add this attribute to its `<td>` elements.
    The value must match an `<option>` value in the filter `select`.

***

### Examples

```javascript
<div id="linked-offer-search-controls">
  <input type="text"
         class="form-control"
         id="search-linked-offers"
         placeholder="Rechercher dans les offres liées..." />
  <select class="form-select form-control value-element-form" id="filter-select-linked-offer">
    <option value="all">Filtrer sur tous les champs</option>
    <option value="id">ID</option>
    <option value="name">Nom</option>
    <option value="venue">Partenaire culturel</option>
    <option value="status">Statut</option>
    <option value="dateCreated">Date de création</option>
  </select>
</div>

<table id="offers-table"
       class="table table-borderless table-hover pc-table-paginator d-none"
       data-pc-items-per-page="20"
       data-pc-max-visible-pages="20"
       data-pc-show-total-count="true"
       data-pc-search-container-id="linked-offer-search-controls">
  <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>Nom</th>
      <th>Partenaire culturel</th>
      <th>Statut</th>
      <th>Date de création</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-search-key="id">1</td>
      <td data-search-key="name">Offre 1</td>
      <td data-search-key="venue">Partenaire culturel</td>
      <td data-search-key="status">Épuisée</td>
      <td data-search-key="dateCreated">2025/06/12</td>
    </tr>
  </tbody>
</table>
```

## PcValidationFilters

**Extends PcAddOn**

Addon to add filters toggling using a button and make their state persistent.

### Examples

```javascript
<div class="table-example" data-toggle="filters" data-toggle-id="something-unique">
  <button type="button" class="filters-toggle-button" disabled>Chargement...</button>
  <div class="filters-container">
     <!-- add your filters here -->
  </div>
</div>
```

[1]: #pcbackofficeapp

[2]: #parameters

[3]: #examples

[4]: #addons

[5]: #appstate

[6]: #bindevents

[7]: #examples-1

[8]: #csrftokeninput

[9]: #csrftokenvalue

[10]: #initialize

[11]: #examples-2

[12]: #unbindevents

[13]: #examples-3

[14]: #localstorage_key

[15]: #meta_csrf_selector

[16]: #core-features

[17]: #pcutils

[18]: #addloadevent

[19]: #parameters-1

[20]: #debounce

[21]: #parameters-2

[22]: #keyboardkeycode

[23]: #examples-4

[24]: #nonconstructableutils

[25]: #examples-5

[26]: #pceventhandler

[27]: #examples-6

[28]: #off

[29]: #parameters-3

[30]: #examples-7

[31]: #on

[32]: #parameters-4

[33]: #examples-8

[34]: #one

[35]: #parameters-5

[36]: #examples-9

[37]: #trigger

[38]: #parameters-6

[39]: #examples-10

[40]: #pcaddon

[41]: #parameters-7

[42]: #examples-11

[43]: #_preventdefault

[44]: #parameters-8

[45]: #_preventsubmitonenter

[46]: #parameters-9

[47]: #bindevents-1

[48]: #examples-12

[49]: #initialize-1

[50]: #rebindevents

[51]: #examples-13

[52]: #savestate

[53]: #parameters-10

[54]: #examples-14

[55]: #unbindevents-1

[56]: #examples-15

[57]: #add-ons-features

[58]: #applyconfigurationontable

[59]: #bstooltips

[60]: #getvalidtarget

[61]: #pctablemultiselect

[62]: #examples-16

[63]: #id

[64]: #pctomselectfield

[65]: #examples-17

[66]: #id-1

[67]: #initializemenu

[68]: #pcbatchactionform

[69]: #examples-18

[70]: #pcclipboard

[71]: #pcconfirmmodal

[72]: #examples-19

[73]: #pcdaterangefield

[74]: #examples-20

[75]: #pcfieldlist

[76]: #pcfilltobottom

[77]: #pcfilterdataset

[78]: #examples-21

[79]: #pcflash

[80]: #pcform

[81]: #pcformfield

[82]: #pcformscheckvalidity

[83]: #pchideonclick

[84]: #pchtmxmanager

[85]: #pcoverridecustomtextareaenter

[86]: #examples-22

[87]: #pcpostaladdressautocomplete

[88]: #examples-23

[89]: #pcprosearchform

[90]: #pcregistrationsteps

[91]: #pcsectionfocusonload

[92]: #pcsorttable

[93]: #pcstripquerystring

[94]: #pcsubmitformbutton

[95]: #pctablemanager

[96]: #pctablepaginator

[97]: #html-configuration

[98]: #data-attributes-for-table

[99]: #data-attributes-for-td

[100]: #examples-24

[101]: #pcvalidationfilters

[102]: #examples-25

[103]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[104]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[105]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[106]: https://github.com/twbs/bootstrap/blob/cf9454caa00872899215603e5e036d9a824b1b11/js/src/dom/event-handler.js

[107]: https://api.jquery.com/off/#off-events-selector-data

[108]: https://developer.mozilla.org/docs/Web/API/Element

[109]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[110]: https://api.jquery.com/on/#on-events-selector-data

[111]: https://api.jquery.com/one/#one-events-selector-data

[112]: https://api.jquery.com/trigger/#trigger-events-selector-data

[113]: https://developer.mozilla.org/docs/Web/API/Event

[114]: https://getbootstrap.com/docs/5.0/components/tooltips/#examples

[115]: https://github.com/alumuko/vanilla-datetimerange-picker/
