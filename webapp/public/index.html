<!DOCTYPE html>
<html lang="fr" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, shrink-to-fit=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-itunes-app" content="app-id=1557887412">
  <meta name="google-play-app" content="app-id=app.passculture.webapp">
  <meta name="version" content="%VERSION%">
  <link rel="android-touch-icon" href="./favicon.ico">
  <% if (process.env.NODE_ENV === 'development') { %>
    <meta http-equiv="Content-Security-Policy"
      content="default-src 'self' blob: data: https: http: gap://ready 'unsafe-inline'; connect-src 'self' https: http: ws://*:3000 wss://*:3000">
  <% } else { %>
    <meta http-equiv="Content-Security-Policy"
      content="default-src 'self' blob: data: https: http: gap://ready 'unsafe-inline'; connect-src 'self' https: http: ">
  <% } %>
  <link rel="manifest" href="/manifest.json">
  <link rel="shortcut icon" href="/manifest-icons/app-icon-iphone.png">
  <link rel="apple-touch-icon" href="/manifest-icons/app-icon-iphone@3x.png">
  <!--  Apple does not support manifest.json, so we need to add one image/device resolution to have a working splash screen on iOS devices -->
  <link href="/iosSplashscreens/iphone5_splash.png"
    media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/iphone6_splash.png"
    media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/iphoneplus_splash.png"
    media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/iphonex_splash.png"
    media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/iphonexr_splash.png"
    media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/iphonexsmax_splash.png"
    media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/ipad_splash.png"
    media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/ipadpro1_splash.png"
    media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/ipadpro3_splash.png"
    media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <link href="/iosSplashscreens/ipadpro2_splash.png"
    media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"
    rel="apple-touch-startup-image" />
  <title>pass Culture</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-706346995"></script>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/fr_FR/sdk.js"></script>
  <script>
    // Snapchat
    (function (e, t, n) {
      if (e.snaptr) return;
      var a = e.snaptr = function () { a.handleRequest ? a.handleRequest.apply(a, arguments) : a.queue.push(arguments) };
      a.queue = [];
      var s = 'script';
      r = t.createElement(s);
      r.async = !0;
      r.src = n;
      var u = t.getElementsByTagName(s)[0];
      u.parentNode.insertBefore(r, u);
    })(window, document, 'https://sc-static.net/scevent.min.js');
    snaptr('init', '2de6998a-feb8-4b7a-aac0-f380a4af8494', { 'user_email': 'dev@passculture.app' });

    // Facebook
    !function (f, b, e, v, n, t, s) {
      if (f.fbq) return;
      n = f.fbq = function () { n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments) };
      if (!f._fbq) f._fbq = n;
      n.push = n;
      n.loaded = !0;
      n.version = '2.0';
      n.queue = [];
      t = b.createElement(e);
      t.async = !0;
      t.src = v;
      s = b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t, s)
    }(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '2715078098585151');

    // Facebook SDK
    window.fbAsyncInit = function () {
      FB.init({
        appId: '1015703662289710',
        autoLogAppEvents: true,
        xfbml: true,
        version: 'v8.0',
      });
    };

    // Google Ads
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'AW-706346995');

    // Appelé au clic sur le lien "Créer un compte"
    function gtag_report_conversion() {
      gtag('event', 'conversion', {
        'send_to': 'AW-706346995/DqoNCLOZ4bgBEPP_59AC',
      });

      return false;
    }

    var _paq = window._paq || [];
    // Code CNIL
    _paq.push([function () {
      var self = this;
      function getOriginalVisitorCookieTimeout() {
        var now = new Date(),
          nowTs = Math.round(now.getTime() / 1000),
          visitorInfo = self.getVisitorInfo();
        var createTs = parseInt(visitorInfo[2]);
        var cookieTimeout = 33696000; // 13 mois en secondes
        var originalTimeout = createTs + cookieTimeout - nowTs;
        return originalTimeout;
      }
      this.setVisitorCookieTimeout(getOriginalVisitorCookieTimeout());
    }]);
    // FIN du code CNIL
    _paq.push(['enableLinkTracking']);
    (function () {
      var u = "%MATOMO_SERVER_URL%";
      _paq.push(['setTrackerUrl', u + 'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
      g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
    })();
  </script>
</head>

<body>
  <script>
    // prevent bounce in ios
    // http://blog.lazd.net/iNoBounce/
    ;
    (function (global) {
      var startY = 0
      var enabled = false
      var supportsPassiveOption = false
      try {
        var opts = Object.defineProperty({}, 'passive', {
          get: function () {
            supportsPassiveOption = true
          },
        })
        window.addEventListener('test', null, opts)
      } catch (e) { }
      var handleTouchmove = function (evt) {
        var el = evt.target
        while (el !== document.body && el !== document) {
          var style = window.getComputedStyle(el)
          if (!style) {
            break
          }
          if (el.nodeName === 'INPUT' && el.getAttribute('type') === 'range') {
            return
          }
          var scrolling = style.getPropertyValue('-webkit-overflow-scrolling')
          var overflowY = style.getPropertyValue('overflow-y')
          var height = parseInt(style.getPropertyValue('height'), 10)
          var isScrollable =
            scrolling === 'touch' &&
            (overflowY === 'auto' || overflowY === 'scroll')
          var canScroll = el.scrollHeight > el.offsetHeight
          if (isScrollable && canScroll) {
            var curY = evt.touches ? evt.touches[0].screenY : evt.screenY
            var isAtTop = startY <= curY && el.scrollTop === 0
            var isAtBottom =
              startY >= curY && el.scrollHeight - el.scrollTop === height
            if (isAtTop || isAtBottom) {
              evt.preventDefault()
            }
            return
          }
          el = el.parentNode
        }
        evt.preventDefault()
      }
      var handleTouchstart = function (evt) {
        startY = evt.touches ? evt.touches[0].screenY : evt.screenY
      }
      var enable = function () {
        window.addEventListener(
          'touchstart',
          handleTouchstart,
          supportsPassiveOption ? {
            passive: false
          } : false
        )
        window.addEventListener(
          'touchmove',
          handleTouchmove,
          supportsPassiveOption ? {
            passive: false
          } : false
        )
        enabled = true
      }
      var disable = function () {
        window.removeEventListener('touchstart', handleTouchstart, false)
        window.removeEventListener('touchmove', handleTouchmove, false)
        enabled = false
      }
      var isEnabled = function () {
        return enabled
      }
      var testDiv = document.createElement('div')
      document.documentElement.appendChild(testDiv)
      testDiv.style.WebkitOverflowScrolling = 'touch'
      var scrollSupport =
        'getComputedStyle' in window &&
        window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch'
      document.documentElement.removeChild(testDiv)
      if (scrollSupport) {
        enable()
      }
      var iNoBounce = {
        enable: enable,
        disable: disable,
        isEnabled: isEnabled
      }
      if (typeof module !== 'undefined' && module.exports) {
        module.exports = iNoBounce
      }
      if (typeof global.define === 'function') {
        ;
        (function (define) {
          define('iNoBounce', [], function () {
            return iNoBounce
          })
        })(global.define)
      } else {
        global.iNoBounce = iNoBounce
      }
    })(this)
  </script>
  <noscript>pass Culture a besoin de JavaScript pour fonctionner.</noscript>
  <div id="root"></div>
  <!-- FIREBASE -->
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>

  <!-- FIREBASE END -->
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyBxM45upNMn16FudtiSj5kOzvUU-HV5Bqs",
      authDomain: "pass-culture-webapp.firebaseapp.com",
      databaseURL: "https://pass-culture-webapp.firebaseio.com",
      projectId: "pass-culture-webapp",
      storageBucket: "pass-culture-webapp.appspot.com",
      messagingSenderId: "559893740542",
      appId: "%FIREBASE_APP_ID%",
      measurementId: "%FIREBASE_MEASUREMENT_ID%"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
  </script>
</body>
</html>
