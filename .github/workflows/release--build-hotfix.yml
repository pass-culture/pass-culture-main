name: "[Deployment] Create a hotfix release"

on:
  workflow_dispatch:
    inputs:
      releaseNumber:
        description: "Numéro de la release à hotfix (ex: 200)"
        required: true
        type: string

      releaseVersion:
        description: "Nom du hotfix (ex: 200.2)"
        required: true
        type: string

jobs:
  build-and-tag-version:
    name: Build and tag version
    uses: ./.github/workflows/reusable--build-and-tag.yml
    secrets: inherit
    with:
      base_ref: maint/v${{ github.event.inputs.releaseNumber }}
      tag_number: ${{ github.event.inputs.releaseVersion }}
      base_ref_is_a_branch: true
